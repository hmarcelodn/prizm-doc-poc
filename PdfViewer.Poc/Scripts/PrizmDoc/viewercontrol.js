var IPCC=IPCC||{};IPCC.Type=IPCC.Type||{};IPCC.Type.prototype=IPCC.Type.prototype||Object.prototype;IPCC.Type.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};IPCC.Sys=IPCC.Sys||{};IPCC.Sys.UI=IPCC.Sys.UI||{};IPCC.Sys.UI.Control=IPCC.Sys.UI.Control||{};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.initializePageViewPlugin=function(Hq,TI){var pO=TI.handleTouchEvents!==false;var OH=new IPCC.Web.UI.PageView(Hq,pO);if(TI){IPCC.ahf(OH,TI);}OH.pE(Hq);OH.initialize();return OH;};IPCC.initializePageListPlugin=function(Hq,aa){var Qk=new IPCC.PageList(Hq);if(aa){IPCC.ahf(Qk,aa);}Qk.pE(Hq);Qk.initialize();return Qk;};IPCC.Web.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};IPCC.Web.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var OE in baseType.prototype){if(baseType.prototype.hasOwnProperty(OE)){var aGj=baseType.prototype[OE];if(!this.prototype[OE]){this.prototype[OE]=aGj;}}}}return this;};IPCC.Web.aFZ=function(acU,YS,agZ){if(YS){if(!agZ){YS.apply(acU);}else{YS.apply(acU,agZ);}}return acU;};IPCC.Web.UI.DebugErrorLevel=function(){};IPCC.Web.UI.DebugErrorLevel.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.DebugErrorLevel.prototype={Production:0,Development:1,Detailed:2};IPCC.Web.UI.DebugErrorLevel.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);IPCC.Web.UI.DebugItemCause=function(){};IPCC.Web.UI.DebugItemCause.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.DebugItemCause.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};IPCC.Web.UI.DebugItemCause.registerEnum('IPCC.Web.UI.DebugItemCause',false);IPCC.Web.UI.MouseButton=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};IPCC.Web.UI.MouseButton.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseButton.prototype={leftButton:0,middleButton:1,rightButton:2};IPCC.Web.UI.MouseButton.registerEnum("IPCC.Web.UI.MouseButton");IPCC.Web.UI.Key=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};IPCC.Web.UI.Key.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Key.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};IPCC.Web.UI.Key.registerEnum("IPCC.Web.UI.Key");IPCC.Web.UI.aT=function(arD){var bi=arD;var anw=this.type=bi.type.toLowerCase();var Si=typeof bi.changedTouches!=='undefined';this.rawEvent=bi;this.altKey=bi.altKey;if(typeof(bi.button)!=='undefined'){this.button=(typeof(bi.which)!=='undefined')?bi.button:(bi.button===4)?IPCC.Web.UI.MouseButton.middleButton:(bi.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(anw==='keypress'){this.charCode=bi.charCode||bi.keyCode;}else if(bi.keyCode&&(bi.keyCode===46)){this.keyCode=127;}else{this.keyCode=bi.keyCode;}this.clientX=(Si)?bi.changedTouches[0].clientX:bi.clientX;this.clientY=(Si)?bi.changedTouches[0].clientY:bi.clientY;this.ctrlKey=bi.ctrlKey;this.target=bi.target?bi.target:bi.srcElement;function avn(bn){var aF=0;var ey=0;while(bn&& !isNaN(bn.offsetLeft)&& !isNaN(bn.offsetTop)){aF+=bn.offsetLeft-bn.scrollLeft;ey+=bn.offsetTop-bn.scrollTop;if(bn.offsetparent){bn=bn.offsetParent;}else{bn=bn.parentNode;}}return{top:ey,left:aF};};var fM=""+anw;var yd='key';if(fM.substr(0,yd.length)!==yd){if((typeof(bi.offsetX)!=='undefined')&&(typeof(bi.offsetY)!=='undefined')){this.offsetX=bi.offsetX;this.offsetY=bi.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(bi.clientX)==='number')){var Jg=avn(this.target);var dv=this.target;var dO=dv.ownerDocument||dv.document||dv;var kB=dO.defaultView||dO.parentWindow;this.offsetX=(kB.pageXOffset||0)+bi.clientX-Jg.left;this.offsetY=(kB.pageYOffset||0)+bi.clientY-Jg.top;}}this.screenX=(Si)?bi.changedTouches[0].screenX:bi.screenX;this.screenY=(Si)?bi.changedTouches[0].screenY:bi.screenY;this.shiftKey=bi.shiftKey;};IPCC.Web.UI.aT.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};IPCC.Web.UI.aT.registerClass=IPCC.Web.regClass;IPCC.Web.UI.aT.registerClass('IPCC.Web.UI.aT');IPCC.ahf=function(dR,ni){var NN;for(var cV in ni){if(ni.hasOwnProperty(cV)){var dA=ni[cV];var auE=dR["get_"+cV];var aco=dR["set_"+cV];if(typeof(aco)==='function'){aco.apply(dR,[dA]);}else if(dA instanceof Array){NN=auE.apply(dR);if(!(NN instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(cV+" is not an Array property");}for(var G=0,bB=NN.length,rD=dA.length;G<rD;G++,bB++){NN[bB]=dA[G];}}}}};IPCC.Web.UI.aT.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.aT.aaD(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.gH.addHandlerCantBeUsedForError);}if(!element.al){element.al={};}var eventCache=element.al[eventName];if(!eventCache){element.al[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.aT(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var dv=doc.defaultView||doc.parentWindow;e=dv.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.aT(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.aT.alV){element.dispose=IPCC.Web.UI.aT.alV;if(typeof(d)!=="undefined"){element.ael=d;}}}};IPCC.Web.UI.aT.clearHandlers=function(element){IPCC.Web.UI.aT.aaD(element);IPCC.Web.UI.aT.afJ(element,false);};IPCC.Web.UI.aT.afJ=function(element,autoRemoving){if(element.al){var cache=element.al;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.aT.removeHandler(element,name,entry.handler);}}}}element.al=null;}};IPCC.Web.UI.aT.alV=function(){IPCC.Web.UI.aT.afJ(this,true);var d=this.ael,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.ael=null;if(type==="function"){this.dispose();}}};IPCC.Web.UI.aT.removeHandler=function(element,eventName,handler){IPCC.Web.UI.aT.dp(element,eventName,handler);};IPCC.Web.UI.aT.dp=function(element,eventName,handler){IPCC.Web.UI.aT.aaD(element);var browserHandler=null;if((typeof(element.al)!=='object')|| !element.al){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.al[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.aT.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};IPCC.Web.UI.aT.aaD=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.gH.argumentDomNode);}};IPCC.pQ=function(dK,xt){var C=this;this.dK=dK;this.xt=xt;this.atN=function(){return C.dK;};this.aGA=function(){return C.xt;};};IPCC.pQ.prototype.get_propertyName=function(){return this.dK;};IPCC.pQ.prototype.get_propertyInfo=function(){return this.xt;};IPCC.Web.vt=function(aF){return!isNaN(aF-0)&&aF!==null;};IPCC.aBJ=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};IPCC.Web.UI.gj=function gj(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.aaX={};};IPCC.Web.UI.gj.prototype.dr=function(ct,T){var eg=this.Wj(ct,true);eg[eg.length]=T;};IPCC.Web.UI.gj.prototype.addHandler=function(ct,T){this.dr(ct,T);};IPCC.Web.UI.gj.prototype.dp=function(ct,T){var uI=this.Wj(ct);if(!uI){return;}var bC=IPCC.aBJ(uI,T);if(bC>=0){uI.splice(bC,1);}};IPCC.Web.UI.gj.prototype.removeHandler=function(ct,T){this.dp(ct,T);};IPCC.Web.UI.gj.prototype.getHandler=function(ct){var uI=this.Wj(ct);if(!uI||(uI.length===0)){return null;}var eg=uI.slice();uI=eg;return function(source,args){for(var G=0,rD=uI.length;G<rD;G++){uI[G](source,args);}};};IPCC.Web.UI.gj.prototype.Wj=function(ct,ata){if(!this.aaX[ct]){if(!ata){return null;}this.aaX[ct]=[];}return this.aaX[ct];};IPCC.Web.JI=IPCC.JI||{};IPCC.Web.JI.Wz=function(aq){if(!this.Dz[0][0][0]){this.WI();}var G,bB,fM,HJ,YA,lJ=this.Dz[0][4],vV=this.Dz[1],uW=aq.length,Qp=1;if(uW!==4&&uW!==6&&uW!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.aq=[HJ=aq.slice(0),YA=[]];for(G=uW;G<4*uW+28;G++){fM=HJ[G-1];if(G%uW===0||(uW===8&&G%uW===4)){fM=lJ[fM>>>24]<<24^lJ[fM>>16&255]<<16^lJ[fM>>8&255]<<8^lJ[fM&255];if(G%uW===0){fM=fM<<8^fM>>>24^Qp<<24;Qp=Qp<<1^(Qp>>7)*283;}}HJ[G]=HJ[G-uW]^fM;}for(bB=0;G;bB++,G--){fM=HJ[bB&3?G:G-4];if(G<=4||bB<4){YA[bB]=fM;}else{YA[bB]=vV[0][lJ[fM>>>24]]^vV[1][lJ[fM>>16&255]]^vV[2][lJ[fM>>8&255]]^vV[3][lJ[fM&255]];}}};IPCC.Web.JI.Wz.prototype={Sj:function(df){return this.atk(df,1);},Dz:[[[],[],[],[],[]],[[],[],[],[],[]]],WI:function(){var RK=this.Dz[0],vV=this.Dz[1],lJ=RK[4],aAx=vV[4],G,aF,yD,fE=[],eD=[],abe,adT,aek,hQ,RG,Ow;for(G=0;G<256;G++){eD[(fE[G]=G<<1^(G>>7)*283)^G]=G;}for(aF=yD=0;!lJ[aF];aF^=abe||1,yD=eD[yD]||1){hQ=yD^yD<<1^yD<<2^yD<<3^yD<<4;hQ=hQ>>8^hQ&255^99;lJ[aF]=hQ;aAx[hQ]=aF;aek=fE[adT=fE[abe=fE[aF]]];Ow=aek*0x1010101^adT*0x10001^abe*0x101^aF*0x1010100;RG=fE[hQ]*0x101^hQ*0x1010100;for(G=0;G<4;G++){RK[G][aF]=RG=RG<<24^RG>>>8;vV[G][hQ]=Ow=Ow<<24^Ow>>>8;}}for(G=0;G<5;G++){RK[G]=RK[G].slice(0);vV[G]=vV[G].slice(0);}},atk:function(Hv,IE){if(Hv.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var aq=this.aq[IE],cW=Hv[0]^aq[0],ez=Hv[IE?3:1]^aq[1],eL=Hv[2]^aq[2],fE=Hv[IE?1:3]^aq[3],wi,aht,adK,aEr=aq.length/4-2,G,Gb=4,gN=[0,0,0,0],Jc=this.Dz[IE],Mz=Jc[0],QP=Jc[1],Qz=Jc[2],QG=Jc[3],lJ=Jc[4];for(G=0;G<aEr;G++){wi=Mz[cW>>>24]^QP[ez>>16&255]^Qz[eL>>8&255]^QG[fE&255]^aq[Gb];aht=Mz[ez>>>24]^QP[eL>>16&255]^Qz[fE>>8&255]^QG[cW&255]^aq[Gb+1];adK=Mz[eL>>>24]^QP[fE>>16&255]^Qz[cW>>8&255]^QG[ez&255]^aq[Gb+2];fE=Mz[fE>>>24]^QP[cW>>16&255]^Qz[ez>>8&255]^QG[eL&255]^aq[Gb+3];Gb+=4;cW=wi;ez=aht;eL=adK;}for(G=0;G<4;G++){gN[IE?3& -G:G]=lJ[cW>>>24]<<24^lJ[ez>>16&255]<<16^lJ[eL>>8&255]<<8^lJ[fE&255]^aq[Gb++];wi=cW;cW=ez;ez=eL;eL=fE;fE=wi;}return gN;}};IPCC.Web.asC='8.4';IPCC.Web.aBL=24;IPCC.Web.sJ=IPCC.Web.sJ||{};IPCC.Web.sJ.SU=function(sJ){if(!this.aq[0]){this.WI();}if(sJ){this.ff=sJ.ff.slice(0);this.yQ=sJ.yQ.slice(0);this.dC=sJ.dC;}else{this.aeq();}};IPCC.Web.sJ.SU.sJ=function(df){return(new IPCC.Web.sJ.SU()).aoc(df).atX();};IPCC.Web.sJ.SU.prototype={aHY:512,aeq:function(){this.ff=this.OR.slice(0);this.yQ=[];this.dC=0;return this;},aoc:function(df){if(typeof df==="string"){df=IPCC.Web.Codec.En.rN(df);}var G,ez=this.yQ=IPCC.Web.gi.Yn(this.yQ,df),ako=this.dC,aEH=this.dC=ako+IPCC.Web.gi.yh(df);for(G=512+ako& -512;G<=aEH;G+=512){this.Oa(ez.splice(0,16));}return this;},atX:function(){var G,ez=this.yQ,ff=this.ff;ez=IPCC.Web.gi.Yn(ez,[IPCC.Web.gi.Hk(1,1)]);for(G=ez.length+2;G&15;G++){ez.push(0);}ez.push(Math.floor(this.dC/0x100000000));ez.push(this.dC|0);while(ez.length){this.Oa(ez.splice(0,16));}this.aeq();return ff;},OR:[],aq:[],WI:function(){var G=0,Jj=2,aB;function adb(aF){return(aF-Math.floor(aF))*0x100000000|0;};aAl:for(;G<64;Jj++){for(aB=2;aB*aB<=Jj;aB++){if(Jj%aB===0){continue aAl;}}if(G<8){this.OR[G]=adb(Math.pow(Jj,1/2));}this.aq[G]=adb(Math.pow(Jj,1/3));G++;}},Oa:function(na){var G,fM,cW,ez,kB=na.slice(0),ff=this.ff,cA=this.aq,YC=ff[0],sy=ff[1],Mx=ff[2],Ri=ff[3],tM=ff[4],Re=ff[5],LA=ff[6],YH=ff[7];for(G=0;G<64;G++){if(G<16){fM=kB[G];}else{cW=kB[(G+1)&15];ez=kB[(G+14)&15];fM=kB[G&15]=((cW>>>7^cW>>>18^cW>>>3^cW<<25^cW<<14)+(ez>>>17^ez>>>19^ez>>>10^ez<<15^ez<<13)+kB[G&15]+kB[(G+9)&15])|0;}fM=(fM+YH+(tM>>>6^tM>>>11^tM>>>25^tM<<26^tM<<21^tM<<7)+(LA^tM&(Re^LA))+cA[G]);YH=LA;LA=Re;Re=tM;tM=Ri+fM|0;Ri=Mx;Mx=sy;sy=YC;YC=(fM+((sy&Mx)^(Ri&(sy^Mx)))+(sy>>>2^sy>>>13^sy>>>22^sy<<30^sy<<19^sy<<10))|0;}ff[0]=ff[0]+YC|0;ff[1]=ff[1]+sy|0;ff[2]=ff[2]+Mx|0;ff[3]=ff[3]+Ri|0;ff[4]=ff[4]+tM|0;ff[5]=ff[5]+Re|0;ff[6]=ff[6]+LA|0;ff[7]=ff[7]+YH|0;}};IPCC.Web.Aq=function(tX,dN){return IPCC.Web.alZ(false,arguments);};IPCC.Web.ajO=function(tX,dN){return IPCC.Web.alZ(true,arguments);};IPCC.Web.alZ=function(useLocale,dN){var ap='';var tX=dN[0];for(var G=0;;){var es=tX.indexOf('{',G);var lP=tX.indexOf('}',G);if((es<0)&&(lP<0)){ap+=tX.slice(G);break;}if((lP>0)&&((lP<es)||(es<0))){if(tX.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}ap+=tX.slice(G,lP+1);G=lP+2;continue;}ap+=tX.slice(G,es);G=es+1;if(tX.charAt(G)==='{'){ap+='{';G++;continue;}if(lP<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var MQ=tX.substring(G,lP);var ME=MQ.indexOf(':');var afO=parseInt((ME<0)?MQ:MQ.substring(0,ME),10)+1;if(isNaN(afO)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var XW=(ME<0)?'':MQ.substring(ME+1);var uQ=dN[afO];if(typeof(uQ)==="undefined"||uQ===null){uQ='';}if(uQ.toFormattedString){ap+=uQ.toFormattedString(XW);}else if(useLocale&&uQ.ajO){ap+=uQ.ajO(XW);}else if(uQ.format){ap+=uQ.format(XW);}else{ap+=uQ.toString();}G=lP+1;}return ap;};IPCC.Web.UI.ImGearException=function(message,errorInfo){this.message=message;var C=this;if(errorInfo){for(var Wh in errorInfo){if(errorInfo.hasOwnProperty(Wh)){C[Wh]=errorInfo[Wh];}}}};IPCC.Web.UI.ImGearException.prototype=new Error();IPCC.Web.UI.ImGearException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearException.registerClass('IPCC.Web.UI.ImGearException');IPCC.Web.UI.ImGearHttpException=function(statusCode,message,customErrorCode){var gX="IPCC.Web.UI.ImGearHttpException: ";if(message){gX+=message;}this.message=gX;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};IPCC.Web.UI.ImGearHttpException.prototype=new Error();IPCC.Web.UI.ImGearHttpException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearHttpException.registerClass('IPCC.Web.UI.ImGearHttpException');IPCC.Web.UI.ImGearArgumentException=function(paramName,message){var gX="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.gH.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gX+="\n"+IPCC.Web.Aq(IPCC.gH.paramName,paramName);}}this.message=gX;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentException.prototype=new Error();IPCC.Web.UI.ImGearArgumentException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentException.registerClass('IPCC.Web.UI.ImGearArgumentException');IPCC.Web.UI.ImGearArgumentNullException=function(paramName,message){var gX="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.gH.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gX+="\n"+IPCC.Web.Aq(IPCC.Res.paramName,paramName);}}this.message=gX;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentNullException.prototype=new Error();IPCC.Web.UI.ImGearArgumentNullException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentNullException.registerClass('IPCC.Web.UI.ImGearArgumentNullException');IPCC.Web.UI.ImGearArgumentOutOfRangeException=function(paramName,actualValue,message){var gX="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.gH.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gX+="\n"+IPCC.Web.Aq(IPCC.gH.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){gX+="\n"+IPCC.Web.Aq(IPCC.gH.actualValue,actualValue);}this.message=gX;this.paramName=paramName;this.actualValue=actualValue;};IPCC.Web.UI.ImGearArgumentOutOfRangeException.prototype=new Error();IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');IPCC.Web.UI.ImGearArgumentTypeException=function(paramName,actualType,expectedType,message){var gX="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){gX+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){gX+=IPCC.Web.Aq(IPCC.gH.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{gX+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{gX+=IPCC.gH.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gX+="\n"+IPCC.Web.Aq(IPCC.gH.paramName,paramName);}}this.message=gX;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};IPCC.Web.UI.ImGearArgumentTypeException.prototype=new Error();IPCC.Web.UI.ImGearArgumentTypeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentTypeException.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');IPCC.Web.UI.ImGearArgumentUndefinedException=function(paramName,message){var gX="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.gH.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gX+="\n"+IPCC.Web.Aq(IPCC.Res.paramName,paramName);}}this.message=gX;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentUndefinedException.prototype=new Error();IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');IPCC.Web.UI.ImGearInvalidOperationException=function(message){var gX="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.gH.invalidOperation);this.message=gX;};IPCC.Web.UI.ImGearInvalidOperationException.protype=new Error();IPCC.Web.UI.ImGearInvalidOperationException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearInvalidOperationException.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');IPCC.Web.UI.ImGearNotImplementedException=function(message){var gX="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.gH.notImplemented);this.message=gX;};IPCC.Web.UI.ImGearNotImplementedException.prototype=new Error();IPCC.Web.UI.ImGearNotImplementedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearNotImplementedException.registerClass('IPCC.Web.UI.ImGearNotImplementedException');IPCC.Web.UI.ImGearParameterCountException=function(message){var gX="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.gH.parameterCount);this.message=gX;};IPCC.Web.UI.ImGearParameterCountException.prootype=new Error();IPCC.Web.UI.ImGearParameterCountException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearParameterCountException.registerClass('IPCC.Web.UI.ImGearParameterCountException');IPCC.Web.aq=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];IPCC.Web.gi={Yw:function(cW,tE,ahD){cW=IPCC.Web.gi.acP(cW.slice(tE/32),32-(tE&31)).slice(1);return(ahD===undefined)?cW:IPCC.Web.gi.ayo(cW,ahD-tE);},Zw:function(cW,tE,ZJ){var aF,TN=Math.floor((-tE-ZJ)&31);if((tE+ZJ-1^tE)& -32){aF=(cW[tE/32|0]<<(32-TN))^(cW[tE/32+1|0]>>>TN);}else{aF=cW[tE/32|0]>>>TN;}return aF&((1<<ZJ)-1);},Yn:function(Ay,wi){if(Ay.length===0||wi.length===0){return Ay.concat(wi);}var yo=Ay[Ay.length-1],tS=IPCC.Web.gi.XB(yo);if(tS===32){return Ay.concat(wi);}else{return IPCC.Web.gi.acP(wi,tS,yo|0,Ay.slice(0,Ay.length-1));}},yh:function(cW){var rD=cW.length,aF;if(rD===0){return 0;}aF=cW[rD-1];return(rD-1)*32+IPCC.Web.gi.XB(aF);},ayo:function(cW,bd){if(cW.length*32<bd){return cW;}cW=cW.slice(0,Math.ceil(bd/32));var rD=cW.length;bd=bd&31;if(rD>0&&bd){cW[rD-1]=IPCC.Web.gi.Hk(bd,cW[rD-1]&0x80000000>>(bd-1),1);}return cW;},Hk:function(bd,aF,ht){if(bd===32){return aF;}return(ht?aF|0:aF<<(32-bd))+bd*0x10000000000;},XB:function(aF){return Math.round(aF/0x10000000000)||32;},arq:function(cW,ez){if(IPCC.Web.gi.yh(cW)!==IPCC.Web.gi.yh(ez)){return false;}var aF=0,G;for(G=0;G<cW.length;G++){aF|=cW[G]^ez[G];}return(aF===0);},acP:function(cW,tS,Lp,gN){var G,akd=0,SZ;if(gN===undefined){gN=[];}for(;tS>=32;tS-=32){gN.push(Lp);Lp=0;}if(tS===0){return gN.concat(cW);}for(G=0;G<cW.length;G++){gN.push(Lp|cW[G]>>>tS);Lp=cW[G]<<(32-tS);}akd=cW.length?cW[cW.length-1]:0;SZ=IPCC.Web.gi.XB(akd);gN.push(IPCC.Web.gi.Hk(tS+SZ&31,(tS+SZ>32)?Lp:gN.pop(),1));return gN;},acq:function(aF,ey){return[aF[0]^ey[0],aF[1]^ey[1],aF[2]^ey[2],aF[3]^ey[3]];}};IPCC.Web.hG=IPCC.Web.hG||{};IPCC.Web.sS=false;IPCC.Web.UU=[];IPCC.Web.hG.En={mZ:function(eg){var gN="",pL=IPCC.Web.gi.yh(eg),G,fM;for(G=0;G<pL/8;G++){if((G&3)===0){fM=eg[G/4];}gN+=String.fromCharCode(fM>>>24);fM<<=8;}return decodeURIComponent(escape(gN));},rN:function(db){db=unescape(encodeURIComponent(db));var gN=[],G,fM=0;for(G=0;G<db.length;G++){fM=fM<<8|db.charCodeAt(G);if((G&3)===3){gN.push(fM);fM=0;}}if(G&3){gN.push(IPCC.Web.gi.Hk(8*(G&3),fM));}return gN;}};IPCC.Web.sN=false;IPCC.Web.hG.pq={zM:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mZ:function(eg,aEn,dk){var gN="",G,dM=0,eL=IPCC.Web.hG.pq.zM,zn=0,pL=IPCC.Web.gi.yh(eg);if(dk){eL=eL.substr(0,62)+'-_';}for(G=0;gN.length*6<pL;){gN+=eL.charAt((zn^eg[G]>>>dM)>>>26);if(dM<6){zn=eg[G]<<(6-dM);dM+=26;G++;}else{zn<<=6;dM-=6;}}while((gN.length&3)&& !aEn){gN+="=";}return gN;},rN:function(db,dk){db=db.replace(/\s|=/g,'');var gN=[],G,dM=0,eL=IPCC.Web.hG.pq.zM,zn=0,aF;if(dk){eL=eL.substr(0,62)+'-_';}for(G=0;G<db.length;G++){aF=eL.indexOf(db.charAt(G));if(aF<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(dM>26){dM-=26;gN.push(zn^aF>>>dM);zn=aF<<(32-dM);}else{dM+=6;zn^=aF<<(32-dM);}}if(dM&56){gN.push(IPCC.Web.gi.Hk(dM&56,zn,1));}return gN;}};IPCC.Web.hG.FT={mZ:function(eg){return IPCC.Web.hG.pq.mZ(eg,1,1);},rN:function(db){return IPCC.Web.hG.pq.rN(db,1);}};IPCC.Web.mO=[];IPCC.Web.Oh=IPCC.Web.Oh||{};IPCC.Web.Oh.acp={cV:"cbc",ang:function(Nf,Wb,gu,Al){if(Al&&Al.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.gi.yh(gu)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var G,kB=IPCC.Web.gi,Qn=kB.acq,pL=kB.yh(Wb),acZ=0,sK=[];if(pL&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(G=0;acZ+128<=pL;G+=4,acZ+=128){gu=Nf.ang(Qn(gu,Wb.slice(G,G+4)));sK.splice(G,0,gu[0],gu[1],gu[2],gu[3]);}pL=(16-((pL>>3)&15))*0x1010101;gu=Nf.ang(Qn(gu,kB.Yn(Wb,[pL,pL,pL,pL]).slice(G,G+4)));sK.splice(G,0,gu[0],gu[1],gu[2],gu[3]);return sK;},Sj:function(Nf,Lv,gu,Al){if(Al&&Al.length){throw new IPCC.Web.UI.ImGearArgumentException(Al,"cbc can't authenticate data");}if(IPCC.Web.gi.yh(gu)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.gi.yh(Lv)&127)|| !Lv.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var G,kB=IPCC.Web.gi,Qn=kB.acq,tn,uU,sK=[];Al=Al||[];for(G=0;G<Lv.length;G+=4){tn=Lv.slice(G,G+4);uU=Qn(gu,Nf.Sj(tn));sK.splice(G,0,uU[0],uU[1],uU[2],uU[3]);gu=tn;}tn=sK[G-1]&255;if(tn===0||tn>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}uU=tn*0x1010101;if(!kB.arq(kB.Yw([uU,uU,uU,uU],0,tn*8),kB.Yw(sK,sK.length*32-tn*8,sK.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return kB.Yw(sK,0,sK.length*32-tn*8);}};IPCC.Web.aFr=0;IPCC.Web.al=new IPCC.Web.UI.gj();IPCC.Web.aFp=function(T){IPCC.Web.al.dr(IPCC.gH.prodInfo,T);};IPCC.Web.aHt=function(T){IPCC.Web.al.dp(IPCC.gH.prodInfo,T);};IPCC.Web.aHC=function(T){IPCC.Web.al.dr(IPCC.gH.prodFailInfo,T);};IPCC.Web.aIm=function(T){IPCC.Web.al.dp(IPCC.gH.prodFailInfo,T);};IPCC.Web.aH=function(bE,H){var T=IPCC.Web.al.getHandler(bE);if(T!==null){T(IPCC.Web,H);}};IPCC.Web.ahe=function(Ip){var rK=Ip.length;var Au=Math.ceil(rK/4),Sr;var dM=[];dM.length=Au;for(var me=0,fX=0;me<Au;me++,fX+=4){dM[me]=((Ip[fX]&0xff)<<24)+((Ip[fX+1]&0xff)<<16)+((Ip[fX+2]&0xff)<<8)+(Ip[fX+3]&0xff);}if(fX<rK){Sr[me]=0;for(var yZ=0;fX<rK;fX++,yZ++){Sr[me]+=(Ip[fX++]&0xff)<<(3-yZ);}}return dM;};IPCC.Web.aoE=function(ay){var rK=ay.length;var Au=Math.ceil(rK/4);var dM=[];dM.length=Au;for(var me=0,fX=0;me<Au;me++,fX+=4){dM[me]=((ay.charCodeAt(fX)&0xff)<<24)+((ay.charCodeAt(fX+1)&0xff)<<16)+((ay.charCodeAt(fX+2)&0xff)<<8)+((ay.charCodeAt(fX+3)&0xff));}if(fX<rK){dM[me]=0;for(var yZ=0;fX<rK;fX++,yZ++){dM[me]+=(ay.charCodeAt(fX++)&0xff)<<(3-yZ);}}return dM;};IPCC.Web.ayF=function(yQ){var Fg=new Uint8Array(yQ);var rK=Fg.length;var Au=Math.ceil(rK/4),Sr;var dM=[];dM.length=Au;for(var me=0,fX=0;me<Au;me++,fX+=4){dM[me]=(Fg[fX]<<24)+(Fg[fX+1]<<16)+(Fg[fX+2]<<8)+Fg[fX+3];}if(fX<rK){dM[me]=0;for(var yZ=0;fX<rK;fX++,yZ++){Sr[me]+=Fg[fX++]<<(3-yZ);}}return dM;};IPCC.Web.HK=function(dM,gu){var aq=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.Bd(dM,aq,gu);};IPCC.Web.Bd=function(dM,aq,gu){try{var Os=new IPCC.Web.JI.Wz(aq);var df=IPCC.Web.Oh.acp.Sj(Os,dM,gu);return df;}catch(bD){return;}};IPCC.Web.Ep=function(wL){var dM;if(typeof(VBArray)!=="undefined"){dM=IPCC.Web.ahe(new VBArray(wL.responseBody).toArray());}else{dM=IPCC.Web.aoE(wL.responseText);}return dM;};IPCC.Web.aHv=function(yQ,wL){var dM;if(typeof(ArrayBuffer)!=="undefined"){dM=IPCC.Web.ayF(yQ);}else if(typeof(VBArray)!=="undefined"){dM=IPCC.Web.ahe(new VBArray(wL.responseBody).toArray());}else{dM=IPCC.Web.aoE(wL.responseText);}return dM;};IPCC.Web.aBC=function(aCu,gu,xr){var Uw;var df;var Os;var dM;try{Os=new IPCC.Web.JI.Wz(xr.UU);dM=IPCC.Web.hG.pq.rN(aCu);Uw=IPCC.Web.Oh.acp.Sj(Os,dM,gu);df=IPCC.Web.hG.En.mZ(Uw);}catch(bD){IPCC.Web.mO[0]=0;IPCC.Web.sS=false;return;}var ap;if(Uw){ap=IPCC.dh.qY(df);if(ap){if(ap.v===IPCC.Web.qP.ahU()&&ap.p===IPCC.Web.qP.ajD()){if(ap.f){var bd=ap.f.length,eg=ap.f;if(ap.f.length>0){IPCC.Web.mO.splice(0);for(var G=0;G<bd;G++){IPCC.Web.mO.push(eg[G]);}IPCC.Web.sS=true;IPCC.Web.sN=false;}}else{IPCC.Web.sS=false;IPCC.Web.sN=false;}}}}};IPCC.Web.Qy=function(akx){if(IPCC.Web.sS){return;}if(IPCC.Web.sN){return;}if(!akx){return;}var gu=IPCC.Web.qP.RS(4);var xr={UU:[]};function fe(ao){try{if(ao.status===200){IPCC.Web.aBC(ao.responseText,gu,xr);}else{IPCC.Web.mO[0]=0;IPCC.Web.sS=false;IPCC.Web.sN=false;throw new IPCC.Web.UI.ImGearHttpException(ao.status,'failure to get product info');}}catch(e){IPCC.Web.sN=false;throw new IPCC.Web.UI.ImGearException('failure to get product info',{name:'Product Infomation'});}finally{if(ao.status===200){if(IPCC.Web.sS===true){IPCC.Web.aH(IPCC.gH.prodInfo,null);}else{IPCC.Web.aH(IPCC.gH.prodFailInfo,null);}}else{IPCC.Web.aH(IPCC.gH.prodFailInfo,null);}}};function fg(ap){try{IPCC.Web.mO[0]=0;IPCC.Web.sS=false;IPCC.Web.sN=false;throw new IPCC.Web.UI.ImGearHttpException(ap.response.status,'failure to get product info');}catch(e){IPCC.Web.sN=false;throw new IPCC.Web.UI.ImGearException('failure to get product info',{name:'Product Infomation'});}finally{IPCC.Web.aH(IPCC.gH.prodFailInfo,null);}};setTimeout(function(){IPCC.R.mB.es({method:'GET',url:IPCC.Web.qP.auw(akx,gu,xr),headers:{'Content-Type':'application/json'}}).then(fe,fg);},500);IPCC.Web.aFr++;IPCC.Web.sN=true;};IPCC.Web.Qa=function(){var Gs=new Date();var aEc=new Date(Gs.getYear(),Gs.getMonth(),Gs.getDate(),Gs.getHours(),Gs.getMinutes(),Gs.getSeconds());return(+aEc);};IPCC.Web.qP={RS:function(eO){var Kk=[];var abP=IPCC.Web.aft().ahg;for(var G=0;G<eO;G++){Kk.push(abP());}return Kk;},WY:function(eO,fA){var Kk=[];var abP=IPCC.Web.aft(fA).ahg;for(var G=0;G<eO;G++){Kk.push(abP());}return Kk;},auw:function(db,gu,xr){return db+IPCC.gH.fwdslash+IPCC.gH.svctype+IPCC.gH.fwdslash+IPCC.gH.viewer+IPCC.gH.querySymb+IPCC.gH.version+IPCC.Web.qP.ahU()+'&'+IPCC.gH.iv+IPCC.Web.qP.aBf(gu,xr)+'&'+IPCC.gH.param+IPCC.Web.qP.ajD();},ahU:function(){return IPCC.Web.asC;},ajD:function(){return IPCC.Web.aBL;},aBf:function(gu,xr){var eO,mp=true,gN="",Hj,Uk,acE,Qu,Pf,akC;for(eO=0;eO<4;eO++){if(!mp){gN+='-';}else{mp=false;}Pf=0;for(Hj=0;Hj<4;Hj++){Qu=eO*32+Hj*8;Uk=IPCC.Web.gi.Zw(gu,Qu,4);gN+=Uk.toString(16).toUpperCase();acE=IPCC.Web.gi.Zw(gu,Qu+4,4);gN+=acE.toString(16).toUpperCase();akC=(Uk*16+acE+IPCC.Web.gi.Zw(IPCC.Web.aq,Qu,8))%256;Pf=Pf|(akC<<(24-(Hj*8)));}xr.UU[eO]=Pf;}return gN;}};IPCC.dh=IPCC.dh||{};IPCC.dh.qY=IPCC.dh.qY||function(db,aCJ){if(db===""){db='""';}try{if(typeof YUI!=='undefined'){var akw;YUI().use('json-parse',function(Y){akw=Y.JSON.parse(db);});return akw;}else{var alu=db.replace(new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"','g'),"$1new Date($2)");var aCE=new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]','g');var aCF=new RegExp('"(\\\\.|[^"\\\\])*"','g');if(aCJ&&aCE.test(alu.replace(aCF,''))){throw null;}return eval('('+alu+')');}}catch(e){throw new IPCC.Web.UI.ImGearArgumentException('str','Cannot deserialize. The data does not correspond to valid JSON.');}};IPCC.gP={};IPCC.gP.InternetExplorer={};IPCC.gP.Firefox={};IPCC.gP.Safari={};IPCC.gP.Opera={};IPCC.gP.agent=null;IPCC.gP.hasDebuggerStatement=false;IPCC.gP.name=navigator.appName;IPCC.gP.version=parseFloat(navigator.appVersion);IPCC.gP.documentMode=0;if(navigator.userAgent.indexOf(' MSIE ')> -1){IPCC.gP.agent=IPCC.gP.InternetExplorer;IPCC.gP.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(IPCC.gP.version>=8){if(document.documentMode>=7){IPCC.gP.documentMode=document.documentMode;}}IPCC.gP.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' Firefox/')> -1){IPCC.gP.agent=IPCC.gP.Firefox;IPCC.gP.version=parseFloat(navigator.userAgent.match(/ Firefox\/(\d+\.\d+)/)[1]);IPCC.gP.name='Firefox';IPCC.gP.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' AppleWebKit/')> -1){IPCC.gP.agent=IPCC.gP.Safari;IPCC.gP.version=parseFloat(navigator.userAgent.match(/ AppleWebKit\/(\d+(\.\d+)?)/)[1]);IPCC.gP.name='Safari';}else if(navigator.userAgent.indexOf('Opera/')> -1){IPCC.gP.agent=IPCC.gP.Opera;}IPCC.Dn=function(Sd){this.ti=(typeof(Sd)!=='undefined'&&Sd!==null&&Sd!=='')?[Sd.toString()]:[];this.L={};this.bd=0;};IPCC.Dn.prototype.oS=function(ay){this.ti[this.ti.length]=ay;};IPCC.Dn.prototype.aGO=function(ay){this.ti[this.ti.length]=((typeof(ay)==='undefined')||(ay===null)||(ay===''))?'\r\n':ay+'\r\n';};IPCC.Dn.prototype.aHk=function(){this.ti=[];this.L={};this.bd=0;};IPCC.Dn.prototype.aFz=function(){if(this.ti.length===0){return true;}return this.toString()==='';};IPCC.Dn.prototype.anM=function(zW){zW=zW||'';var parts=this.ti;if(this.bd!==parts.length){this.L={};this.bd=parts.length;}var val=this.L;if(typeof(val[zW])==='undefined'){if(zW!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[zW]=this.ti.join(zW);}return val[zW];};IPCC.Web.gq=function(eg,elt){var len=eg.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in eg&&eg[from]===elt){return from;}}return-1;};IPCC.dh.RJ=[];IPCC.dh.Hw=[];IPCC.dh.aHR=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"','g');IPCC.dh.Hm={};IPCC.dh.atd=new RegExp('["\\\\\\x00-\\x1F]','i');IPCC.dh.asR=new RegExp('["\\\\\\x00-\\x1F]','g');IPCC.dh.aFg=new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]','g');IPCC.dh.aGm=new RegExp('"(\\\\.|[^"\\\\])*"','g');IPCC.dh.aCS='__type';IPCC.dh.OR=function(){var replaceChars=['\\u0000','\\u0001','\\u0002','\\u0003','\\u0004','\\u0005','\\u0006','\\u0007','\\b','\\t','\\n','\\u000b','\\f','\\r','\\u000e','\\u000f','\\u0010','\\u0011','\\u0012','\\u0013','\\u0014','\\u0015','\\u0016','\\u0017','\\u0018','\\u0019','\\u001a','\\u001b','\\u001c','\\u001d','\\u001e','\\u001f'];IPCC.dh.Hw[0]='\\';IPCC.dh.RJ['\\']=new RegExp('\\\\','g');IPCC.dh.Hm['\\']='\\\\';IPCC.dh.Hw[1]='"';IPCC.dh.RJ['"']=new RegExp('"','g');IPCC.dh.Hm['"']='\\"';for(var i=0;i<32;i++){var c=String.fromCharCode(i);IPCC.dh.Hw[i+2]=c;IPCC.dh.RJ[c]=new RegExp(c,'g');IPCC.dh.Hm[c]=replaceChars[i];}};IPCC.dh.aem=function(object,hH){hH.oS(object.toString());};IPCC.dh.aed=function(object,hH){if(isFinite(object)){hH.oS(String(object));}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize non finite numbers.');}};IPCC.dh.aeo=function(string,hH){hH.oS('"');if(IPCC.dh.atd.test(string)){if(IPCC.dh.Hw.length===0){IPCC.dh.OR();}if(string.length<128){string=string.replace(IPCC.dh.asR,function(x){return IPCC.dh.Hm[x];});}else{for(var i=0;i<34;i++){var c=IPCC.dh.Hw[i];if(string.indexOf(c)!== -1){if(IPCC.gP.agent===IPCC.gP.Opera||IPCC.gP.agent===IPCC.gP.FireFox){string=string.split(c).join(IPCC.dh.Hm[c]);}else{string=string.replace(IPCC.dh.RJ[c],IPCC.dh.Hm[c]);}}}}}hH.oS(string);hH.oS('"');};IPCC.dh.Pw=function(object,hH,sort,prevObjects){var i;switch(typeof object){case 'object':if(object){if(prevObjects){for(var j=0;j<prevObjects.length;j++){if(prevObjects[j]===object){throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize object with cyclic reference within child properties.');}}}else{prevObjects=[];}try{prevObjects[prevObjects.length]=object;if(typeof(object)==="number"){IPCC.dh.aed(object,hH);}else if(typeof(object)==="boolean"){IPCC.dh.aem(object,hH);}else if(typeof(object)==="string"){IPCC.dh.aeo(object,hH);}else if(object instanceof Array){hH.oS('[');for(i=0;i<object.length;++i){if(i>0){hH.oS(',');}IPCC.dh.Pw(object[i],hH,false,prevObjects);}hH.oS(']');}else{var properties=[];var propertyCount=0;for(var name in object){if(object.hasOwnProperty(name)){var fM=""+name;var yd='$';if((fM.substr(0,yd.length)===yd)){continue;}if(name===IPCC.dh.aCS&&propertyCount!==0){properties[propertyCount++]=properties[0];properties[0]=name;}else{properties[propertyCount++]=name;}}}if(sort){properties.sort();}hH.oS('{');var needComma=false;for(i=0;i<propertyCount;i++){var value=object[properties[i]];if(typeof value!=='undefined'&&typeof value!=='function'){if(needComma){hH.oS(',');}else{needComma=true;}IPCC.dh.Pw(properties[i],hH,sort,prevObjects);hH.oS(':');IPCC.dh.Pw(value,hH,sort,prevObjects);}}hH.oS('}');}}finally{prevObjects.splice(prevObjects.length-1);}}else{hH.oS('null');}break;case 'number':IPCC.dh.aed(object,hH);break;case 'string':IPCC.dh.aeo(object,hH);break;case 'boolean':IPCC.dh.aem(object,hH);break;default:hH.oS('null');break;}};IPCC.dh.aac=IPCC.dh.aac||function(object){var hH=new IPCC.Dn();IPCC.dh.Pw(object,hH,false);return hH.anM();};IPCC.gH={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};IPCC.Web.aGF=function aFW(){var kq=0xefc8249d;var vd=function(df){df=df.toString();for(var G=0;G<df.length;G++){kq+=df.charCodeAt(G);var ff=0.02519603282416938*kq;kq=ff>>>0;ff-=kq;ff*=kq;kq=ff>>>0;ff-=kq;kq+=ff*0x100000000;}return(kq>>>0)*2.3283064365386963e-10;};vd.Ck='Mash 0.9';return vd;};IPCC.Web.aft=function aGo(){return(function(dN){var Dw=0;var Ea=0;var Et=0;var eL=1;if(dN.length===0){dN=[+new Date()];}var vd=IPCC.Web.aGF();Dw=vd(' ');Ea=vd(' ');Et=vd(' ');for(var G=0;G<dN.length;G++){Dw-=vd(dN[G]);if(Dw<0){Dw+=1;}Ea-=vd(dN[G]);if(Ea<0){Ea+=1;}Et-=vd(dN[G]);if(Et<0){Et+=1;}}vd=null;var yY=function(){var xW=2091639*Dw+eL*2.3283064365386963e-10;Dw=Ea;Ea=Et;Et=xW-(eL=xW|0);return Et;};yY.ahg=function(){return yY()*0x100000000;};yY.aGw=function(){return yY()+(yY()*0x200000|0)*1.1102230246251565e-16;};yY.Ck='Alea 0.9';yY.dN=dN;return yY;}(Array.prototype.slice.call(arguments)));};IPCC.aV={bP:function(L,cV,bP){if(typeof(L)!==bP){throw new IPCC.Web.UI.ImGearArgumentTypeException(cV,typeof(L),bP);}},iZ:function(L,cV){IPCC.aV.bP(L,cV,'string');},gD:function(L,cV){if(!(L instanceof Date)){throw new IPCC.Web.UI.ImGearArgumentTypeException(cV,typeof(L),"Date");}},iu:function(L,cV){IPCC.aV.bP(L,cV,'number');if(!isFinite(L)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(cV,L,'The value must be a number.');}},mR:function(L,cV,xY,zP){IPCC.aV.bP(L,cV,'number');if(L<xY||L>zP|| !isFinite(L)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(cV,L,'The value must be a number between '+xY+' and '+zP+' inclusive.');}},VY:function(L,cV,Lm){IPCC.aV.bP(L,cV,'number');var G;for(G=0;G<Lm.length;G++){if(L===Lm[G]){return;}}var Ry='';for(G=0;G<Lm.length;G++){if(G>0){if(G===Lm.length-1){Ry+=' or ';}else{Ry+=', ';}}Ry+=Lm[G];}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(cV,L,'The value must be '+Ry+'.');},ov:function(L,cV,xY,zP){IPCC.aV.mR(L,cV,xY,zP);if(L!==Math.floor(L)){throw new IPCC.Web.UI.ImGearArgumentException(cV,'The value must be an integer.');}},fr:function(L,cV){IPCC.aV.bP(L,cV,'string');if(!L.match(/#[0-9A-Fa-f]{6}/)){throw new IPCC.Web.UI.ImGearArgumentException(cV,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},YD:function(L,cV){IPCC.aV.bP(L,cV,'string');if(!L.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new IPCC.Web.UI.ImGearArgumentException(cV,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},iA:function(L,cV,iA,ajU){IPCC.aV.bP(L,cV,'number');var dK;var YZ=0;for(dK in iA){if(iA.hasOwnProperty(dK)){if(ajU){YZ|=iA[dK];}else{if(L===iA[dK]){return;}}}}var db="";if(ajU){if((L|YZ)===YZ){return;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(cV,L,'The value must be zero or more members of the '+db+' enumeration.');}}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(cV,L,'The value must be a member of the '+db+' enumeration.');},aP:function(L,cV){IPCC.aV.iu(L.x,cV+'.x');IPCC.aV.iu(L.y,cV+'.y');},K:function(L,cV){IPCC.aV.iu(L.x,cV+'.x');IPCC.aV.iu(L.y,cV+'.y');IPCC.aV.iu(L.width,cV+'.width');IPCC.aV.iu(L.height,cV+'.height');}};IPCC.Ef=function(){function DO(){return Math.floor((Math.random()*10)).toString();};var gD=new Date();return DO()+DO()+'_'+gD.getTime()+"_"+DO()+DO()+DO()+DO();};IPCC.dZ={im:function(jB,Sq){var bP,db,gO;if(jB===null){return 'null';}if(!Sq){Sq=0;}bP=typeof(jB);if(bP==='undefined'){return 'undefined';}else if(bP==='number'||bP==='boolean'){return jB.toString();}else if(bP==='string'){return '\''+jB+'\'';}else if(bP==='function'){return 'function';}else{if(Sq<0){return 'jB';}db='{';for(gO in jB){if(jB.hasOwnProperty(gO)){if(db.length>2){db+=', ';}db+=gO;db+=': ';db+=IPCC.dZ.im(jB[gO],Sq-1);}}db+='}';return db;}},NG:function(ay){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=ay+'\n';}},aHL:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},hY:function(gg,LB,bm,GD,BI){var ay="PCC Controls - ";ay+=(GD)?GD:" ";ay+=" parent Div id = ";ay+=(BI)?BI:" ";if(LB){switch(LB){case 0:ay+=" FunctionCall ";break;case 1:ay+=" Exception ";break;case 2:ay+=" Custom ";break;case 3:ay+=" UserAction ";break;case 4:ay+=" Warning ";break;default:ay+=" unknown ";}}ay+=" - "+gg;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(ay);}if(window.console&&window.console.log){window.console.log(ay);}if(window.opera){window.opera.postError(ay);}if(window.debugService){window.debugService.trace(ay);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=ay+'\n';}var MD;try{MD=onPCCItemLogged;}catch(ex){}if(MD&&(typeof(MD)).toLowerCase()==='function'){var dN=new IPCC.Web.UI.LogItemEventArgs();dN.message=gg;dN.cause=LB;dN.level=bm;dN.id=BI;MD(dN);}}};IPCC.wr={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};IPCC.Web.oe=function(){if(this.adI===undefined){var Bh=document.createElement("div");Bh.style.overflow='scroll';Bh.style.position='absolute';Bh.style.top='-9999px';document.body.appendChild(Bh);this.adI=Bh.offsetWidth-Bh.clientWidth;document.body.removeChild(Bh);}return this.adI;};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.MouseTool=function(){};IPCC.Web.UI.MouseTool.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseTool.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23};IPCC.Web.UI.MouseTool.registerEnum('IPCC.Web.UI.MouseTool',false);IPCC.Web.UI.FitType=function(){};IPCC.Web.UI.FitType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FitType.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};IPCC.Web.UI.FitType.registerEnum('IPCC.Web.UI.FitType',false);IPCC.Web.UI.ScrollBars=function(){};IPCC.Web.UI.ScrollBars.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ScrollBars.prototype={None:0,Both:3,Auto:4};IPCC.Web.UI.ScrollBars.registerEnum('IPCC.Web.UI.ScrollBars',false);IPCC.Web.UI.MarkHandleMode=function(){};IPCC.Web.UI.MarkHandleMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkHandleMode.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};IPCC.Web.UI.MarkHandleMode.registerEnum('IPCC.Web.UI.MarkHandleMode',false);IPCC.Web.UI.ImGearArtDataServices=function(){};IPCC.Web.UI.ImGearArtDataServices.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearArtDataServices.prototype={None:0,ArtDataService:1};IPCC.Web.UI.ImGearArtDataServices.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);IPCC.Web.UI.Rectangle=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};IPCC.Web.UI.Rectangle.prototype={intersect:function(rectangle){var aF=Math.max(this.x,rectangle.x);var av=Math.min(this.x+this.width,rectangle.x+rectangle.width)-aF;var ey=Math.max(this.y,rectangle.y);var dc=Math.min(this.y+this.height,rectangle.y+rectangle.height)-ey;if(av<=0||dc<=0){aF=ey=av=dc=0;}this.x=aF;this.y=ey;this.width=av;this.height=dc;},union:function(rectangle){var hm=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var gL=Math.max(this.x+this.width,rectangle.x+rectangle.width);var hM=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=hm;this.y=_top;this.width=gL-hm;this.height=hM-_top;return this;},scale:function(abT,QX){QX=QX||abT;var hm=this.x*abT;var _top=this.y*QX;var av=this.width*abT;var dc=this.height*QX;this.x=hm;this.y=_top;this.width=av;this.height=dc;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};IPCC.Web.UI.Rectangle.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Rectangle.registerClass('IPCC.Web.UI.Rectangle');IPCC.Web.UI.Point=function(x,y){this.x=x;this.y=y;return this;};IPCC.Web.UI.Point.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};IPCC.Web.UI.Point.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Point.registerClass('IPCC.Web.UI.Point');IPCC.Web.UI.PointCollection=function(){var aX=[];var al=new IPCC.Web.UI.gj();this.ayb=function(aP){var H=new IPCC.Web.UI.PointEventArgs();H.point=aP;H.length=1;aX.push(new IPCC.Web.UI.Point(aP.x,aP.y));H.index=aX.length-1;this.aH('pointAdded',H);};this.awG=function(alJ){var H=new IPCC.Web.UI.PointEventArgs();H.index=aX.length;H.length=alJ.get_length();function nJ(aP){aX.push(aP);};alJ.forEach(nJ,{});if(H.length>0){this.aH('pointAdded',H);}};this.mq=function(jv,cQ){var WG=[].concat(aX);var G;for(G=0;G<WG.length;G++){jv.call(cQ,new IPCC.Web.UI.Point(WG[G].x,WG[G].y),G,this);}};this.Cs=function(bC){mb(bC);var gO=aX[bC];return new IPCC.Web.UI.Point(gO.x,gO.y);};this.aql=function(bC,aP){mb(bC);IPCC.aV.aP(aP,'point');var SR=aX[bC];if(SR.x===aP.x&&SR.y===aP.y){return;}SR.x=aP.x;SR.y=aP.y;var H=new IPCC.Web.UI.PointEventArgs();H.point=aP;H.index=bC;H.length=1;this.aH('pointChanged',H);};this.dY=function(){return aX.length;};this.aBQ=function(bC){mb(bC);var H=new IPCC.Web.UI.PointEventArgs();H.point=aX[bC];H.index=bC;H.length=1;aX.splice(bC,1);this.aH('pointRemoved',H);};this.aBW=function(){if(aX.length<1){return;}var H=new IPCC.Web.UI.PointEventArgs();H.index=0;H.length=aX.length;aX=[];this.aH('pointRemoved',H);};this.alh=function(fv,ep){if(fv===0&&ep===0){return;}IPCC.aV.iu(fv,'deltaX');IPCC.aV.iu(ep,'deltaY');var G;for(G=0;G<aX.length;G++){aX[G].x+=fv;aX[G].y+=ep;}var H=new IPCC.Web.UI.PointEventArgs();H.index=0;H.length=aX.length;this.aH('pointChanged',H);};this.vj=function(){if(aX.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var G,hm=aX[0].x,gL=aX[0].x,_top=aX[0].y,hM=aX[0].y;for(G=1;G<aX.length;G++){var aP=aX[G];hm=Math.min(hm,aP.x);gL=Math.max(gL,aP.x);_top=Math.min(_top,aP.y);hM=Math.max(hM,aP.y);}return new IPCC.Web.UI.Rectangle(hm,_top,gL-hm,hM-_top);};function mb(bC){if(bC>aX.length-1||(bC<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bC);}};this.ayW=function(T){al.addHandler('pointAdded',T);};this.aCA=function(T){al.removeHandler('pointAdded',T);};this.axT=function(T){al.addHandler('pointChanged',T);};this.aBg=function(T){al.removeHandler('pointChanged',T);};this.ayO=function(T){al.addHandler('pointRemoved',T);};this.aCC=function(T){al.removeHandler('pointRemoved',T);};this.aH=function(bE,H){var T=al.getHandler(bE);if(T!==null){T(this,H);}};return this;};IPCC.Web.UI.PointCollection.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.ayb(point);},addPoints:function(pointCollection){this.awG(pointCollection);},forEach:function(method,context){this.mq(method,context);},getPoint:function(index){return this.Cs(index);},setPoint:function(index,point){this.aql(index,point);},get_length:function(){return this.dY();},removePoint:function(index){this.aBQ(index);},removeAllPoints:function(){this.aBW();},moveAllPoints:function(deltaX,deltaY){this.alh(deltaX,deltaY);},add_pointAdded:function(handler){this.ayW(handler);},remove_pointAdded:function(handler){this.aCA(handler);},add_pointChanged:function(handler){this.axT(handler);},remove_pointChanged:function(handler){this.aBg(handler);},add_pointRemoved:function(handler){this.ayO(handler);},remove_pointRemoved:function(handler){this.aCC(handler);}};IPCC.Web.UI.PointCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointCollection.registerClass('IPCC.Web.UI.PointCollection');IPCC.Web.UI.PageViewState=function(){return this;};IPCC.Web.UI.PageViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:IPCC.Web.UI.FitType.FullImage,viewRectangle:new IPCC.Web.UI.Rectangle(0,0,0,0),viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};IPCC.Web.UI.PageViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageViewState.registerClass('IPCC.Web.UI.PageViewState');IPCC.Web.UI.ThumbnailViewState=function(){return this;};IPCC.Web.UI.ThumbnailViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,selected:false};IPCC.Web.UI.ThumbnailViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ThumbnailViewState.registerClass('IPCC.Web.UI.ThumbnailViewState');IPCC.Web.UI.LogItemEventArgs=function(){return this;};IPCC.Web.UI.LogItemEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.LogItemEventArgs.prototype={};IPCC.Web.UI.LogItemEventArgs.registerClass('IPCC.Web.UI.LogItemEventArgs');IPCC.Web.UI.LogItem=IPCC.Web.UI.LogItemEventArgs;IPCC.Web.UI.MouseEventArgs=function(){var aiy=false;this.aBw=function(){aiy=true;};this.aiE=function(){return aiy;};return this;};IPCC.Web.UI.MouseEventArgs.prototype={preventDefault:function(){this.aBw();}};IPCC.Web.UI.MouseEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MouseEventArgs.registerClass('IPCC.Web.UI.MouseEventArgs');IPCC.Web.UI.MouseEvent=IPCC.Web.UI.MouseEventArgs;IPCC.Web.UI.PointEventArgs=function(){return this;};IPCC.Web.UI.PointEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointEventArgs.prototype={};IPCC.Web.UI.PointEventArgs.registerClass('IPCC.Web.UI.PointEventArgs');IPCC.Web.UI.CommentEventArgs=function(){return this;};IPCC.Web.UI.CommentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.CommentEventArgs.prototype={};IPCC.Web.UI.CommentEventArgs.registerClass('IPCC.Web.UI.CommentEventArgs');IPCC.Web.UI.ImGearPageOpenFailedEventArgs=function(){return this;};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageOpenFailedEventArgs.prototype={};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');IPCC.Web.UI.TextSelectedEventArgs=function(){return this;};IPCC.Web.UI.TextSelectedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.TextSelectedEventArgs.prototype={};IPCC.Web.UI.TextSelectedEventArgs.registerClass('IPCC.Web.UI.TextSelectedEventArgs');IPCC.Web.UI.PageView=function(element,pO){var cD=this;var bb;var V;var qB=0;var op='';var zq=false;var al=new IPCC.Web.UI.gj();var ft=null;var wr=IPCC.wr;var acx=IPCC.wr;var Jo=0.0;var Jb=false;var NJ=0;var adE= -1;var acu= -1;var aci= -1;function je(wt){if(!V){return false;}return V.je(wt);};this.h=function(eW,iE){if(je(IPCC.Web.UI.DebugErrorLevel.Production)){V.h(eW,iE);}};this.bp=function(eW,dU,jA){if(!je(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aI=eW+'(';var G;for(G=0;G<dU.length;G++){if(G>0){aI+=', ';}aI+=IPCC.dZ.im(dU[G],(jA?jA:0));}aI+=')';this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Development);};this.xB=function(eW,dU,jq,jA){if(!je(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aI=eW+'(';var G;for(G=0;G<dU.length;G++){if(G>0){aI+=', ';}aI+=IPCC.dZ.im(dU[G],(jA?jA:0));}aI+=') = ';aI+=IPCC.dZ.im(jq,1);this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Development);};this.bz=function(eW,dU,jq){if(!je(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aI=eW+'(';var G;for(G=0;G<dU.length;G++){if(G>0){aI+=', ';}aI+=IPCC.dZ.im(dU[G],0);}aI+=') = ';aI+=IPCC.dZ.im(jq,1);this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.mX=function(gg,bm){if(V){V.hY(gg,IPCC.Web.UI.DebugItemCause.FunctionCall,bm);}};this.hY=function(gg){if(V){V.hY(gg,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.sH=function(){return V.get_debug();};this.BH=function(L){V.set_debug(L);};this.ox=function(){return V.ox();};this.uJ=function(L){IPCC.aV.iA(L,'value',IPCC.Web.UI.DebugErrorLevel);V.uJ(L);};this.aEV=function(L){Jb=L;};this.aFS=function(){return Jb;};var og=function(){if(V.dj()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function dr(bE,T){al.addHandler(bE,T);};function dp(bE,T){al.removeHandler(bE,T);};this.Jy=function(iP,dN){V.aBH(iP,dN);};this.aBh=function(dN,F){V.yJ(F);V.cg();};this.LW=function(T){dr('pageOpening',T);};this.KQ=function(T){dp('pageOpening',T);};this.LE=function(T){dr('pageOpened',T);};this.LM=function(T){dp('pageOpened',T);};this.Xi=function(T){dr('pageClosed',T);};this.VW=function(T){dp('pageClosed',T);};this.Ax=function(T){dr('pageOpenFailed',T);};this.AK=function(T){dp('pageOpenFailed',T);};this.Mo=function(T){dr('pageDisplayed',T);};this.Lb=function(T){dp('pageDisplayed',T);};this.zr=function(T){dr('mouseDown',T);};this.GF=function(T){dp('mouseDown',T);};this.zx=function(T){dr('mouseMove',T);};this.Fm=function(T){dp('mouseMove',T);};this.zm=function(T){dr('mouseUp',T);};this.Gg=function(T){dp('mouseUp',T);};this.Wq=function(T){dr('contextMenu',T);};this.Ud=function(T){dp('contextMenu',T);};this.yH=function(T){dr('markAdded',T);};this.xP=function(T){dp('markAdded',T);};this.XL=function(T){dr('markCreating',T);};this.SA=function(T){dp('markCreating',T);};this.Ez=function(T){dr('markChanged',T);};this.ER=function(T){dp('markChanged',T);};this.AF=function(T){dr('markRemoved',T);};this.xS=function(T){dp('markRemoved',T);};this.Eu=function(T){dr('markReordered',T);};this.Gz=function(T){dp('markReordered',T);};this.OY=function(T){dr('marksLoaded',T);};this.Sp=function(T){dp('marksLoaded',T);};this.CY=function(T){dr('markSelectionChanged',T);};this.Gm=function(T){dp('markSelectionChanged',T);};this.wm=function(T){dr('textPageReady',T);};this.xe=function(T){dp('textPageReady',T);};this.WN=function(T){dr('selectTextMouseToolCompleted',T);};this.Vj=function(T){dp('selectTextMouseToolCompleted',T);};this.Wi=function(T){dr('exceptionThrown',T);};this.WC=function(T){dr('scaleChanged',T);};this.UY=function(T){dp('scaleChanged',T);};this.TO=function(T){dp('exceptionThrown',T);};this.za=function(T){dr('textExtractionFailed',T);};this.Gv=function(T){dp('textExtractionFailed',T);};this.ij=function(T){dr('propertyChanged',T);};this.mr=function(T){dp('propertyChanged',T);};var aH=function(bE,H){try{var T;T=al.getHandler(bE);if(T){T(cD,H);}}catch(e){cD.h(bE+'Event',e);}};var jR=function(bE){function pP(aj,H){aH(bE,H);};V['add_'+bE](pP);};var LY=function(bE){function pP(aj,H){if(zq&&V.FH()){Dj();}aH(bE,H);};V['add_'+bE](pP);};function Dj(){var eK,hq,st;if(op!==''){st=document.getElementById(op);if(st){eK=cD.xI();hq='{encodedDocumentIdentifier:"'+eK.encodedDocumentIdentifier;hq+='",pageNumber:'+eK.pageNumber.toString();hq+=',viewFitType:'+eK.viewFitType.toString();if(eK.viewRectangle&&eK.viewFitType===IPCC.Web.UI.FitType.Rectangle){hq+=',viewRectangle:{x:'+eK.viewRectangle.x.toFixed(5);hq+=',y:'+eK.viewRectangle.y.toFixed(5);hq+=',width:'+eK.viewRectangle.width.toFixed(5);hq+=',height:'+eK.viewRectangle.height.toFixed(5);hq+='}';}if(eK.viewRotationDegreesClockwise){hq+=',viewRotationDegreesClockwise:'+eK.viewRotationDegreesClockwise.toString();}if(eK.viewMirror){hq+=',viewMirror:'+eK.viewMirror.toString();}if(eK.viewZoomFactor){hq+=',viewZoomFactor:'+eK.viewZoomFactor.toString();}if(zq){var bG=V.et();if(bG){hq+=',artPageJson:"'+IPCC.gr.sz(bG.saveToJson())+'"';}}hq+='}';st.value=hq;}}};var XE=function(){function pP(aj,H){var AD=true;switch(H.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':Dj();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'GZ':case 'xQ':AD=false;break;case 'Ix':if(V.FH()){Dj();}AD=false;break;}if(AD){aH('propertyChanged',H);}};V.ij(pP);};this.Yo=function(bP){IPCC.aV.iA(bP,'type',IPCC.Web.UI.FitType);if(bP===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}og();ft={aCs:true,viewFitType:bP};TZ();};this.hg=function(){return V.dj()!==undefined;};this.lN=function(){og();return V.dj().width;};this.mN=function(){og();return V.dj().height;};this.auv=function(){og();return V.dj().gy;};this.atr=function(){return V.am().gV().Dh();};this.auz=function(){og();return V.dj().hc;};this.yq=function(){if(!V|| !(V.dj())){return '';}return V.dj().get_identifier();};this.AE=function(){if(!V|| !(V.dj())){return '';}return V.dj().get_encodedIdentifier();};this.lY=function(){if(!V|| !(V.dj())){return-1;}return V.dj().ai;};this.XG=function(){if(!V|| !(V.dj())){return 0;}return V.dj().fG;};this.anb=function(){var bK=V.dj();if(!bK){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var aL=V.eN();aL.x=aL.y=0;var rE=V.am().gV();rE.Ad();var eH=rE.wh(aL);if(eH.x<0){eH.width+=eH.x;eH.x=0;}if(eH.y<0){eH.height+=eH.y;eH.y=0;}if(eH.x+eH.width>bK.width){eH.width=bK.width-eH.x;}if(eH.y+eH.height>bK.height){eH.height=bK.height-eH.y;}return eH;};function Bm(){var dF={},dI=V.am().gV();dF.documentIdentifier=cD.yq();dF.encodedDocumentIdentifier=cD.AE();dF.pageNumber=cD.lY();dF.artPage=cD.et();dF.referenceDocumentIdentifier=cD.yq();dF.referencePageNumber=cD.lY();dF.viewFitType=IPCC.Web.UI.FitType.Rectangle;dF.viewRectangle=cD.anb();dF.imGearPage=cD.lU();dF.transientArtPage=cD.ln();var ci=dI.Dh();if(ci!==0){dF.viewRotationDegreesClockwise=ci;}if(dI.Mf()){dF.viewMirror=true;}return dF;};this.Qh=function(aM,dC){V.Qh(aM,dC);};this.xI=function(){var dF;if(bb){dF=new IPCC.Web.UI.PageViewState();dF.documentIdentifier=bb.documentIdentifier;dF.encodedDocumentIdentifier=bb.encodedDocumentIdentifier;dF.pageNumber=bb.pageNumber;dF.artPage=bb.artPage;dF.artPageJson=bb.artPageJson;dF.referenceDocumentIdentifier=bb.documentIdentifier;dF.referencePageNumber=bb.pageNumber;dF.viewFitType=bb.viewFitType;dF.viewRectangle=bb.viewRectangle;dF.viewRotationDegreesClockwise=bb.viewRotationDegreesClockwise;dF.viewMirror=bb.viewMirror;dF.viewZoomFactor=bb.viewZoomFactor;dF.transientArtPage=bb.transientArtPage;}else{dF=Bm();}return dF;};this.Pl=function(aB){var aL=V.eN();this.adm(aB,{x:aL.width/2,y:aL.height/2});};this.adm=function(aB,cJ){IPCC.aV.mR(aB,'factor',1.01,20);IPCC.aV.aP(cJ,'point');og();var aN=V.am();var ak=aN.gV();var ar=V.dj();var ki=ak.uh();if(ki*aB>ar.ty){aB=ar.ty/ki;}ak.zJ(aB,aB,cJ.x,cJ.y);ak.kN(ar,V.eN());ft=null;aN.kg(ak);};this.aaR=function(aB){var aL=V.eN();this.acM(aB,{x:aL.width/2,y:aL.height/2});};this.acM=function(aB,cJ){IPCC.aV.mR(aB,'factor',1.01,20);IPCC.aV.aP(cJ,'point');og();var aN=V.am();var ak=aN.gV();var ar=V.dj();var ki=ak.uh();if(ki/aB<ar.uO){aB=ki/ar.uO;}ak.zJ(1/aB,1/aB,cJ.x,cJ.y);ak.kN(ar,V.eN());ft=null;aN.kg(ak);};this.ks=function(aB){var aL=V.eN();this.apn(aB,{x:aL.width/2,y:aL.height/2});};this.apn=function(aB,cJ){IPCC.aV.aP(cJ,'point');og();var aN=V.am();var ak=aN.gV();var ar=V.dj();var ki=ak.uh();if(aB>ar.ty){aB=ar.ty;}else if(aB<ar.uO){aB=ar.uO;}ak.zJ(aB/ki,aB/ki,cJ.x,cJ.y);ak.kN(ar,V.eN());ft=null;aN.kg(ak);};this.As=function(tw){IPCC.aV.VY(tw,'degreesClockwise',[90,180,270,-90,-180,-270]);og();var aN=V.am();var ak=aN.gV();var aL=V.eN();ak.ado(tw,aL.width/2,aL.height/2);ak.kN(V.dj(),V.eN());ft=null;aN.kg(ak);};this.akf=function(){og();var aN=V.am();var ak=aN.gV();var aL=V.eN();ak.zJ(-1,1,aL.width/2,aL.height/2);ak.kN(V.dj(),V.eN());ft=null;aN.kg(ak);};this.anz=function(eH){IPCC.aV.K(eH,'pageRectangle');og();var aN=V.am();var ak=aN.gV();var aL=V.eN();var ar=V.dj();ak.PZ(ar,aL,eH);ak.kN(ar,V.eN());ft=null;aN.kg(ak);};this.aoh=function(cc){IPCC.aV.aP(cc,'imagePoint');og();var aN=V.am();var ak=aN.gV();var aL=V.eN();ak.adY(aL,cc);ak.kN(V.dj(),V.eN());ft=null;aN.kg(ak);};this.amo=function(){og();ft=null;var aN=V.am();var ak=aN.gV();var aL=V.eN();ak.zJ(1,-1,aL.width/2,aL.height/2);ak.kN(V.dj(),V.eN());ft=null;aN.kg(ak);};this.cg=function(){V.cg();};var TZ=function(){var ar=V.dj();var aL=V.eN();var ak;if(!ft){ak=V.am().gV();ak.kN(ar,aL);V.am().kg(ak);return;}if(ft.aCs){ak=V.am().gV();}else{ak=new IPCC.fq();ak.ads(ar,aL);if(ft.viewRotationDegreesClockwise){ak.rotate(ft.viewRotationDegreesClockwise);}if(ft.viewMirror){ak.aqQ(aL);}}if(ft.viewZoomFactor){if(ft.viewZoomFactor>ar.ty){ft.viewZoomFactor=ar.ty;}else if(ft.viewZoomFactor<ar.uO){ft.viewZoomFactor=ar.uO;}ft.viewFitType=IPCC.Web.UI.FitType.ActualSize;ak.Xc(ft.viewFitType,ar,aL);ak.scale(ft.viewZoomFactor,ft.viewZoomFactor);}else{if(!ft.viewFitType&&ft.viewFitType!==0){ft.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(ft.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !ft.viewRectangle){ft.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(ft.viewFitType!==IPCC.Web.UI.FitType.Rectangle){ak.Xc(ft.viewFitType,ar,aL);}else{ak.PZ(ar,aL,ft.viewRectangle);}}ak.kN(ar,aL);V.am().kg(ak);};var agP=function(aEi){ft=aEi;NJ=0;TZ();};this.Ww=function(eO){var oW=false;if(IPCC.Web.mO.length>0){if(Array.prototype.indexOf){if(IPCC.Web.mO.indexOf(eO)>=0){return true;}}else{if(IPCC.Web.gq(IPCC.Web.mO,eO)>=0){return true;}}}return oW;};this.DA=function(au){qB++;var Im=qB;var XH={};Jo=0.0;V.Nx=0.0;IPCC.gr.XM(au);if(je(IPCC.Web.UI.DebugErrorLevel.Development)){var aI='opening documentIdentifier "'+au.documentIdentifier+'", pageNumber '+au.pageNumber;this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Development);}bb=new IPCC.Web.UI.PageViewState();var G;for(G in au){if(au.hasOwnProperty(G)){bb[G]=au[G];}}if(au.documentIdentifier===''){this.yi();return;}if(IPCC.Web.UI.ArtPage){if(bb){if(!bb.artPage){var bG=new IPCC.Web.UI.ArtPage();if(bb.artPageJson){bG.loadFromJson(bb.artPageJson);}bb.artPage=bG;}if(!bb.documentArtPage){var eT=new IPCC.Web.UI.ArtPage();bb.documentArtPage=eT;}if(this.hW()===true){if(!bb.imGearPage){var dO=new IPCC.Web.UI.ImGearDocument({documentIdentifier:au.documentIdentifier,imageServicePath:this.lZ()});bb.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:au.pageNumber,aU:dO});dO.get_pages().addPage(bb.imGearPage);}if(!bb.transientArtPage){bb.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bb.viewRotationDegreesClockwise){IPCC.aV.VY(bb.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bb.viewFitType){IPCC.aV.iA(bb.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bb.viewZoomFactor){IPCC.aV.mR(bb.viewZoomFactor,'parameters.viewZoomFactor',0,20);}aH('pageOpening',au);var bK=new IPCC.gr(au.encodedDocumentIdentifier,au.pageNumber,0,0,0,0);var lV=function(){if(Im!==qB){return;}var ph=null;if(V.dj()){ph=Bm();}V.am().re();V.vv(bK);agP(bb);if(au.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bb){if(bb.artPage){V.kY(bb.artPage);V.et().loadFromJson(bK.agg);}}}else{if(bb){if(bb.artPage){V.kY(bb.artPage);}if(bb.documentArtPage){V.IT(bb.documentArtPage);}if(V.hW()===true){if(bb.imGearPage){var SK=bb.imGearPage.get_pageWidth();var UQ=bb.imGearPage.get_pageHeight();bb.imGearPage.hS(cD.ed());if(!SK){bb.imGearPage.GN(cD.get_pageWidth());}if(!UQ){bb.imGearPage.Jz(cD.get_pageHeight());}V.uk(bb.imGearPage);if(typeof(V.lU().zd==='function')){if(!V.lU().cT().zK()){bb.imGearPage.sh(cD.iR());setTimeout(V.lU().zd,1000);}}}if(bb.transientArtPage){V.uS(bb.transientArtPage);}}}}bb=null;if(ph){aH('pageClosed',ph);}Dj();aH('pageOpened',au);};if(au.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bb){if(!bb.artPageJson){bK.azm(V.lZ(),V,lV,XH);}else{bK.KM(V.lZ(),V,lV);}}}else{bK.KM(V.lZ(),V,lV);}};this.yi=function(){qB++;if(!(V.dj())){return;}var ph=Bm();V.vv(undefined);V.kY(undefined);V.uk(undefined);V.uS(undefined);this.cg();Dj();var aC;aC=cD.hb();if(aC.igElements){if(aC.igElements.sF){aC.igElements.sF.Km=null;aC.igElements.sF.EE=null;aC.igElements.sF.KA=null;aC.igElements.sF=null;}aC.igElements.Du=null;aC.igElements.jx=null;aC.igElements.fO=null;aC.igElements.pp=null;aC.igElements.lT=null;aC.igElements.lF=null;aC.igElements.us=null;aC.igElements.Og=null;aC.igElements.Wg=null;}cD=null;aC.ax=null;aH('pageClosed',ph);};this.aAs=function(au){qB++;var Im=qB;Jo=0.0;V.Nx=0.0;IPCC.gr.XM(au);if(je(IPCC.Web.UI.DebugErrorLevel.Development)){var aI='opening documentIdentifier "'+au.documentIdentifier+'", pageNumber '+au.pageNumber;this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Development);}bb=new IPCC.Web.UI.PageViewState();var G;for(G in au){if(au.hasOwnProperty(G)){bb[G]=au[G];}}if(au.documentIdentifier===''){this.yi();return;}if(IPCC.Web.UI.ArtPage){if(bb){if(!bb.artPage){var bG=new IPCC.Web.UI.ArtPage();bb.artPage=bG;}if(!bb.documentArtPage){var eT=new IPCC.Web.UI.ArtPage();bb.documentArtPage=eT;}if(this.hW()===true){if(!bb.imGearPage){var dO=new IPCC.Web.UI.ImGearDocument({documentIdentifier:au.documentIdentifier,imageServicePath:this.lZ()});bb.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:au.pageNumber,aU:dO});dO.get_pages().addPage(bb.imGearPage);}if(!bb.transientArtPage){bb.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bb.viewRotationDegreesClockwise){IPCC.aV.VY(bb.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bb.viewFitType){IPCC.aV.iA(bb.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bb.viewZoomFactor){IPCC.aV.mR(bb.viewZoomFactor,'parameters.viewZoomFactor',0,20);}aH('pageOpening',au);var bK=new IPCC.gr(au.encodedDocumentIdentifier,au.pageNumber,0,0,0,0);var lV=function(){if(Im!==qB){return;}var ph=null;if(V.dj()){ph=Bm();}V.am().re();V.vv(bK);agP(bb);if(bb){if(bb.artPage){V.kY(bb.artPage);}if(bb.documentArtPage){V.IT(bb.documentArtPage);}if(V.hW()===true){if(bb.imGearPage){var SK=bb.imGearPage.get_pageWidth();var UQ=bb.imGearPage.get_pageHeight();bb.imGearPage.hS(cD.ed());if(!SK){bb.imGearPage.GN(cD.get_pageWidth());}if(!UQ){bb.imGearPage.Jz(cD.get_pageHeight());}V.uk(bb.imGearPage);if(typeof(V.lU().zd==='function')){if(!V.lU().cT().zK()){bb.imGearPage.sh(cD.iR());setTimeout(V.lU().zd,1000);}}}if(bb.transientArtPage){V.uS(bb.transientArtPage);}}}bb=null;if(ph){aH('pageClosed',ph);}Dj();aH('pageOpened',au);};bK.azM(V.lZ(),V,lV);};this.ass=function(){qB++;if(!(V.dj())){return;}var bK=V.dj();V.vv(undefined);this.cg();V.vv(bK);};this.CT=function(Af){V.CT(Af);};this.kY=function(L){V.kY(L);};this.et=function(){return V.et();};this.IT=function(L){V.IT(L);};this.Qj=function(){return V.Qj();};this.ln=function(){return V.ln();};this.uS=function(L){V.uS(L);};this.yw=function(){return V.yw();};this.Ti=function(L){V.Ti(L);};this.uE=function(L){V.uE(L);};this.pd=function(){return V.pd();};this.aDq=function(L){acx=this.apL(L);};this.jm=function(){return acx;};this.PG=function(L){V.PG(L);};this.JS=function(){return V.JS();};this.lO=function(){return V.lO();};this.rd=function(L){V.rd(L);};this.xM=function(L){V.xM(L);};this.Ma=function(){return V.Ma();};this.yP=function(Da){V.yP(Da);};this.AT=function(){return V.AT();};this.apL=function(ae){var aq='',Qr='',VX=function(ah){var um=0,aq;for(aq in ah){if(ah.hasOwnProperty(aq)){um+=1;}}return um;};for(aq in wr){if(wr.hasOwnProperty(aq)){if(typeof ae[aq]==='undefined'){ae[aq]=wr[aq];}if(typeof ae[aq]==='object'){if(!VX(ae[aq])){ae[aq]=wr[aq];}else if(VX(ae[aq])!==VX(wr[aq])){for(Qr in wr[aq]){if(typeof ae[aq][Qr]==='undefined'){ae[aq][Qr]=wr[aq][Qr];}}}}}}return ae;};this.anB=function(aoP){if(aoP===false){IPCC.jh=false;V.eG([new IPCC.qM(),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}else{IPCC.jh=true;IPCC.adX=this.jm();V.eG([new IPCC.qM(),new IPCC.dW(),new IPCC.ga(),new IPCC.cF(),new IPCC.cK(false)]);}};this.re=function(){var aN=V.am();if(!aN.zh()){return;}V.am().re();};this.aoW=function(eH){IPCC.aV.K(eH,'pageRectangle');var bK=V.dj();if(bK){V.am().showSelection(eH);}};this.GS=function(cc){IPCC.aV.aP(cc,'imagePoint');if(V.dj()){V.am().GS(new IPCC.Web.UI.Point(cc.x,cc.y));}};this.De=function(cc){IPCC.aV.aP(cc,'imagePoint');if(V.dj()){V.am().De(new IPCC.Web.UI.Point(cc.x,cc.y));}};this.zS=function(){if(V.dj()&&V.am().zh()){return V.am().zS();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.auP=function(){if(V.dj()&&V.am().zh()){var eH=V.am().zS();return V.am().gV().wh(eH);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.zh=function(){return! !(V.dj()&&V.am().zh());};this.lZ=function(){return V.lZ();};this.HM=function(L){IPCC.aV.iZ(L,'value');V.HM(L);if(!IPCC.Web.sS){if(IPCC.Web.sN===false){IPCC.Web.Qy(L);}}};this.Le=function(){return op;};this.JK=function(L){IPCC.aV.iZ(L,'value');op=L;};this.Xa=function(){return zq;};this.Vr=function(L){zq=L;};var nU='';this.pE=function(L){V.pE(L);nU=L;};this.hb=function(){return nU;};this.avb=function(){return V.am().get_magnifierMagnification();};this.apf=function(L){IPCC.aV.mR(L,'value',1.5,8);V.am().set_magnifierMagnification(L);};this.atP=function(){return V.am().wp().width;};this.aqj=function(L){IPCC.aV.mR(L,'value',25,500);var um=V.am().wp();um.width=L;V.am().set_magnifierWindowSize(um);};this.avh=function(){return V.am().wp().height;};this.aoY=function(L){IPCC.aV.mR(L,'value',25,500);var um=V.am().wp();um.height=L;V.am().set_magnifierWindowSize(um);};this.Oc=function(){return V.am().Oc();};this.Uo=function(L){IPCC.aV.mR(L,'value',-500,500);V.am().Uo(L);};this.Nl=function(){return V.am().Nl();};this.UT=function(L){IPCC.aV.mR(L,'value',-500,500);V.am().UT(L);};this.Wx=function(){return V.am().Wx();};this.Vh=function(L){IPCC.aV.mR(L,'value',0.1,0.5);V.am().Vh(L);};this.zE=function(){return V.am().zE();};this.Ih=function(L){V.am().Ih(L);};this.raisePropertyChanged=function(dK,xt){if(V){V.bS(dK,xt);}};var cO= -1;this.XN=function(){return cO;};this.aFl=function(L){V.wY=L;};this.Kl=function(L){IPCC.aV.iA(L,'value',IPCC.Web.UI.MouseTool);if(cO!==L){cO=L;var jr="None";switch(cO){case IPCC.Web.UI.MouseTool.None:V.eG([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.jh===true){V.eG([new IPCC.uG(),new IPCC.dW(),new IPCC.ga(false,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.uG(),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);jr="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.jh===true){V.eG([new IPCC.qM(),new IPCC.dW(),new IPCC.ga(false,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.qM(),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.jh===true){V.eG([new IPCC.so(),new IPCC.dW(),new IPCC.ga(false,this.jm()),new IPCC.cF(),new IPCC.cK(true)]);}else{V.eG([new IPCC.so(),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(true)]);}jr="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.jh===true){V.eG([new IPCC.sB(),new IPCC.dW(),new IPCC.ga(false,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.sB(),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.jh===true){V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.Rectangle),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.Rectangle),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.jh===true){V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.jh===true){V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.Ellipse),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.Ellipse),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.jh===true){V.eG([new IPCC.qU(),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.qU(),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.jh===true){V.eG([new IPCC.lM(IPCC.Web.UI.MarkType.Polyline),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.lM(IPCC.Web.UI.MarkType.Polyline),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.jh===true){V.eG([new IPCC.oH(),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.oH(),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.jh===true){V.eG([new IPCC.lM(IPCC.Web.UI.MarkType.Polygon),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.lM(IPCC.Web.UI.MarkType.Polygon),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.jh===true){V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.Text),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.Text),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.jh===true){V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.TextLine),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.TextLine),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.jh===true){V.eG([new IPCC.oq(IPCC.Web.UI.MarkType.Text),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.oq(IPCC.Web.UI.MarkType.Text),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.jh===true){V.eG([new IPCC.GO(IPCC.Web.UI.MarkType.Text),new IPCC.dW(),new IPCC.ga(false,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.GO(IPCC.Web.UI.MarkType.Text),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.jh===true){V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.Stamp),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.Stamp),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.jh===true){V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.jh===true){V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.gc(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:V.Jb=true;if(IPCC.jh===true){V.eG([new IPCC.mT(),new IPCC.dW(),new IPCC.ga(false,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.mT(),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:V.Jb=false;if(IPCC.jh===true){V.eG([new IPCC.mT(),new IPCC.dW(),new IPCC.ga(false,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.mT(),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.jh===true){V.eG([new IPCC.mT(),new IPCC.dW(),new IPCC.ga(true,this.jm()),new IPCC.cF(),new IPCC.cK(false)]);}else{V.eG([new IPCC.mT(),new IPCC.dW(),new IPCC.cF(),new IPCC.cK(false)]);}jr="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:jr});}};this.KD=function(art){cO= -1;V.eG(art);};this.auU=function(){return V.am().get_presentationQuality();};this.apI=function(L){IPCC.aV.mR(L,'value',0,100);V.am().set_presentationQuality(L);};this.auG=function(){return V.am().get_scrollBars();};this.arh=function(L){IPCC.aV.iA(L,'value',IPCC.Web.UI.ScrollBars);V.am().set_scrollBars(L);};this.apq=function(cc,arT){IPCC.aV.aP(cc,'imagePoint');if(!(V.dj())){return new IPCC.Web.UI.Point(0,0);}var cJ=V.am().gV().transform(cc);if(arT){cJ.constrain(V.eN());}return cJ;};this.II=function(cJ,arI){IPCC.aV.aP(cJ,'windowPoint');var bK=V.dj();if(!bK){return new IPCC.Web.UI.Point(0,0);}var rE=V.am().gV();rE.Ad();var cc=rE.transform(cJ);if(arI){cc.constrain(bK);}return cc;};function Xe(){var aC;aC=cD.hb();var amE=aC.clientWidth;var adw=aC.clientHeight;var aBZ=(ft&&ft.viewFitType===adE&&amE===acu&&adw===aci);if(aBZ){if(NJ>2){return;}NJ++;}else{adE=ft?ft.viewFitType: -1;acu=amE;aci=adw;NJ=0;}TZ();};function axJ(){ft=null;};function awY(aj,H){switch(H.ec){case IPCC.ej.acc:cD.adm(1.25,H.Va.windowPoint);break;case IPCC.ej.adP:cD.acM(1.25,H.Va.windowPoint);break;case IPCC.ej.Tn:cD.As(H.L);break;case IPCC.ej.ams:cD.amo();break;case IPCC.ej.alA:cD.akf();break;case IPCC.ej.afz:cD.Yo(H.L);break;case IPCC.ej.aeZ:cD.Kl(H.L);break;}};this.hW=function(){return V.hW();};this.xF=function(L){V.xF(L);};this.cT=function(){return V.cT();};this.lU=function(){return V.lU();};this.uk=function(L){V.uk(L);};this.oJ=function(){return V.get_requireRequestsOptimize();};this.rC=function(L){V.rC(L);};this.iR=function(){return V.iR();};this.sh=function(L){V.sh(L);};this.Ky=function(cc){IPCC.aV.aP(cc,'imagePoint');return V.Ky(cc);};this.Cq=function(cz){V.Cq(cz);};this.VQ=function(){V.VQ();};this.MV=function(wP,dC){var Ho=V.cT().fI().dY();IPCC.aV.ov(wP,'wP',0,Ho-1);V.MV(wP,dC);};this.we=function(cz){if(cz===undefined){V.am().we(cz);return false;}var Ho=V.cT().fI().dY();IPCC.aV.ov(cz,'textIndex',0,Ho-1);V.we(cz);return true;};this.KJ=function(){return! !(V.dj()&&V.hW()&&V.cT().nj()===true&&V.am().KJ());};this.WP=function(){var aN=V.am();aN.WP();};this.OV=function(){if(V.hW()&&V.cT().nj()===true){return Math.min(V.am().amZ(),V.am().EW());}};this.DH=function(){if(V.hW()&&V.cT().nj()===true){return V.am().DH();}};this.DC=function(){if(V.hW()&&V.cT().nj()===true&&V.am().KJ()){return V.DC();}else{return "";}};this.EW=function(){return V.am().EW();};this.auq=function(){return V.am().get_cursor();};this.aEl=function(L){V.am().set_cursor(L);};this.zQ=function(){return V.zQ();};this.UF=function(L){V.UF(L);};this.ed=function(){return V.ed();};this.hS=function(L){V.hS(L);};this.aEN=function(){V.am().hideMagnifier();};this.aow=function(cJ){V.am().showMagnifier(cJ);};this.yJ=function(F){if(V.jS().igElements){V.yJ(F);V.cg();}};this.pM=function(){if(V.jS().igElements){V.pM(true);}};function ayh(aj,H){var Av=H.scaleFactor;var be={scaleType:"scaledDown",pageNumber:H.pageNumber};if(Jo!==Av){if(Av>Jo){be.scaleType="scaledUp";}Jo=Av;aH('scaleChanged',be);}};this.initialize=function(){V.acy(this.hb().id);V.pE(this.hb().id);if(cO=== -1){this.Kl(IPCC.Web.UI.MouseTool.RectangleZoom);}jR('mouseDown');jR('mouseMove');jR('mouseUp');jR('contextMenu');jR('markCreating');jR('pageOpenFailed');jR('textPageReady');jR('pageDisplayed');jR('exceptionThrown');jR('selectTextMouseToolCompleted');LY('markAdded');LY('markChanged');LY('markRemoved');jR('textExtractionFailed');LY('markReordered');LY('marksLoaded');jR('markSelectionChanged');XE();V.ahu(Xe);V.axi(axJ);V.axo(awY);V.add_scaleChanged(ayh);V.alj();var aC=this.hb();aC.ax=this;};pO=(pO!==false);V=new IPCC.ahI(pO);V.afb('PageView');};IPCC.Web.UI.PageView.prototype={dispose:function(){this.bp('dispose',arguments);this.yi();},get_debug:function(){try{var bA=this.sH();this.bz('get_debug',arguments,bA);return bA;}catch(e){this.h('get_debug',e);throw e;}},set_debug:function(value){try{this.bp('set_debug',arguments);var ny=this.sH();this.BH(value);if(!ny){this.bp('set_debug',arguments);}}catch(e){this.h('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bA=this.ox();this.bz('get_debugErrorLevel',arguments,bA);return bA;}catch(e){this.h('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bp('set_debugErrorLevel',arguments);var ny=this.ox();this.uJ(value);if(ny<IPCC.Web.UI.DebugErrorLevel.Development){this.bp('set_debugErrorLevel',arguments);}}catch(e){this.h('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var bA=this.AT();this.bz('get_artServiceOption',arguments,bA);return bA;}catch(e){this.h('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bp('set_artServiceOption',arguments);this.yP(value);}catch(e){this.h('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.LW(handler);}catch(e){this.h('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.KQ(handler);}catch(e){this.h('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.LE(handler);}catch(e){this.h('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.LM(handler);}catch(e){this.h('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.Xi(handler);}catch(e){this.h('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.VW(handler);}catch(e){this.h('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Ax(handler);}catch(e){this.h('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.AK(handler);}catch(e){this.h('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Mo(handler);}catch(e){this.h('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Lb(handler);}catch(e){this.h('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.zr(handler);}catch(e){this.h('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.GF(handler);}catch(e){this.h('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.zx(handler);}catch(e){this.h('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Fm(handler);}catch(e){this.h('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.zm(handler);}catch(e){this.h('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Gg(handler);}catch(e){this.h('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.Wq(handler);}catch(e){this.h('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.Ud(handler);}catch(e){this.h('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.yH(handler);}catch(e){this.h('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.xP(handler);}catch(e){this.h('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.XL(handler);}catch(e){this.h('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.SA(handler);}catch(e){this.h('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Ez(handler);}catch(e){this.h('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.ER(handler);}catch(e){this.h('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.AF(handler);}catch(e){this.h('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.xS(handler);}catch(e){this.h('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.Eu(handler);}catch(e){this.h('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Gz(handler);}catch(e){this.h('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.OY(handler);}catch(e){this.h('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.Sp(handler);}catch(e){this.h('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.CY(handler);}catch(e){this.h('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Gm(handler);}catch(e){this.h('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.WN(handler);}catch(e){this.h('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Vj(handler);}catch(e){this.h('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.wm(handler);}catch(e){this.h('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.xe(handler);}catch(e){this.h('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.Wi(handler);},remove_exceptionThrown:function(handler){this.TO(handler);},add_scaleChanged:function(handler){try{this.WC(handler);}catch(e){this.h('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.UY(handler);}catch(e){this.h('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.ij(handler);}catch(e){this.h('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mr(handler);}catch(e){this.h('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.za(handler);},remove_textExtractionFailed:function(handler){this.Gv(handler);},writeToLog:function(message){try{this.hY(message);}catch(e){this.h('writeToLog',e);throw e;}},fitPage:function(type){try{this.bp('fitPage',arguments);this.Yo(type);}catch(e){this.h('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var bA=this.hg();this.bz('get_pageIsOpen',arguments,bA);return bA;}catch(e){this.h('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var bA=this.lN();this.bz('get_pageWidth',arguments,bA);return bA;}catch(e){this.h('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var bA=this.mN();this.bz('get_pageHeight',arguments,bA);return bA;}catch(e){this.h('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var bA=this.auv();this.bz('get_pageXResolution',arguments,bA);return bA;}catch(e){this.h('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var bA=this.auz();this.bz('get_pageYResolution',arguments,bA);return bA;}catch(e){this.h('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var bA=this.yq();this.bz('get_documentIdentifier',arguments,bA);return bA;}catch(e){this.h('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var bA=this.AE();this.bz('get_encodedDocumentIdentifier',arguments,bA);return bA;}catch(e){this.h('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var bA=this.lY();this.bz('get_pageNumber',arguments,bA);return bA;}catch(e){this.h('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var bA=this.XG();this.bz('get_documentPageCount',arguments,bA);return bA;}catch(e){this.h('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var bA=this.anb();this.bz('get_displayedPageRectangle',arguments,bA);return bA;}catch(e){this.h('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var bA=this.xI();this.bz('get_currentState',arguments,bA);return bA;}catch(e){this.h('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.bp('zoomIn',arguments);this.Pl(factor);}catch(e){this.h('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bp('zoomOut',arguments);this.aaR(factor);}catch(e){this.h('zoomOut',e);throw e;}},zoom:function(factor){try{this.bp('zoom',arguments);this.ks(factor);}catch(e){this.h('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.bp('rotate',arguments);this.As(degreesClockwise);}catch(e){this.h('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.bp('showPageRectangle',arguments,1);this.anz(imageRectangle);}catch(e){this.h('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.bp('showPagePointAtCenter',arguments,1);this.aoh(imagePoint);}catch(e){this.h('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.bp('mirror',arguments);this.akf();}catch(e){this.h('mirror',e);throw e;}},flip:function(){try{this.bp('flip',arguments);this.amo();}catch(e){this.h('flip',e);throw e;}},display:function(){try{this.bp('display',arguments);this.cg();}catch(e){this.h('display',e);throw e;}},openPage:function(parameters){try{this.bp('openPage',arguments,1);this.DA(parameters);}catch(e){this.h('openPage',e);throw e;}},closePage:function(){try{this.bp('closePage',arguments);this.yi();}catch(e){this.h('closePage',e);throw e;}},hideSelection:function(){try{this.bp('hideSelection',arguments);this.re();}catch(e){this.h('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.bp('showSelection',arguments);this.aoW(imageRectangle);}catch(e){this.h('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.bp('showEmptySelection',arguments);this.GS(imagePoint);}catch(e){this.h('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.bp('extendSelection',arguments);this.De(imagePoint);}catch(e){this.h('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.bp('saveArtPage',arguments);this.CT(onSave);}catch(e){this.h('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var bA=this.zS();this.bz('get_selectionPageRectangle',arguments,bA);return bA;}catch(e){this.h('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var bA=this.auP();this.bz('get_selectionWindowRectangle',arguments,bA);return bA;}catch(e){this.h('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var bA=this.zh();this.bz('get_selectionIsVisible',arguments,bA);return bA;}catch(e){this.h('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var bA=this.Le();this.bz('get_controlStateElementId',arguments,bA);return bA;}catch(e){this.h('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bp('set_controlStateElementId',arguments);this.JK(value);}catch(e){this.h('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var bA=this.Xa();this.bz('get_includeArtInPostBack',arguments,bA);return bA;}catch(e){this.h('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.bp('set_includeArtInPostBack',arguments);this.Vr(value);}catch(e){this.h('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var bA=this.et();this.bz('get_artPage',arguments,bA);return bA;}catch(e){this.h('get_artPage',e);throw e;}},set_artPage:function(value){try{this.bp('set_artPage',arguments);this.kY(value);}catch(e){this.h('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var bA=this.Qj();this.bz('get_documentArtPage',arguments,bA);return bA;}catch(e){this.h('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.bp('set_documentArtPage',arguments);this.IT(value);}catch(e){this.h('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var bA=this.ln();this.bz('get_transientArtPage',arguments,bA);return bA;}catch(e){this.h('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.bp('set_transientArtPage',arguments);this.uS(value);}catch(e){this.h('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var bA=this.lZ();this.bz('get_imageHandlerUrl',arguments,bA);return bA;}catch(e){this.h('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.bp('set_imageHandlerUrl',arguments);this.HM(value);}catch(e){this.h('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var bA=this.pd();this.bz('get_resourcePath',arguments,bA);return bA;}catch(e){this.h('get_resourcePath',e);throw e;}},set_resourcePath:function(L){try{this.bp('set_resourcePath',arguments);this.uE(L);}catch(e){this.h('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var bA=this.jm();this.bz('get_contextMenuLanguageDictionary',arguments,bA);return bA;}catch(e){this.h('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(L){try{this.bp('set_contextMenuLanguageDictionary',arguments);this.aDq(L);}catch(e){this.h('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var bA=this.hW();this.bz('get_textRequired',arguments,bA);return bA;}catch(e){this.h('get_textRequired',e);throw e;}},set_textRequired:function(L){try{this.bp('set_textRequired',arguments);this.xF(L);}catch(e){this.h('set_textRequired',e);throw e;}},get_textPage:function(){try{var bA=this.cT();this.bz('get_textPage',arguments,bA);return bA;}catch(e){this.h('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var bA=this.KJ();this.xB('textSelectionIsVisible',arguments,bA,1);return bA;}catch(e){this.h('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var bA=this.DC();this.xB('getSelectedText',arguments,bA,1);return bA;}catch(e){this.h('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var bA=this.oJ();this.bz('get_requireRequestsOptimize',arguments,bA);return bA;}catch(e){this.h('oJ',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bp('set_requireRequestsOptimize',arguments);this.rC(value);}catch(e){this.h('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var bA=this.avb();this.bz('get_magnifierMagnification',arguments,bA);return bA;}catch(e){this.h('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.bp('set_magnifierMagnification',arguments);this.apf(value);}catch(e){this.h('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var bA=this.atP();this.bz('get_magnifierWidth',arguments,bA);return bA;}catch(e){this.h('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.bp('set_magnifierWidth',arguments);this.aqj(value);}catch(e){this.h('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var bA=this.avh();this.bz('get_magnifierHeight',arguments,bA);return bA;}catch(e){this.h('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.bp('set_magnifierHeight',arguments);this.aoY(value);}catch(e){this.h('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var bA=this.Oc();this.bz('get_magnifierXOffset',arguments,bA);return bA;}catch(e){this.h('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.bp('set_magnifierXOffset',arguments);this.Uo(value);}catch(e){this.h('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var bA=this.Nl();this.bz('get_magnifierYOffset',arguments,bA);return bA;}catch(e){this.h('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.bp('set_magnifierYOffset',arguments);this.UT(value);}catch(e){this.h('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.bp('showMagnifier',arguments,1);this.aow(windowPoint);}catch(e){this.h('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.bp('hideMagnifier',arguments);this.aEN();}catch(e){this.h('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var bA=this.Wx();this.bz('get_markHandleSize',arguments,bA);return bA;}catch(e){this.h('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.bp('set_markHandleSize',arguments);this.Vh(value);}catch(e){this.h('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var bA=this.zE();this.bz('get_markHandleMode',arguments,bA);return bA;}catch(e){this.h('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.bp('set_markHandleMode',arguments);this.Ih(value);}catch(e){this.h('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var bA=this.XN();this.bz('get_mouseTool',arguments,bA);return bA;}catch(e){this.h('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bp('set_mouseTool',arguments);this.Kl(value);}catch(e){this.h('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var bA=this.auU();this.bz('get_presentationQuality',arguments,bA);return bA;}catch(e){this.h('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.bp('set_presentationQuality',arguments);this.apI(value);}catch(e){this.h('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var bA=this.auG();this.bz('get_scrollBars',arguments,bA);return bA;}catch(e){this.h('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.bp('set_scrollBars',arguments);this.arh(value);}catch(e){this.h('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var bA=this.lU();this.bz('get_imGearPage',arguments,bA);return bA;}catch(e){this.h('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.bp('set_imGearPage',arguments);this.uk(value);}catch(e){this.h('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var bA=this.iR();this.bz('get_serviceResponseTimeout',arguments,bA);return bA;}catch(e){this.h('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bp('set_serviceResponseTimeout',arguments);this.sh(value);}catch(e){this.h('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var bA=this.EW();this.bz('get_currentTextIndex',arguments,bA);return bA;}catch(e){this.h('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var bA=this.auq();this.bz('get_cursor',arguments,bA);return bA;}catch(e){this.h('get_cursor',e);throw e;}},set_cursor:function(value){try{this.bp('set_cursor',arguments);this.aEl(value);}catch(e){this.h('set_cursor',e);throw e;}},get_encryption:function(){try{var bA=this.ed();this.bz('get_encryption',arguments,bA);return bA;}catch(e){this.h('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bp('set_encryption',arguments);this.hS(value);}catch(e){this.h('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var bA=this.apq(imagePoint,constrainResultToWindow);this.xB('transformPagePointToWindow',arguments,bA,1);return bA;}catch(e){this.h('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var bA=this.II(windowPoint,constrainResultToImage);this.xB('transformWindowPointToPage',arguments,bA,1);return bA;}catch(e){this.h('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var bA=this.Ky(pagePoint);this.xB('transformPagePointToTextIndex',arguments,bA,1);return bA;}catch(e){this.h('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.bp('removeAllHighlights',arguments);this.VQ();}catch(e){this.h('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.bp('showTextSelection',arguments);this.MV(indexOfFirstCharacter,length);}catch(e){this.h('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.bp('showEmptyTextSelection',arguments);this.Cq(textIndex);}catch(e){this.h('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.bp('extendTextSelection',arguments);this.we(textIndex);}catch(e){this.h('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.bp('initializeViewControllers',arguments);this.anB(showArtContextMenu);}catch(e){this.h('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var bA=this.zQ();this.bz('get_autoUpdate',arguments,bA);return bA;}catch(e){this.h('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.bp('set_autoUpdate',arguments);this.UF(value);}catch(e){this.h('set_autoUpdate',e);throw e;}}};IPCC.Web.UI.PageView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageView.registerClass('IPCC.Web.UI.PageView',IPCC.Sys.UI.Control);IPCC.Web.UI.ThumbnailView=function(element){var cD=this;var bb;var V;var qB=0;var op='';var zq=false;var Lh='';var qr=null;var qA=null;var OX=null;var qC=false;var al=new IPCC.Web.UI.gj();function je(wt){if(!V){return false;}return V.je(wt);};this.h=function(eW,iE){if(je(IPCC.Web.UI.DebugErrorLevel.Production)){V.logException(eW,iE);}};this.bp=function(eW,dU,jA){if(!je(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aI=eW+'(';var G;for(G=0;G<dU.length;G++){if(G>0){aI+=', ';}aI+=IPCC.dZ.im(dU[G],(jA?jA:0));}aI+=')';this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Development);};this.xB=function(eW,dU,jq,jA){if(!je(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aI=eW+'(';var G;for(G=0;G<dU.length;G++){if(G>0){aI+=', ';}aI+=IPCC.dZ.im(dU[G],(jA?jA:0));}aI+=') = ';aI+=IPCC.dZ.im(jq,1);this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Development);};this.bz=function(eW,dU,jq){if(!je(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aI=eW+'(';var G;for(G=0;G<dU.length;G++){if(G>0){aI+=', ';}aI+=IPCC.dZ.im(dU[G],0);}aI+=') = ';aI+=IPCC.dZ.im(jq,1);this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.mX=function(gg,bm){if(V){V.hY(gg,IPCC.Web.UI.DebugItemCause.FunctionCall,bm);}};this.hY=function(gg){if(V){V.hY(gg,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.sH=function(){return V.get_debug();};this.BH=function(L){V.set_debug(L);};this.ox=function(){return V.ox();};this.uJ=function(L){IPCC.aV.iA(L,'value',IPCC.Web.UI.DebugErrorLevel);V.uJ(L);};function dr(bE,T){al.addHandler(bE,T);};function dp(bE,T){al.removeHandler(bE,T);};this.LW=function(T){dr('pageOpening',T);};this.KQ=function(T){dp('pageOpening',T);};this.LE=function(T){dr('pageOpened',T);};this.LM=function(T){dp('pageOpened',T);};this.Xi=function(T){dr('pageClosed',T);};this.Ax=function(T){dr('pageOpenFailed',T);};this.AK=function(T){dp('pageOpenFailed',T);};this.Mo=function(T){dr('pageDisplayed',T);};this.Lb=function(T){dp('pageDisplayed',T);};this.VW=function(T){dp('pageClosed',T);};this.zr=function(T){dr('mouseDown',T);};this.GF=function(T){dp('mouseDown',T);};this.zx=function(T){dr('mouseMove',T);};this.Fm=function(T){dp('mouseMove',T);};this.zm=function(T){dr('mouseUp',T);};this.Gg=function(T){dp('mouseUp',T);};this.Wq=function(T){dr('contextMenu',T);};this.Ud=function(T){dp('contextMenu',T);};this.yH=function(T){dr('markAdded',T);};this.xP=function(T){dp('markAdded',T);};this.Ez=function(T){dr('markChanged',T);};this.ER=function(T){dp('markChanged',T);};this.AF=function(T){dr('markRemoved',T);};this.xS=function(T){dp('markRemoved',T);};this.Eu=function(T){dr('markReordered',T);};this.Gz=function(T){dp('markReordered',T);};this.OY=function(T){dr('marksLoaded',T);};this.Sp=function(T){dp('marksLoaded',T);};this.axy=function(T){dr('marksSaved',T);};this.aBy=function(T){dp('marksSaved',T);};this.CY=function(T){dr('markSelectionChanged',T);};this.Gm=function(T){dp('markSelectionChanged',T);};this.wm=function(T){dr('textPageReady',T);};this.xe=function(T){dp('textPageReady',T);};this.oJ=function(){return V.get_requireRequestsOptimize();};this.rC=function(L){V.rC(L);};this.raisePropertyChanged=function(dK){if(V){V.bS(dK);}};var aH=function(bE,H){try{var T;T=al.getHandler(bE);if(T){T(cD,H);}}catch(e){cD.h(bE+'Event',e);}};var jR=function(bE){function pP(aj,H){aH(bE,H);};V['add_'+bE](pP);};var IB=function(bE){function pP(aj,H){if(V.FH()){rc();}};V['add_'+bE](pP);};function rc(){var st,eK,hq;if(op!==''){st=document.getElementById(op);if(st){eK=cD.xI();hq='{encodedDocumentIdentifier:"'+eK.encodedDocumentIdentifier;hq+='",pageNumber:'+eK.pageNumber.toString();hq+=',selected:'+qC.toString();if(zq){var bG=V.et();if(bG){hq+=',artPageJson:"'+IPCC.gr.sz(bG.saveToJson())+'"';}}hq+='}';st.value=hq;}}};var XE=function(){function pP(aj,H){var AD=true;switch(H.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':rc();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'GZ':case 'xQ':AD=false;break;case 'Ix':if(V.FH()){rc();}AD=false;break;}if(AD){aH('propertyChanged',H);}};V.ij(pP);};this.yq=function(){if(!V|| !(V.dj())){return '';}return V.dj().get_identifier();};this.AE=function(){if(!V|| !(V.dj())){return '';}return V.dj().get_encodedIdentifier();};this.lY=function(){if(!V|| !(V.dj())){return-1;}return V.dj().ai;};this.XG=function(){if(!V|| !(V.dj())){return 0;}return V.dj().fG;};this.lN=function(){if(!V|| !(V.dj())){return 0;}return V.dj().width;};this.mN=function(){if(!V|| !(V.dj())){return 0;}return V.dj().height;};function Bm(){var dF={};dF.documentIdentifier=cD.yq();dF.encodedDocumentIdentifier=cD.AE();dF.pageNumber=cD.lY();dF.referenceDocumentIdentifier=cD.yq();dF.referencePageNumber=cD.lY();dF.selected=cD.Pm();dF.artPage=cD.et();dF.imGearPage=cD.lU();dF.transientArtPage=cD.ln();return dF;};this.xI=function(){var dF;if(bb){dF=new IPCC.Web.UI.ThumbnailViewState();dF.documentIdentifier=bb.documentIdentifier;dF.encodedDocumentIdentifier=bb.encodedDocumentIdentifier;dF.pageNumber=bb.pageNumber;dF.referenceDocumentIdentifier=bb.documentIdentifier;dF.referencePageNumber=bb.pageNumber;dF.selected=bb.selected;dF.artPage=bb.artPage;dF.imGearPage=bb.imGearPage;dF.transientArtPage=bb.transientArtPage;}else{dF=Bm();}return dF;};this.atT=function(){return qA;};this.aqs=function(value){qA=value;};var Un=function(){var aN=V.am();var ar=V.dj();var aL=V.eN();var ak=aN.gV();ak.ads(ar,aL);ak.ahw(ar,aL);ak.kN(ar,aL);aN.kg(ak);};this.cg=function(){V.cg();};function aea(){if(OX){OX.remove_pageOpened(afW);OX=null;}};function afW(sender,eventArgs){var bb=cD.xI();if(eventArgs.documentIdentifier!==bb.documentIdentifier||eventArgs.pageNumber!==bb.pageNumber){aea();cD.RZ(false);}};function agb(){if(!Lh){return;}if(!qr){qr=document.getElementById(Lh).ax;}if(qr){var aEE=cD.get_imGearPage();if(aEE){qr.set_imGearPage(cD.get_imGearPage());}}if(!qr){return;}aea();qr.add_pageOpened(afW);OX=qr;var bb=cD.xI();if(bb.encodedDocumentIdentifier!==''){qr.openPage({encodedDocumentIdentifier:bb.encodedDocumentIdentifier,pageNumber:bb.pageNumber,viewFitType:qA.viewFitType,viewRotationDegreesClockwise:qA.viewRotationDegreesClockwise,viewZoomFactor:qA.viewZoomFactor,artPage:bb.artPage,imGearPage:cD.lU()});}};this.Ww=function(eO){var oW=false;if(IPCC.Web.mO.length>0){if(Array.prototype.indexOf){if(IPCC.Web.mO.indexOf(eO)>=0){return true;}}else{if(IPCC.Web.gq(IPCC.Web.mO,eO)>=0){return true;}}}return oW;};this.DA=function(au){qB++;var Im=qB;var XH;IPCC.gr.XM(au);bb=new IPCC.Web.UI.ThumbnailViewState();var G;for(G in au){if(au.hasOwnProperty(G)){bb[G]=au[G];}}if(au.documentIdentifier===''){this.yi();return;}if(IPCC.Web.UI.ArtPage){if(bb){if(!bb.artPage){var bG=new IPCC.Web.UI.ArtPage();if(bb.artPageJson){bG.loadFromJson(bb.artPageJson);}bb.artPage=bG;}if(this.hW()===true){if(!bb.imGearPage){var dO=new IPCC.Web.UI.ImGearDocument({documentIdentifier:au.documentIdentifier,imageServicePath:this.lZ()});dO.hS(cD.ed());bb.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:au.pageNumber,aU:dO});bb.imGearPage.hS(cD.ed());dO.get_pages().addPage(bb.imGearPage);}if(!bb.transientArtPage){bb.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}aH('pageOpening',au);if(qC){agb();}var bK=new IPCC.gr(au.encodedDocumentIdentifier,au.pageNumber,0,0,0,0);function avC(){Un();if(au.selected!==undefined){cD.set_selected(au.selected);}bb=null;};var lV=function(){if(Im!==qB){return;}var ph=null;if(V.dj()){ph=Bm();}V.vv(bK);if(au.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bb){if(bb.artPage){V.kY(bb.artPage);V.et().loadFromJson(bK.agg);}}}else{if(bb){if(bb.artPage){V.kY(bb.artPage);}if(V.hW()===true){if(bb.imGearPage){V.uk(bb.imGearPage);}if(bb.transientArtPage){V.uS(bb.transientArtPage);}}}}avC();rc();if(ph){aH('pageClosed',ph);}rc();aH('pageOpened',au);};if(au.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bb){if(!bb.artPageJson){bK.azm(V.lZ(),V,lV,XH);}else{bK.KM(V.lZ(),V,lV);}}}else{bK.KM(V.lZ(),V,lV);}};this.yi=function(){bb=null;V.vv(undefined);cD.cg();rc();aH('pageClosed',{});};this.CT=function(Af){V.CT(Af);};this.kY=function(L){V.kY(L);};this.et=function(){return V.et();};this.ln=function(){return V.ln();};this.uS=function(L){V.uS(L);};this.yw=function(){return V.yw();};this.Ti=function(L){V.Ti(L);};this.uE=function(L){V.uE(L);};this.pd=function(){return V.pd();};this.Qh=function(aM,dC){V.Qh(aM,dC);};this.yP=function(Da){V.yP(Da);};this.AT=function(){return V.AT();};this.Pm=function(){return qC;};this.RZ=function(L){if(qC!==L){qC=L;rc();if(qC){agb();}this.raisePropertyChanged('selected');}};this.lZ=function(){return V.lZ();};this.HM=function(L){IPCC.aV.iZ(L,'value');V.HM(L);if(!IPCC.Web.sS){if(IPCC.Web.sN===false){IPCC.Web.Qy(L);}}};this.Le=function(){return op;};this.JK=function(L){IPCC.aV.iZ(L,'value');op=L;};this.Xa=function(){return zq;};this.Vr=function(L){zq=L;};this.atq=function(){return Lh;};this.apH=function(L){if(Lh!==L){Lh=L;qr=null;this.raisePropertyChanged('pageViewClientID');}};this.PG=function(L){V.PG(L);};this.JS=function(){return V.JS();};this.xM=function(L){V.xM(L);};this.Ma=function(){return V.Ma();};var nU='';this.pE=function(L){V.pE(L);nU=L;};this.hb=function(){return nU;};function Xe(){Un();};this.hW=function(){return V.hW();};this.xF=function(L){V.xF(L);};this.cT=function(){return V.cT();};this.lU=function(){return V.lU();};this.uk=function(L){V.uk(L);};this.iR=function(){return V.iR();};this.sh=function(L){V.sh(L);};this.ed=function(){return V.ed();};this.hS=function(L){V.hS(L);};this.initialize=function(){var aC;V.acy(this.hb().id);aC=this.hb();aC.ax=this;var G;for(G=aC.childNodes.length-1;G>=0;G--){if(aC.childNodes[G].tagName!=='INPUT'){aC.removeChild(aC.childNodes[G]);}}V.alj();V.am().set_cursor(IPCC.aO.None);V.am().set_scrollBars(IPCC.Web.UI.ScrollBars.None);V.am().set_presentationQuality(100);jR('mouseDown');jR('mouseMove');jR('mouseUp');jR('pageOpenFailed');jR('contextMenu');jR('textPageReady');jR('pageDisplayed');IB('markAdded');IB('markChanged');IB('markRemoved');IB('markReordered');IB('marksLoaded');XE();V.ahu(Xe);aC.ax=this;};V=new IPCC.ahI();V.afb('ThumbnailView');};IPCC.Web.UI.ThumbnailView.prototype={dispose:function(){this.bp('dispose',arguments);this.yi();},get_debug:function(){try{var bA=this.sH();this.bz('get_debug',arguments,bA);return bA;}catch(e){this.h('get_debug',e);throw e;}},set_debug:function(value){try{this.bp('set_debug',arguments);var ny=this.sH();this.BH(value);if(!ny){this.bp('set_debug',arguments);}}catch(e){this.h('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bA=this.ox();this.bz('get_debugErrorLevel',arguments,bA);return bA;}catch(e){this.h('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bp('set_debugErrorLevel',arguments);var ny=this.ox();this.uJ(value);if(ny<IPCC.Web.UI.DebugErrorLevel.Development){this.bp('set_debugErrorLevel',arguments);}}catch(e){this.h('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var bA=this.AT();this.bz('get_artServiceOption',arguments,bA);return bA;}catch(e){this.h('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bp('set_artServiceOption',arguments);this.yP(value);}catch(e){this.h('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.LW(handler);}catch(e){this.h('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.KQ(handler);}catch(e){this.h('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.LE(handler);}catch(e){this.h('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.LM(handler);}catch(e){this.h('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.Xi(handler);}catch(e){this.h('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.VW(handler);}catch(e){this.h('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Ax(handler);}catch(e){this.h('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.AK(handler);}catch(e){this.h('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Mo(handler);}catch(e){this.h('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Lb(handler);}catch(e){this.h('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.zr(handler);}catch(e){this.h('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.GF(handler);}catch(e){this.h('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.zx(handler);}catch(e){this.h('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Fm(handler);}catch(e){this.h('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.zm(handler);}catch(e){this.h('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Gg(handler);}catch(e){this.h('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.Wq(handler);}catch(e){this.h('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.Ud(handler);}catch(e){this.h('remove_contextMenu',e);throw e;}},writeToLog:function(message){try{this.hY(message);}catch(e){this.h('writeToLog',e);throw e;}},get_documentIdentifier:function(){try{var bA=this.yq();this.bz('get_documentIdentifier',arguments,bA);return bA;}catch(e){this.h('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var bA=this.AE();this.bz('get_encodedDocumentIdentifier',arguments,bA);return bA;}catch(e){this.h('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var bA=this.lY();this.bz('get_pageNumber',arguments,bA);return bA;}catch(e){this.h('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var bA=this.XG();this.bz('get_documentPageCount',arguments,bA);return bA;}catch(e){this.h('get_documentPageCount',e);throw e;}},get_pageWidth:function(){try{var bA=this.lN();this.bz('get_pageWidth',arguments,bA);return bA;}catch(e){this.h('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var bA=this.mN();this.bz('get_pageHeight',arguments,bA);return bA;}catch(e){this.h('get_pageHeight',e);throw e;}},get_currentState:function(){try{var bA=this.xI();this.bz('get_currentState',arguments,bA);return bA;}catch(e){this.h('get_currentState',e);throw e;}},openPage:function(parameters){try{this.bp('openPage',arguments,1);this.DA(parameters);}catch(e){this.h('openPage',e);throw e;}},closePage:function(){try{this.bp('closePage',arguments);this.yi();}catch(e){this.h('closePage',e);throw e;}},saveArtPage:function(onSave){try{this.bp('saveArtPage',arguments);this.CT(onSave);}catch(e){this.h('saveArtPage',e);throw e;}},display:function(){try{this.bp('display',arguments);this.cg();}catch(e){this.h('display',e);throw e;}},get_controlStateElementId:function(){try{var bA=this.Le();this.bz('get_controlStateElementId',arguments,bA);return bA;}catch(e){this.h('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bp('set_controlStateElementId',arguments);this.JK(value);}catch(e){this.h('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var bA=this.Xa();this.bz('get_includeArtInPostBack',arguments,bA);return bA;}catch(e){this.h('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.bp('set_includeArtInPostBack',arguments);this.Vr(value);}catch(e){this.h('set_includeArtInPostBack',e);throw e;}},get_pageViewClientID:function(){try{var bA=this.atq();this.bz('get_pageViewClientID',arguments,bA);return bA;}catch(e){this.h('get_pageViewClientID',e);throw e;}},set_pageViewClientID:function(value){try{this.bp('set_pageViewClientID',arguments);this.apH(value);}catch(e){this.h('set_pageViewClientID',e);throw e;}},get_artPage:function(){try{var bA=this.et();this.bz('get_artPage',arguments,bA);return bA;}catch(e){this.h('get_artPage',e);throw e;}},set_artPage:function(value){try{this.bp('set_artPage',arguments);this.kY(value);}catch(e){this.h('set_artPage',e);throw e;}},get_transientArtPage:function(){try{var bA=this.ln();this.bz('get_transientArtPage',arguments,bA);return bA;}catch(e){this.h('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.bp('set_transientArtPage',arguments);this.uS(value);}catch(e){this.h('set_transientArtPage',e);throw e;}},get_resourcePath:function(){try{var bA=this.pd();this.bz('get_resourcePath',arguments,bA);return bA;}catch(e){this.h('get_resourcePath',e);throw e;}},set_resourcePath:function(L){try{this.bp('set_resourcePath',arguments);this.uE(L);}catch(e){this.h('set_resourcePath',e);throw e;}},get_imageHandlerUrl:function(){try{var bA=this.lZ();this.bz('get_imageHandlerUrl',arguments,bA);return bA;}catch(e){this.h('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.bp('set_imageHandlerUrl',arguments);this.HM(value);}catch(e){this.h('set_imageHandlerUrl',e);throw e;}},get_selected:function(){try{var bA=this.Pm();this.bz('get_selected',arguments,bA);return bA;}catch(e){this.h('get_selected',e);throw e;}},set_selected:function(value){try{this.bp('set_selected',arguments);this.RZ(value);}catch(e){this.h('set_selected',e);throw e;}},get_textRequired:function(){try{var bA=this.hW();this.bz('get_textRequired',arguments,bA);return bA;}catch(e){this.h('get_textRequired',e);throw e;}},set_textRequired:function(L){try{this.bp('set_textRequired',arguments);this.xF(L);}catch(e){this.h('set_textRequired',e);throw e;}},get_textPage:function(){try{var bA=this.cT();this.bz('get_textPage',arguments,bA);return bA;}catch(e){this.h('get_textPage',e);throw e;}},set_textPage:function(value){try{this.bp('set_textPage',arguments);this.aqM(value);}catch(e){this.h('set_textPage',e);throw e;}},get_imGearPage:function(){try{var bA=this.lU();this.bz('get_imGearPage',arguments,bA);return bA;}catch(e){this.h('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.bp('set_imGearPage',arguments);this.uk(value);}catch(e){this.h('set_imGearPage',e);throw e;}},add_textPageReady:function(handler){try{this.wm(handler);}catch(e){this.h('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.xe(handler);}catch(e){this.h('remove_textPageReady',e);throw e;}},get_requireRequestsOptimize:function(){try{var bA=this.oJ();this.bz('get_requireRequestsOptimize',arguments,bA);return bA;}catch(e){this.h('oJ',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bp('set_requireRequestsOptimize',arguments);this.rC(value);}catch(e){this.h('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var bA=this.iR();this.bz('get_serviceResponseTimeout',arguments,bA);return bA;}catch(e){this.h('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bp('set_serviceResponseTimeout',arguments);this.sh(value);}catch(e){this.h('set_serviceResponseTimeout',e);throw e;}},get_encryption:function(){try{var bA=this.ed();this.bz('get_encryption',arguments,bA);return bA;}catch(e){this.h('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bp('set_encryption',arguments);this.hS(value);}catch(e){this.h('set_encryption',e);throw e;}}};IPCC.Web.UI.ThumbnailView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ThumbnailView.registerClass('IPCC.Web.UI.ThumbnailView',IPCC.Sys.UI.Control);IPCC.fq=function(hV,iX,iC,jo,fl,fc){if(arguments.length===0){hV=jo=1;iX=iC=fl=fc=0;}this.ano=function(){return hV*jo-iX*iC;};this.aFM=function(){return hV===1&&iX===0&&iC===0&&jo===1&&fl===0&&fc===0;};this.sU=function(){return hV;};this.sI=function(){return iX;};this.rO=function(){return iC;};this.uN=function(){return jo;};this.yE=function(){return fl;};this.ye=function(){return fc;};this.append=function(dI){var IP=hV*dI.sU()+iX*dI.rO();var Kc=hV*dI.sI()+iX*dI.uN();var Jf=iC*dI.sU()+jo*dI.rO();var Jn=iC*dI.sI()+jo*dI.uN();var Ji=fl*dI.sU()+fc*dI.rO()+dI.yE();var GV=fl*dI.sI()+fc*dI.uN()+dI.ye();hV=IP;iX=Kc;iC=Jf;jo=Jn;fl=Ji;fc=GV;};this.equals=function(L){if(hV!==L.sU()){return false;}if(iX!==L.sI()){return false;}if(iC!==L.rO()){return false;}if(jo!==L.uN()){return false;}if(fl!==L.yE()){return false;}if(fc!==L.ye()){return false;}return true;};this.Ad=function(){if(!this.amV()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var FU=this.ano();var IP=jo/FU;var Kc= -iX/FU;var Jf= -iC/FU;var Jn=hV/FU;var Ji=(iC*fc-jo*fl)/FU;var GV=(iX*fl-hV*fc)/FU;hV=IP;iX=Kc;iC=Jf;jo=Jn;fl=Ji;fc=GV;};this.Cf=function(dI){var IP=dI.sU()*hV+dI.sI()*iC;var Kc=dI.sU()*iX+dI.sI()*jo;var Jf=dI.rO()*hV+dI.uN()*iC;var Jn=dI.rO()*iX+dI.uN()*jo;var Ji=dI.yE()*hV+dI.ye()*iC+fl;var GV=dI.yE()*iX+dI.ye()*jo+fc;hV=IP;iX=Kc;iC=Jf;jo=Jn;fl=Ji;fc=GV;};this.zJ=function(jV,sx,oD,pr){fl-=oD;fc-=pr;this.scale(jV,sx);fl+=oD;fc+=pr;};this.aqk=function(){hV=jo=1;iX=iC=fl=fc=0;};this.transform=function(aP){var aF=aP.x*hV+aP.y*iC+fl;var ey=aP.y*jo+aP.x*iX+fc;return new IPCC.Web.UI.Point(aF,ey);};this.pu=function(XF,Xd){fl+=XF;fc+=Xd;};this.aDy=function(L){if(Math.abs(hV-L.sU())>1e-8){return false;}if(Math.abs(iX-L.sI())>1e-8){return false;}if(Math.abs(iC-L.rO())>1e-8){return false;}if(Math.abs(jo-L.uN())>1e-8){return false;}if(Math.abs(fl-L.yE())>1e-8){return false;}if(Math.abs(fc-L.ye())>1e-8){return false;}return true;};this.toString=function(){return '{'+hV.toFixed(6)+', '+iX.toFixed(6)+', '+iC.toFixed(6)+', '+jo.toFixed(6)+', '+fl.toFixed(3)+', '+fc.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.fq(hV,iX,iC,jo,fl,fc);};this.TJ=function(hs){hV=hs.sU();iX=hs.sI();iC=hs.rO();jo=hs.uN();fl=hs.yE();fc=hs.ye();};this.ads=function(ar,aL){hV=1;jo=aL.hc*ar.gy/(ar.hc*aL.gy);iX=iC=fl=fc=0;};this.Xc=function(bP,ar,aL){switch(bP){case IPCC.Web.UI.FitType.FullImage:this.ahw(ar,aL);break;case IPCC.Web.UI.FitType.FullWidth:this.aeR(ar,aL);break;case IPCC.Web.UI.FitType.FullHeight:this.ahc(ar,aL);break;case IPCC.Web.UI.FitType.ActualSize:this.agn(ar,aL);break;case IPCC.Web.UI.FitType.OneToOne:if(!(ar.sC)){this.agn(ar,aL);}else{this.apv(ar,aL);}break;}};this.aeR=function(ar,aL){var oB=this.rR(ar);var Cw=aL.width-2;if(Cw<1){Cw=1;}var aB=Cw/oB.width;this.scale(aB,aB);oB=this.rR(ar);if(oB.y<0){this.pu(0,-oB.y);}};this.ahc=function(ar,aL){var oB=this.rR(ar);var Cw=aL.height-2;if(Cw<1){Cw=1;}var aB=Cw/oB.height;this.scale(aB,aB);oB=this.rR(ar);if(oB.x<0){this.pu(-oB.x,0);}};this.ahw=function(ar,aL){var lK=this.clone();lK.aeR(ar,aL);this.ahc(ar,aL);if(Math.max(Math.abs(hV),Math.abs(iX))>Math.max(Math.abs(lK.sU()),Math.abs(lK.sI()))){this.TJ(lK);}};this.agn=function(ar,aL){var oB=this.rR({x:0,y:0,width:ar.gy,height:ar.hc});var aB=aL.gy/oB.width;this.scale(aB,aB);};this.apv=function(ar,aL){var oB=this.rR({x:0,y:0,width:1,height:1});var aB=1/Math.min(oB.width,oB.height);this.scale(aB,aB);if(Math.abs(hV-1)<0.0001){hV=1;}if(Math.abs(jo-1)<0.0001){jo=1;}};return this;};IPCC.fq.prototype.amV=function(){return Math.abs(this.ano())>1e-14;};IPCC.fq.prototype.rotate=function(zU){this.ado(zU,0,0);};IPCC.fq.prototype.ado=function(zU,oD,pr){var Mi=zU*Math.PI*2/360;var hQ=Math.sin(Mi);var eL=Math.cos(Mi);var dI=new IPCC.fq(eL,hQ,-hQ,eL,oD*(1-eL)+pr*hQ,pr*(1-eL)-oD*hQ);this.append(dI);};IPCC.fq.prototype.aCR=function(zU,oD,pr){var Mi=zU*Math.PI*2/360;var hQ=Math.sin(Mi);var eL=Math.cos(Mi);var dI=new IPCC.fq(eL,hQ,-hQ,eL,oD*(1-eL)+pr*hQ,pr*(1-eL)-oD*hQ);this.Cf(dI);};IPCC.fq.prototype.aGq=function(zU){this.aCR(zU,0,0);};IPCC.fq.prototype.scale=function(jV,sx){var dI=new IPCC.fq(jV,0,0,sx,0,0);this.append(dI);};IPCC.fq.prototype.aGr=function(jV,sx,oD,pr){var dI=new IPCC.fq(jV,0,0,sx,oD*(1-jV),pr*(1-sx));this.Cf(dI);};IPCC.fq.prototype.aFb=function(jV,sx){var dI=new IPCC.fq(jV,0,0,sx,0,0);this.Cf(dI);};IPCC.fq.prototype.skew=function(ru,sY){var dI=new IPCC.fq(1,Math.tan(sY*Math.PI*2/360),Math.tan(ru*Math.PI*2/360),1,0,0);this.append(dI);};IPCC.fq.prototype.aHg=function(ru,sY){var dI=new IPCC.fq(1,Math.tan(sY*Math.PI*2/360),Math.tan(ru*Math.PI*2/360),1,0,0);this.Cf(dI);};IPCC.fq.prototype.aHo=function(XF,Xd){var dI=new IPCC.fq(1,0,0,1,XF,Xd);this.Cf(dI);};IPCC.fq.prototype.wh=function(K){var gO=this.transform({x:K.x,y:K.y});var lL=gO.x;var nH=gO.x;var mn=gO.y;var oa=gO.y;gO=this.transform({x:K.x+K.width,y:K.y});lL=Math.min(lL,gO.x);nH=Math.max(nH,gO.x);mn=Math.min(mn,gO.y);oa=Math.max(oa,gO.y);gO=this.transform({x:K.x+K.width,y:K.y+K.height});lL=Math.min(lL,gO.x);nH=Math.max(nH,gO.x);mn=Math.min(mn,gO.y);oa=Math.max(oa,gO.y);gO=this.transform({x:K.x,y:K.y+K.height});lL=Math.min(lL,gO.x);nH=Math.max(nH,gO.x);mn=Math.min(mn,gO.y);oa=Math.max(oa,gO.y);return new IPCC.Web.UI.Rectangle(lL,mn,nH-lL,oa-mn);};IPCC.fq.prototype.apw=function(ar,aL,eF){var alg=this.clone();alg.Ad();var ayB=alg.transform({x:eF.x+eF.width/2,y:eF.y+eF.height/2});var aB=Math.min(aL.width/eF.width,aL.height/eF.height);aB-=1e-10;var ki=this.uh();if(ki*aB>ar.ty){aB=ar.ty/ki;}if(ki*aB<ar.uO){aB=ar.uO/ki;}this.scale(aB,aB);this.adY(aL,ayB);};IPCC.fq.prototype.PZ=function(ar,aL,eH){this.apw(ar,aL,this.wh(eH));};IPCC.fq.prototype.aHa=function(aL){this.zJ(1,-1,aL.width/2,aL.height/2);};IPCC.fq.prototype.aqQ=function(aL){this.zJ(-1,1,aL.width/2,aL.height/2);};IPCC.fq.prototype.ZD=function(ayj,aei){var aoJ=this.transform(ayj);this.pu(aei.x-aoJ.x,aei.y-aoJ.y);};IPCC.fq.prototype.adY=function(aL,cc){var aiD=this.transform(cc);this.pu(aL.width/2-aiD.x,aL.height/2-aiD.y);};IPCC.fq.prototype.kN=function(bK,aL){var aF=0,ey=0,end;var nG=this.rR(bK);if(nG.width<aL.width){aF=(aL.width-nG.width)/2-nG.x;}else{end=nG.x+nG.width;if(end<aL.width){aF=aL.width-end;}if(nG.x>0){aF= -nG.x;}}if(nG.height<aL.height){ey=(aL.height-nG.height)/2-nG.y;}else{end=nG.y+nG.height;if(end<aL.height){ey=aL.height-end;}if(nG.y>0){ey= -nG.y;}}this.pu(aF,ey);};IPCC.fq.prototype.rR=function(bK){return this.wh({x:0,y:0,width:bK.width,height:bK.height});};IPCC.fq.prototype.Mf=function(){var jC,Bi,gL,xn,aha,iB;jC=this.transform({x:0,y:0});Bi=this.transform({x:0,y:1});gL=this.transform({x:1,y:0});xn=Math.atan2(Bi.y-jC.y,Bi.x-jC.x);aha=Math.atan2(gL.y-jC.y,gL.x-jC.x);iB=xn-aha;if(iB>Math.PI){iB=iB-2*Math.PI;}if(iB< -Math.PI){iB=iB+2*Math.PI;}return iB<0;};IPCC.fq.prototype.Dh=function(){var jC,Bi,xn;jC=this.transform({x:0,y:0});Bi=this.transform({x:0,y:1});xn=Math.atan2(Bi.y-jC.y,Bi.x-jC.x)-Math.PI/2;if(xn<0){xn=xn+2*Math.PI;}return xn*360/(Math.PI*2);};IPCC.fq.prototype.uh=function(){var hU;var jC,qE;var fv,ep,bX;jC=this.transform({x:0,y:0});qE=this.transform({x:1,y:0});fv=qE.x-jC.x;ep=qE.y-jC.y;hU=fv*fv+ep*ep;qE=this.transform({x:0,y:1});fv=qE.x-jC.x;ep=qE.y-jC.y;bX=Math.min(hU,fv*fv+ep*ep);qE=this.transform({x:1,y:1});fv=qE.x-jC.x;ep=qE.y-jC.y;bX=Math.min(hU,fv*fv+ep*ep);qE=this.transform({x:1,y: -1});fv=qE.x-jC.x;ep=qE.y-jC.y;bX=Math.min(hU,fv*fv+ep*ep);return Math.sqrt(hU);};IPCC.fq.aFG=function(){return new IPCC.fq(1,0,0,1,0,0);};IPCC.Fn=function(av,dc,gy,hc){this.width=av;this.height=dc;this.gy=gy;this.hc=hc;return this;};IPCC.Fn.prototype=new IPCC.Web.UI.Rectangle(0,0,0,0);IPCC.Fn.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.gy+', '+this.hc+')';};IPCC.gr=function(lG,ai,av,dc,gy,hc){this.width=av;this.height=dc;this.gy=gy;this.hc=hc;this.ai=ai||0;this.fG=0;this.sC=true;this.agg={};this.Cl=false;var C=this;this.ai=ai;this.get_url=function(fZ,fF,au){fF=fF||'Image';au=au||'';var GG=IPCC.gr.Kq(lG);var GA=false;if(/^[\x00-\x7F]*$/.test(GG)){GA=true;}if(au===null||au===''){if(fF==='Attributes'){var rs='';if(!IPCC.wb.AU()){rs='&ContentType=png';}if(!GA){return fZ+'/Page/q/'+ai.toString()+'/'+fF+'?DocumentID=e'+lG+rs;}else{return fZ+'/Page/q/'+ai.toString()+'/'+fF+'?DocumentID=u'+encodeURIComponent(GG)+rs;}}else{if(fF==='SvgImage'){if(!GA){return fZ+'/Page/q/'+ai.toString()+'?DocumentID=e'+lG+'&'+au;}else{return fZ+'/Page/q/'+ai.toString()+'?DocumentID=u'+encodeURIComponent(GG)+'&'+au;}}if(!GA){return fZ+'/Page/q/'+ai.toString()+'/'+fF+'?DocumentID=e'+lG+'&'+au;}else{return fZ+'/Page/q/'+ai.toString()+'/'+fF+'?DocumentID=u'+encodeURIComponent(GG)+'&'+au;}}}else{if(fF==='SvgImage'){if(!GA){return fZ+'/Page/q/'+ai.toString()+'?DocumentID=e'+lG+'&'+au;}else{return fZ+'/Page/q/'+ai.toString()+'?DocumentID=u'+encodeURIComponent(GG)+'&'+au;}}if(!GA){return fZ+'/Page/q/'+ai.toString()+'/'+fF+'?DocumentID=e'+lG+'&'+au;}else{return fZ+'/Page/q/'+ai.toString()+'/'+fF+'?DocumentID=u'+encodeURIComponent(GG)+'&'+au;}}};this.get_urlArt=function(fZ,fF,au){fF=fF||'Art';au=au||'';if(au===null||au===''){if(fF==='Art'){return fZ+'/Page/q/'+ai.toString()+'/'+fF+'?DocumentID=e'+lG;}}else{return fZ+'/Page/q/'+ai.toString()+'/'+fF+'?DocumentID=e'+lG+'&'+au;}};this.get_identifier=function(){return IPCC.gr.Kq(lG);};this.get_encodedIdentifier=function(){return lG;};this.toString=function(){return 'Image("'+lG+'", '+this.ai+', '+this.width+' x '+this.height+', '+this.gy+', '+this.hc+')';};function adi(aon,V){if(V.JS()){C.sC=true;C.Cl=false;return;}var ZX=aon.split(',');var jI=false;for(var bN=0;bN<ZX.length;bN++){if(ZX[bN]==="SVG"||ZX[bN]==="svg"){if(IPCC.wb.AU()){C.Cl=true;C.sC=false;}else{C.Cl=false;}jI=true;break;}}if(!jI){C.Cl=false;C.sC=true;}if(V){if(V.NT){V.NT(C.Cl);}}};this.KM=function(fZ,V,Ba){V.ai=this.ai;var ng=0;var nT=V.oJ();if(nT){if(document.documentMode<9){nT=false;}}var pj=true;if(V.iR()===0){pj=false;}var lV=function(fw,ao){try{if(fw===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(fw.errorCode){if(fw.errorCode==='SvgNotAvailable'){nT=false;C.width= +(fw.pageAttributes.imageWidth);C.height= +(fw.pageAttributes.imageHeight);C.gy= +(fw.pageAttributes.imageXResolution);if(C.gy<=0){C.gy=72;}C.hc= +(fw.pageAttributes.imageYResolution);if(C.hc<=0){C.hc=72;}C.fG= +(fw.pageAttributes.pageCount);C.sC=fw.pageAttributes.isRaster!=='false';adi(fw.pageAttributes.contentType,V);}}else{C.width= +(fw.imageWidth);C.height= +(fw.imageHeight);C.gy= +(fw.imageXResolution);if(C.gy<=0){C.gy=72;}C.hc= +(fw.imageYResolution);if(C.hc<=0){C.hc=72;}C.fG= +(fw.pageCount);C.sC=fw.isRaster!=='false';adi(fw.contentType,V);}var mJ=ao.getResponseHeader("Accusoft-Data-Encrypted");var JG=false;if(mJ==="true"){JG=true;}V.agc(JG);if(Ba){Ba();}}catch(e){V.h('openPage',e);if(typeof(V.aH)==='function'){var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}}};function Qc(){nT=false;if(ng<1){var gZ={method:'GET',url:C.get_url(fZ,'Attributes'),headers:{'Content-Type':'application/json'}};if(pj===true){gZ.timeout=V.iR();}IPCC.R.mB.es(gZ).then(fe,fg);ng++;}};var aBE=function(hD,ao){var av;var dc;function axb(){var Rq;try{if(typeof JSON!=='undefined'){Rq=JSON.parse(hD);}else{Rq=IPCC.dh.qY(hD);}}catch(bD){Rq=undefined;nT=true;}return Rq;};try{av=hD.match(/width=\"([0-9.]+)\"/);dc=hD.match(/height=\"([0-9.]+)\"/);if(av&&dc){av=Number(av[1]);dc=Number(dc[1]);}else{throw "error";}if(isNaN(av)||isNaN(dc)){throw "error";}C.width=av;C.height=dc;C.gy=72;C.hc=72;C.Cl=true;C.sC=false;if(V){if(typeof(V.NT==='function')){V.NT(C.Cl);}}if(Ba){Ba();}}catch(e){var ap=axb();if(ap){lV(ap,ao);return;}if(nT){if(ng<1){nT=false;setTimeout(Qc,10);return;}}V.h('openPage',e);if(typeof(V.aH)==='function'){var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}}};function fe(ao){var ap=null,dg;try{if(!nT){if(typeof JSON!=='undefined'){ap=JSON.parse(ao.responseText);}else{ap=IPCC.dh.qY(ao.responseText);}lV(ap,ao);}else{var tP;var mJ=ao.getResponseHeader("Accusoft-Data-Encrypted");if(mJ==='true'&&V.ed()===true){var sk=IPCC.Web.hG.pq.rN(ao.getResponseHeader("Accusoft-Data-SK"));var aq=IPCC.Web.HK(sk,gk);var dM=IPCC.Web.Ep(ao);var sL=IPCC.Web.Bd(dM,aq,gk);tP=IPCC.Web.hG.En.mZ(sL);}else{tP=ao.responseText;}var Db;if(tP.length>=1000){Db=tP.substring(0,1000);}else{Db=tP.substring(0,tP.length);}aBE(Db,ao);}}catch(ex){if(nT){nT=false;if(ng<1){setTimeout(Qc,10);return;}}dg="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,dg);}};function fg(ap){try{var dg,km,lb;if(!ap.response){throw new IPCC.Web.UI.ImGearHttpException(ap.response.status,"Client timed out on load");}if(ap.response.status===403){ng++;if(ap.response.statusText&&ap.response.statusText!==""){dg="Expired viewer session ID, error message from the server: "+ap.response.statusText;}else{dg="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(ap.response.status,dg);}if(nT){nT=false;if(ng<1){setTimeout(Qc,10);return;}}lb=ap.response.getResponseHeader('Accusoft-Status-Message');if(lb){var nz;km=ap.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vt(km)){nz=parseInt(km,10);}throw new IPCC.Web.UI.ImGearHttpException(ap.response.status,lb,nz);}else{if(ap.response.statusText&&ap.response.statusText!==""){dg="Error message from the service: "+ap.response.statusText;}else{dg="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(ap.response.status,dg);}}catch(e){if(nT){nT=false;if(ng<1){setTimeout(Qc,10);return;}}V.h('openPage',e);if(typeof(V.aH)==='function'){var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}}};var gk=IPCC.Web.qP.RS(4,IPCC.Web.Qa());var nF=IPCC.Web.hG.FT.mZ(gk);var gZ={method:'GET'};if(!nT){gZ.url=this.get_url(fZ,'Attributes');gZ.headers={'Content-Type':'application/json'};}else{var dk;if(V.ed()===true){gk=IPCC.Web.qP.WY(4,IPCC.Web.Qa());nF=IPCC.Web.hG.FT.mZ(gk);dk=this.get_url(fZ,'SvgImage','Scale=1&ContentType='+IPCC.R.MT+'&iv='+nF);}else{dk=this.get_url(fZ,'SvgImage','Scale=1&ContentType='+IPCC.R.MT);}gZ.url=dk;}IPCC.R.mB.es(gZ).then(fe,fg);};this.azM=function(fZ,V,Ba){V.ai=this.ai;var ng=0;var pj=true;if(V.iR()===0){pj=false;}var lV=function(fw,ao){try{if(fw===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}C.width= +(fw.imageWidth);C.height= +(fw.imageHeight);C.gy= +(fw.imageXResolution);if(C.gy<=0){C.gy=72;}C.hc= +(fw.imageYResolution);if(C.hc<=0){C.hc=72;}C.fG= +(fw.pageCount);C.sC=true;var mJ=ao.getResponseHeader("Accusoft-Data-Encrypted");var JG=false;if(mJ==="true"){JG=true;}V.agc(JG);if(Ba){Ba();}}catch(e){V.h('openPage',e);if(typeof(V.aH)==='function'){var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}}};function fe(ao){try{var hj=ao.status,ap,dg;if(hj===200){ap=null;try{if(typeof JSON!=='undefined'){ap=JSON.parse(ao.responseText);}else{ap=IPCC.dh.qY(ao.responseText);}lV(ap,ao);}catch(ex){dg="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,dg);}}}catch(e){V.h('openPageForRaster',e);if(typeof(V.aH)==='function'){var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}}};function fg(ap){try{var hj=ap.response.status,dg,lb,km;if(!ap.response){throw new IPCC.Web.UI.ImGearHttpException(hj,"Client timed out on load");}if(hj===403){ng++;if(ap.response.statusText&&ap.response.statusText!==""){dg="Expired viewer session ID, error message from the server: "+ap.response.statusText;}else{dg="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hj,dg);}lb=ap.response.getResponseHeader('Accusoft-Status-Message');if(lb){var nz;km=ap.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vt(km)){nz=parseInt(km,10);}throw new IPCC.Web.UI.ImGearHttpException(hj,lb,nz);}else{if(ap.response.statusText&&ap.response.statusText!==""){dg="Error message from the service: "+ap.response.statusText;}else{dg="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hj,dg);}}catch(e){V.h('openPageForRaster',e);if(typeof(V.aH)==='function'){var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}}};var aeh={method:'GET',url:this.get_url(fZ,'Attributes'),headers:{'Content-Type':'application/json'}};if(pj===true){aeh.timeout=V.iR();}IPCC.R.mB.es(aeh).then(fe,fg);};return this;};IPCC.gr.prototype=new IPCC.Fn(0,0,0,0);IPCC.gr.prototype.clone=function(){var US=new IPCC.gr(this.get_encodedIdentifier(),this.ai,this.width,this.height,this.gy,this.hc);US.fG=this.fG;US.sC=this.sC;return US;};IPCC.gr.prototype.equals=function(L){if(this.get_encodedIdentifier()!==L.get_encodedIdentifier()){return false;}if(this.ai!==L.ai){return false;}return true;};IPCC.gr.prototype.ty=8;IPCC.gr.prototype.uO=0.000001;IPCC.gr.XM=function(au){var IF=au.referenceDocumentIdentifier;var ahb=IPCC.gr.sz(IF);var ji=au.encodedDocumentIdentifier;var jQ=au.documentIdentifier;var dX;if(ji===''){ji=undefined;}if(jQ===''){jQ=undefined;}if(IF&&IF!==''){if(ji===ahb){ji=undefined;}if(jQ===IF){jQ=undefined;}}if(jQ){dX=IPCC.gr.sz(jQ);if(ji){if(ji!==dX){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{ji=dX;}}else{if(ji){jQ=IPCC.gr.Kq(ji);}}if(!ji){jQ=IF;ji=ahb;}var aY=au.pageNumber;var agC=au.referencePageNumber;if(aY===agC){aY=undefined;}if(aY!==0&& !aY){aY=agC;}au.encodedDocumentIdentifier=ji;au.documentIdentifier=jQ;au.pageNumber=aY;};IPCC.gr.sz=function(kR){if(!kR||kR===''){return '';}var mu=[];var G;for(G=0;G<kR.length;G++){mu.push(kR.charCodeAt(G)%256);mu.push(Math.floor(kR.charCodeAt(G)/256));}mu.push(0);mu.push(0);var Sh='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var qD=[],uy;for(G=0;G<mu.length-1;G+=3){uy=mu[G]*0x10000+mu[G+1]*0x100+mu[G+2];qD.push(Sh.charAt(Math.floor(uy/0x40000)));qD.push(Sh.charAt(Math.floor(uy/0x1000)%0x40));qD.push(Sh.charAt(Math.floor(uy/0x40)%0x40));qD.push(Sh.charAt(uy%0x40));}var Yf=Math.ceil(kR.length*16/6);while(qD.length>Yf){qD.pop();}if((qD.length%4)===3){qD.push('1');}else if((qD.length%4)===2){qD.push('2');}else if((qD.length%4)===0){qD.push('0');}return qD.join('');};IPCC.gr.Kq=function(lG){if(!lG||lG===''){return '';}var anm=lG.length-1;var Rr=[],uy;var ta,mu=[],os=[];var G;for(G=0;G<anm;G++){ta=lG.charCodeAt(G);if(ta>64&&ta<91){os.push(ta-65);}else if(ta>96&&ta<123){os.push(ta-97+26);}else if(ta>47&&ta<58){os.push(ta-48+52);}else if(ta===45){os.push(62);}else if(ta===95){os.push(63);}else{return '';}}os.push(0);os.push(0);os.push(0);for(G=0;G<os.length-3;G+=4){uy=os[G]*0x40000+os[G+1]*0x1000+os[G+2]*0x40+os[G+3];mu.push(Math.floor(uy/0x10000));mu.push(Math.floor(uy/0x100)%256);mu.push(uy%256);}for(G=0;G<mu.length-1;G+=2){Rr.push(String.fromCharCode(mu[G]+mu[G+1]*0x100));}var Yf=Math.floor(anm*6/16);while(Rr.length>Yf){Rr.pop();}return Rr.join('');};IPCC.uG=function(){this.bO=false;this.V=false;};IPCC.uG.prototype.nS=function(V){V.am().set_cursor(IPCC.aO.Magnifier);this.V=V;};IPCC.uG.prototype.ht=function(){this.V=false;};IPCC.uG.prototype.az=function(){if(this.bO){this.V.am().hideMagnifier();this.V.am().set_cursor(this.ix);this.bO=false;}};IPCC.uG.prototype.sj=function(){this.az();};IPCC.uG.prototype.jK=function(H){this.az();if(H.domEvent.button===0){this.ix=this.V.am().get_cursor();this.V.am().set_cursor(IPCC.aO.None);this.bO=true;this.V.am().showMagnifier(H.windowPoint);this.V.cg();}};IPCC.uG.prototype.kZ=function(H){if(H.domEvent.button!==0){this.az();}if(this.bO){this.V.am().showMagnifier(H.windowPoint);this.V.cg();}};IPCC.uG.prototype.it=function(){this.az();this.V.cg();};IPCC.uG.prototype.nZ=function(H){var aL=this.V.eN();if(H.windowPoint.x<=0||H.windowPoint.x>=aL.width-2){this.az();}if(H.windowPoint.y<=0||H.windowPoint.y>=aL.height-2){this.az();}};IPCC.qM=function(){this.bO=false;this.V=false;};IPCC.qM.prototype.nS=function(V){V.am().set_cursor(IPCC.aO.RectangleZoom);this.V=V;};IPCC.qM.prototype.ht=function(){this.V=false;};IPCC.qM.prototype.az=function(){if(this.bO){this.V.am().re();this.V.am().set_cursor(this.ix);this.bO=false;this.V.cg();}};IPCC.qM.prototype.sj=function(){this.az();this.V.cg();};IPCC.qM.prototype.jK=function(H){this.az();if(H.domEvent.button===0){var aN=this.V.am();this.ix=aN.get_cursor();aN.set_cursor(IPCC.aO.RectangleZoom);this.bO=true;aN.GS(H.constrainedImagePoint);this.uM=H.windowPoint;this.V.cg();}};IPCC.qM.prototype.kZ=function(H){if(H.domEvent.button!==0){this.az();}if(this.bO){var aN=this.V.am();aN.De(H.constrainedImagePoint);this.V.cg();}};IPCC.qM.prototype.it=function(H){if(this.bO&&H.domEvent.button===0){var dX=H.windowPoint.x-this.uM.x;var hU=dX*dX;dX=H.windowPoint.y-this.uM.y;hU+=dX*dX;if(hU>25){var V=this.V;var aN=V.am();var ak=aN.gV();var aL=V.eN();var azA=aL.width;var aAG=aL.height;var ar=V.dj();aN.De(H.constrainedImagePoint);var ky=aN.zS();aN.re();V.aH('userModifiedViewState',{});ak.PZ(ar,aL,ky);ak.kN(ar,aL);aN.kg(ak);V.cg();if(azA!==aL.width||aAG!==aL.height){ak=aN.gV();ak.PZ(ar,aL,ky);ak.kN(ar,aL);aN.kg(ak);}}}this.az();};IPCC.qM.prototype.nZ=function(H){var aL=this.V.eN();if(H.windowPoint.x<=0||H.windowPoint.x>=aL.width-2){this.az();}if(H.windowPoint.y<=0||H.windowPoint.y>=aL.height-2){this.az();}};IPCC.qM.prototype.mP=function(){this.az();};IPCC.so=function(){this.bO=false;this.V=false;};IPCC.so.prototype.nS=function(V){V.am().set_cursor(IPCC.aO.HandOpen);this.V=V;};IPCC.so.prototype.ht=function(){this.V=false;};IPCC.so.prototype.az=function(){if(this.bO){this.V.am().set_cursor(this.ix);this.bO=false;}};IPCC.so.prototype.sj=function(){this.az();};IPCC.so.prototype.jK=function(H){this.az();if(H.domEvent.button===0){this.ix=this.V.am().get_cursor();this.V.am().set_cursor(IPCC.aO.HandClosed);this.bO=true;this.OM=H.imagePoint;}};IPCC.so.prototype.kZ=function(H){if(H.domEvent.button!==0){this.az();}if(this.bO){var V=this.V;var aN=V.am();var ak=aN.gV();var aL=V.eN();ak.ZD(this.OM,H.windowPoint);ak.kN(V.dj(),aL);V.aH('userModifiedViewState',{});aN.kg(ak);V.cg();}};IPCC.so.prototype.it=function(){this.az();};IPCC.so.prototype.nZ=function(H){var aL=this.V.eN();if(H.windowPoint.x<=0||H.windowPoint.x>=aL.width-2){this.az();}if(H.windowPoint.y<=0||H.windowPoint.y>=aL.height-2){this.az();}};IPCC.so.prototype.mP=function(){this.az();};IPCC.sB=function(){this.bO=false;this.V=false;};IPCC.sB.prototype.nS=function(V){V.am().set_cursor(IPCC.aO.Crosshair);this.V=V;};IPCC.sB.prototype.ht=function(){this.V=false;};IPCC.sB.prototype.az=function(){if(this.bO){this.V.re();this.V.am().set_cursor(this.ix);this.bO=false;this.V.cg();}};IPCC.sB.prototype.sj=function(){this.az();};IPCC.sB.prototype.jK=function(H){this.az();if(H.domEvent.button===0){var aN=this.V.am();this.ix=aN.get_cursor();aN.set_cursor(IPCC.aO.Crosshair);this.bO=true;aN.GS(H.constrainedImagePoint);this.V.cg();}};IPCC.sB.prototype.kZ=function(H){if(H.domEvent.button!==0){this.az();}if(this.bO){var aN=this.V.am();aN.De(H.constrainedImagePoint);this.V.cg();}};IPCC.sB.prototype.it=function(H){if(H.domEvent.button===0){this.bO=false;}this.az();};IPCC.sB.prototype.nZ=function(H){var aL=this.V.eN();if(H.windowPoint.x<=0||H.windowPoint.x>=aL.width-2){this.az();}if(H.windowPoint.y<=0||H.windowPoint.y>=aL.height-2){this.az();}};IPCC.sB.prototype.mP=function(){this.az();};IPCC.dW=function(){this.V=false;this.asD=1.5;};IPCC.dW.prototype.nS=function(V){this.V=V;};IPCC.dW.prototype.ht=function(){this.V=false;};IPCC.dW.prototype.az=function(){};IPCC.dW.prototype.mP=function(H){var aN=this.V.am();var ar=this.V.dj();var aL=this.V.eN();var ak=aN.gV();var Ox=H.wheelDelta/120;if(H.domEvent.ctrlKey){H.domEvent.preventDefault();var aB=((this.asD-1)/2)+1;if(Ox<0){aB=1/aB;}var ki=ak.uh();if(ki*aB>ar.ty){aB=ar.ty/ki;}if(ki*aB<ar.uO){aB=ar.uO/ki;}ak.zJ(aB,aB,H.windowPoint.x,H.windowPoint.y);ak.kN(ar,aL);this.V.aH('userModifiedViewState',{});aN.kg(ak);}else{var amS=ak.transform({x:0,y:0});ak.pu(0,Ox*aL.hc);ak.kN(ar,aL);var ant=ak.transform({x:0,y:0});if(Math.abs(amS.x-ant.x)>0.001||Math.abs(amS.y-ant.y)>0.001){H.domEvent.preventDefault();this.V.aH('userModifiedViewState',{});aN.kg(ak);}}this.V.cg();};IPCC.gc=function(bH){this.bO=false;this.V=false;this.bH=bH;switch(this.bH){case IPCC.Web.UI.MarkType.Rectangle:this.dG=IPCC.aO.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.dG=IPCC.aO.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:this.dG=IPCC.aO.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.dG=IPCC.aO.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.dG=IPCC.aO.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.dG=IPCC.aO.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.dG=IPCC.aO.AddRectangleMark;break;}};IPCC.gc.prototype.nS=function(V){V.am().set_cursor(this.dG);this.V=V;};IPCC.gc.prototype.ht=function(){this.V=false;};IPCC.gc.prototype.az=function(){if(this.bO){this.F=null;this.V.qe(null);this.V.am().set_cursor(this.ix);this.bO=false;this.V.cg();}};IPCC.gc.prototype.sj=function(){this.az();};IPCC.gc.prototype.jK=function(H){this.az();if(H.domEvent.button===0){var aN=this.V.am();this.ix=aN.get_cursor();aN.set_cursor(this.dG);this.bO=true;this.F=new IPCC.Web.UI.Mark(this.bH);this.F.set_rectangle({x:H.imagePoint.x,y:H.imagePoint.y,width:0,height:0});this.V.qe(this.F);this.rX=H.imagePoint;this.uM=H.windowPoint;}};IPCC.gc.prototype.kZ=function(H){if(H.domEvent.button!==0){this.az();}if(this.bO){var nx={x:Math.min(H.imagePoint.x,this.rX.x),y:Math.min(H.imagePoint.y,this.rX.y)};nx.width=Math.max(H.imagePoint.x,this.rX.x)-nx.x;nx.height=Math.max(H.imagePoint.y,this.rX.y)-nx.y;this.F.set_rectangle(nx);this.V.cg();}};IPCC.gc.prototype.it=function(H){if(this.bO&&H.domEvent.button===0){var dX=H.windowPoint.x-this.uM.x;var hU=dX*dX;dX=H.windowPoint.y-this.uM.y;hU+=dX*dX;if(hU>25){var nx={x:Math.min(H.imagePoint.x,this.rX.x),y:Math.min(H.imagePoint.y,this.rX.y)};nx.width=Math.max(H.imagePoint.x,this.rX.x)-nx.x;nx.height=Math.max(H.imagePoint.y,this.rX.y)-nx.y;this.V.qe(null);this.F.set_rectangle(nx);var bL=this.F;var V=this.V;var pI={clientX:H.domEvent.clientX,clientY:H.domEvent.clientY};this.V.et().addMark(this.F,pI);if(bL.kI()===IPCC.Web.UI.MarkType.Text||bL.kI()===IPCC.Web.UI.MarkType.TextLine){V.yJ(bL);}V.cg();}}this.az();};IPCC.gc.prototype.nZ=function(H){var aL=this.V.eN();if(H.windowPoint.x<=0||H.windowPoint.x>=aL.width-2){this.az();}if(H.windowPoint.y<=0||H.windowPoint.y>=aL.height-2){this.az();}};IPCC.gc.prototype.mP=function(){this.az();};IPCC.qU=function(){this.bO=false;this.V=false;this.dG=IPCC.aO.AddLineMark;};IPCC.qU.prototype.nS=function(V){V.am().set_cursor(this.dG);this.V=V;};IPCC.qU.prototype.ht=function(){this.V=false;};IPCC.qU.prototype.az=function(){if(this.bO){this.F=null;this.V.qe(null);this.V.am().set_cursor(this.ix);this.bO=false;this.V.cg();}};IPCC.qU.prototype.sj=function(){this.az();};IPCC.qU.prototype.jK=function(H){this.az();if(H.domEvent.button===0){var aN=this.V.am();this.ix=aN.get_cursor();aN.set_cursor(this.dG);this.bO=true;this.F=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.F.get_points().setPoint(0,H.imagePoint);this.F.get_points().setPoint(1,H.imagePoint);this.V.qe(this.F);this.rX=H.imagePoint;this.uM=H.windowPoint;}};IPCC.qU.prototype.kZ=function(H){if(H.domEvent.button!==0){this.az();}if(this.bO){this.F.get_points().setPoint(1,H.imagePoint);this.V.cg();}};IPCC.qU.prototype.it=function(H){if(this.bO&&H.domEvent.button===0){var dX=H.windowPoint.x-this.uM.x;var hU=dX*dX;dX=H.windowPoint.y-this.uM.y;hU+=dX*dX;if(hU>25){var V=this.V;var pI={clientX:H.domEvent.clientX,clientY:H.domEvent.clientY};this.F.get_points().setPoint(1,H.imagePoint);this.V.qe(null);this.V.et().addMark(this.F,pI);V.cg();}}this.az();};IPCC.qU.prototype.nZ=function(H){var aL=this.V.eN();if(H.windowPoint.x<=0||H.windowPoint.x>=aL.width-2){this.az();}if(H.windowPoint.y<=0||H.windowPoint.y>=aL.height-2){this.az();}};IPCC.qU.prototype.mP=function(){this.az();};IPCC.oH=function(){this.bO=false;this.V=false;this.dG=IPCC.aO.AddFreehandMark;};IPCC.oH.prototype.nS=function(V){V.am().set_cursor(this.dG);this.V=V;};IPCC.oH.prototype.ht=function(){this.V=false;};IPCC.oH.prototype.az=function(){if(this.bO){this.F=null;this.qx=null;this.V.qe(null);this.V.am().set_cursor(this.ix);this.bO=false;}};IPCC.oH.prototype.sj=function(){this.az();};IPCC.oH.prototype.jK=function(H){this.az();if(H.domEvent.button===0){var aN=this.V.am();this.ix=aN.get_cursor();aN.set_cursor(this.dG);this.bO=true;this.F=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.F.get_points().addPoint(H.imagePoint);this.qx=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.V.qe(this.F,this.qx);this.F.set_lineWidth(this.qx.ef);this.F.set_lineColor(this.qx.he);this.F.set_opacity(this.qx.cs);this.rX=H.imagePoint;this.uM=H.windowPoint;this.V.cg();}};IPCC.oH.prototype.kZ=function(H){if(H.domEvent.button!==0){this.az();}if(this.bO){this.F.get_points().addPoint(H.imagePoint);this.V.cg();}};IPCC.oH.prototype.it=function(H){if(this.bO&&H.domEvent.button===0){this.F.get_points().addPoint(H.imagePoint);var ajs=this.F.get_points();var aX=[];var hm=Number.MAX_VALUE,gL=0,_top=Number.MAX_VALUE,hM=0;var G=0;for(G=0;G<ajs.get_length();G++){var tA=ajs.getPoint(G);if(tA.x<hm){hm=tA.x;}if(tA.x>gL){gL=tA.x;}if(tA.y<_top){_top=tA.y;}if(tA.y>hM){hM=tA.y;}aX.push({x:tA.x,y:tA.y});}var BP=3;var tU;var sb=(aX.length<BP)?aX:IPCC.R.filter(aX,function(bn){if(tU){var aF=bn.x-tU.x,ey=bn.y-tU.y,fE=aF*aF+ey*ey;if(Math.sqrt(fE)<4){return false;}}bn.x=bn.x-hm;bn.y=bn.y-_top;tU=bn;return true;});if(sb.length<BP){sb=[aX[0],aX[aX.length-1]];}var db='';tU=undefined;if(sb.length<BP){db+=this.QQ(sb);}else{db='M'+IPCC.R.bspline(sb);db=db.replace(/\d*\.?\d*/g,function(dA){var Kx=dA.indexOf('.');if(dA.length&&Kx>0){return dA.substr(0,Kx+3);}else if(dA!==""){return dA;}else{return dA;}});}var av=gL-hm;var dc=hM-_top;var pI={clientX:H.domEvent.clientX,clientY:H.domEvent.clientY};this.qx.set_rectangle({x:hm,y:_top,width:av,height:dc});this.qx.set_pathString(db);this.qx.set_pathWidth(av);this.qx.set_pathHeight(dc);this.V.qe(null);this.V.et().addMark(this.qx,pI);this.V.cg();}this.az();};IPCC.oH.prototype.QQ=function(gK,KV){var TA=(KV&&IPCC.R.EC)?'m':'M';var abz=(KV&&IPCC.R.EC)?'l':'L';return IPCC.R.map(gK,function(bn,G){if(G===0){return TA+bn.x+','+bn.y;}else{return abz+bn.x+','+bn.y;}}).join('');};IPCC.oH.prototype.nZ=function(H){var aL=this.V.eN();if(H.windowPoint.x<=0||H.windowPoint.x>=aL.width-2){this.az();}if(H.windowPoint.y<=0||H.windowPoint.y>=aL.height-2){this.az();}};IPCC.oH.prototype.mP=function(){this.az();};IPCC.lM=function(bH){this.bO=false;this.V=false;this.bH=bH;switch(this.bH){case IPCC.Web.UI.MarkType.Polygon:this.dG=IPCC.aO.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.dG=IPCC.aO.AddPolylineMark;this.abN=false;break;}};IPCC.lM.prototype.nS=function(V){V.am().set_cursor(this.dG);this.V=V;};IPCC.lM.prototype.ht=function(){this.V=false;};IPCC.lM.prototype.az=function(){if(this.bO){if(arguments[0]){if(arguments[0]===true){if(this.F&&this.abN===false){this.V.et().addMark(this.F);this.abN=true;this.V.cg();}}}this.F=null;this.V.qe(null);this.V.am().set_cursor(this.ix);this.bO=false;this.V.cg();}};IPCC.lM.prototype.sj=function(){this.az();};IPCC.lM.prototype.jK=function(H){if(H.domEvent.button===0){if(!this.bO){var aN=this.V.am();this.ix=aN.get_cursor();aN.set_cursor(this.dG);this.bO=true;this.F=new IPCC.Web.UI.Mark(this.bH);this.F.get_points().addPoint(H.imagePoint);this.V.qe(this.F);}var aX=this.F.get_points();if(aX.get_length()>0){aX.setPoint(aX.get_length()-1,H.imagePoint);}aX.addPoint(H.imagePoint);this.rX=H.imagePoint;this.uM=H.windowPoint;this.V.cg();}else{this.az();}};IPCC.lM.prototype.wq=function(H){if(this.bO&&H.domEvent.button===0){var aX=this.F.get_points(),bd=aX.get_length(),Uy,Wt;if(bd>2){var ahn=true;while(ahn){bd=aX.get_length();Uy=aX.getPoint(bd-1);Wt=aX.getPoint(bd-2);if(Uy.x===Wt.x&&Uy.y===Wt.y){aX.removePoint(bd-1);}else{ahn=false;}}}if(aX.get_length()>0){aX.setPoint(aX.get_length()-1,H.imagePoint);}this.V.qe(null);var pI={clientX:H.domEvent.clientX,clientY:H.domEvent.clientY};this.V.et().addMark(this.F,pI);this.abN=true;this.V.cg();}this.az();};IPCC.lM.prototype.kZ=function(H){if(H.domEvent.button!==0){this.az();}if(this.bO){var aX=this.F.get_points();if(aX.get_length()>0){aX.setPoint(aX.get_length()-1,H.imagePoint);}this.V.cg();}};IPCC.lM.prototype.nZ=function(H){var aL=this.V.eN();if(H.windowPoint.x<=0||H.windowPoint.x>=aL.width-2){this.az();}if(H.windowPoint.y<=0||H.windowPoint.y>=aL.height-2){this.az();}};IPCC.lM.prototype.mP=function(){this.az();};IPCC.jh=true;IPCC.ej={acc:1,adP:2,Tn:3,ams:4,alA:5,Kf:6,PS:7,ahK:8,aje:9,ajY:10,akI:11,akE:12,akg:13,anf:14,afz:15,aeZ:16};IPCC.adX=null;IPCC.ga=function(XA,aEK){this.V=false;this.XA=XA;var nb=IPCC.Web.UI;var ae=aEK;if(!ae||ae===null){ae=IPCC.adX;}this.ae=ae;var anO={ay:ae.zoomInMenuItem,ec:IPCC.ej.acc,L:1.25};var anE={ay:ae.zoomOutMenuItem,ec:IPCC.ej.adP,L:1.25};var auO={ay:ae.fullImageMenuItem,L:nb.FitType.FullImage};var auY={ay:ae.fullWidthMenuItem,L:nb.FitType.FullWidth};var auL={ay:ae.fullHeightMenuItem,L:nb.FitType.FullHeight};var aAM={ay:ae.oneToOneRatioMenuItem,L:nb.FitType.OneToOne};var ayv={ay:ae.actualSizeMenuItem,L:nb.FitType.ActualSize};var azO={ay:ae.rotateRightMenuItem,ec:IPCC.ej.Tn,L:90};var azs={ay:ae.rotateLeftMenuItem,ec:IPCC.ej.Tn,L: -90};var aEp={ay:ae.mirrorHorizontalMenuItem,ec:IPCC.ej.ams};var aEj={ay:ae.mirrorVerticalMenuItem,ec:IPCC.ej.alA};var SH={ay:ae.panToolMenuItem,L:nb.MouseTool.HandPan};var XK={ay:ae.areaSelectionToolMenuItem,L:nb.MouseTool.Select};var aak={ay:ae.zoomRectangleToolMenuItem,L:nb.MouseTool.RectangleZoom};var ZN={ay:ae.flyingMagnifierToolMenuItem,L:nb.MouseTool.Magnifier};var asS={ay:ae.createTextMarkToolMenuItem,L:nb.MouseTool.CreateTextMark};var asW={ay:ae.createLineMarkToolMenuItem,L:nb.MouseTool.CreateLineMark};var arY={ay:ae.createRectangleMarkToolMenuItem,L:nb.MouseTool.CreateRectangleMark};var arE={ay:ae.createEllipseMarkToolMenuItem,L:nb.MouseTool.CreateEllipseMark};var asK={ay:ae.editMarksToolMenuItem,L:nb.MouseTool.EditMarks};var atg={ay:ae.createStampMarkToolMenuItem,L:nb.MouseTool.CreateStampMark};var arG={ay:ae.createHighlightMarkToolMenuItem,L:nb.MouseTool.CreateHighlightTextMark};var alF={av:55,eE:[{ay:ae.thicknessMenu.item1,L:1},{ay:ae.thicknessMenu.item2,L:2},{ay:ae.thicknessMenu.item3,L:3},{ay:ae.thicknessMenu.item4,L:4},{ay:ae.thicknessMenu.item5,L:5},{ay:ae.thicknessMenu.item6,L:6},{ay:ae.thicknessMenu.item7,L:7},{ay:ae.thicknessMenu.item8,L:8}]};var aAk={av:145,eE:[{ay:ae.opacityMenu.translucent,L:127},{ay:ae.opacityMenu.opaque,L:255}]};var MZ={ay:ae.borderThicknessMenuItem,ec:IPCC.ej.Kf,cV:'lineWidth',mf:alF};var PJ={ay:ae.borderColorMenuItem,ec:IPCC.ej.PS,cV:'lineColor'};var LU={ay:ae.fillColorMenuItem,ec:IPCC.ej.PS,cV:'fillColor'};var ajI={ay:ae.lineThicknessMenuItem,ec:IPCC.ej.Kf,cV:'lineWidth',mf:alF};var akJ={ay:ae.lineColorMenuItem,ec:IPCC.ej.PS,cV:'lineColor'};var aud={ay:ae.fontMenuItem,ec:IPCC.ej.ahK};var RX={ay:ae.opacityMenuItem,ec:IPCC.ej.Kf,cV:'opacity',mf:aAk};var aEB={ay:ae.moveToBackMenuItem,ec:IPCC.ej.ajY};var aEC={ay:ae.moveBackwardMenuItem,ec:IPCC.ej.akI};var aEk={ay:ae.moveForwardMenuItem,ec:IPCC.ej.akE};var aEo={ay:ae.moveToFrontMenuItem,ec:IPCC.ej.akg};var wT={ay:ae.deleteMarkMenuItem,ec:IPCC.ej.anf};var aog={av:180,eE:[auO,auY,auL,aAM,ayv]};var anW={ay:ae.zoomToFitMenuItem,ec:IPCC.ej.afz,mf:aog};var aAw={av:200,eE:[azO,azs,aEp,aEj]};var aAd={ay:ae.orientationMenuItem,mf:aAw};var RH;if(IPCC.ag){if(IPCC.jh===false){RH={av:180,eE:[SH,aak,ZN,XK,null]};}else{RH={av:180,eE:[SH,aak,ZN,XK,null,asK,asS,asW,arY,arE,atg,arG]};}}else{RH={av:180,eE:[SH,aak,ZN,XK]};}var aDL={ay:ae.mouseToolsMenuItem,ec:IPCC.ej.aeZ,mf:RH};var aAE={av:150,eE:[LU,MZ,PJ,null,RX]};var arL={av:150,eE:[LU,MZ,PJ,null,null]};var azh={av:150,ay:ae.rectangleMarkPropertiesMenuItem,mf:aAE};var asw={av:150,ay:ae.rectangleMarkPropertiesMenuItem,mf:arL};var aqK={av:150,eE:[aud,LU,MZ,PJ,null,null,null,RX]};var aqZ={ay:ae.textMarkPropertiesMenuItem,mf:aqK};var azW={av:150,eE:[LU,MZ,PJ,null,RX]};var azI={ay:ae.polygonMarkPropertiesMenuItem,mf:azW};var aAL={av:140,eE:[ajI,akJ,null,RX]};var aBu={ay:ae.polylineMarkPropertiesMenuItem,mf:aAL};var aFJ={av:140,eE:[ajI,akJ,null,null]};var aFP={ay:ae.lineMarkPropertiesMenuItem,mf:aFJ};var aFD={av:140,eE:[aEo,aEk,aEC,aEB]};var zF={ay:ae.markOrderingMenuItem,mf:aFD};var aqw={av:150,eE:[LU]};var aiO={ay:ae.stampMarkPropertiesMenuItem,mf:aqw};this.aqJ={av:180,eE:[anO,anE,anW,aAd,aDL]};this.apU={av:140,eE:[aqZ,zF,wT]};this.azB={av:140,eE:[azh,zF,wT]};this.apD={av:140,eE:[aiO,zF,wT]};this.aqD={av:140,eE:[null,zF,wT]};this.ath={av:140,eE:[asw,zF,wT]};this.aAV={av:140,eE:[azI,zF,wT]};this.azb={av:140,eE:[aBu,zF,wT]};this.aDi={av:140,eE:[aFP,zF,wT]};this.aDV={av:140,eE:[aiO,null,wT]};};IPCC.ga.prototype.nS=function(V){this.V=V;};IPCC.ga.prototype.ht=function(){this.V=false;};IPCC.ga.prototype.az=function(){};IPCC.ga.prototype.Qb=function(H){var jf;if(H.mark&&this.XA){var RF=H.mark.jg();switch(H.mark.get_type()){case IPCC.Web.UI.MarkType.Line:jf=this.aDi;break;case IPCC.Web.UI.MarkType.Polyline:jf=this.azb;break;case IPCC.Web.UI.MarkType.Rectangle:jf=this.azB;break;case IPCC.Web.UI.MarkType.Ellipse:jf=this.ath;break;case IPCC.Web.UI.MarkType.Polygon:jf=this.aAV;break;case IPCC.Web.UI.MarkType.Text:jf=this.apU;break;case IPCC.Web.UI.MarkType.Stamp:if(RF===true){jf=this.aqD;}else{jf=this.apD;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(H.mark.lz==='y'){jf=this.aDV;}break;}}if(!jf){jf=this.aqJ;}var xN=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var yg=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var agl=new IPCC.Web.UI.Point(H.domEvent.clientX+xN,H.domEvent.clientY+yg);var C=this;function xk(bD){if(ve){var an=bD.target;if(an&&an===null){return;}var CS,ahX;while(an&&an!==document.body&&an.parentNode!==null){if(an&&an!==null){if(an===ve){ahX=true;}if(!CS&&an.ImGearCommand){CS=an.ImGearCommand;}an=an.parentNode;}}if(!ahX||CS){IPCC.Web.UI.aT.removeHandler(document.body,'mousedown',xk);IPCC.Web.UI.aT.removeHandler(document.body,'mousemove',aeW);document.body.removeChild(ve);ve=null;if(CS){CS.Va=H;C.asx(CS);}}}};function abh(JN,BS,CQ,Lu){var ge=false,G,an;for(G=0;G<BS.length;G++){if(JN===BS[G]){ge=true;}}if(!ge&&JN.ImGearType==='menu'){JN.style.display='none';}else{JN.style.display='block';}an=JN.firstChild;while(an){if(an.ImGearType==='menuItemHighlight'){if(an===Lu){an.style.display='block';}else{an.style.display='none';}}if(an.firstChild){abh(an,BS,CQ,Lu);}an=an.nextSibling;}};function aeW(bD){if(ve){var an=bD.target;if(an&&an===null){return;}var BS=[ve],CQ,Lu;while(an&&an!==document.body&&an.parentNode!==null){if(!CQ&&an.ImGearType==='menuItem'){CQ=an;}if(an.ImGearType==='menu'){BS.push(an);}an=an.parentNode;}if(CQ){an=CQ.firstChild;while(an){if(an.ImGearType==='menuItemHighlight'){Lu=an;}else if(an.ImGearType==='menu'){BS.push(an);}an=an.nextSibling;}}abh(ve,BS,CQ,Lu);}};var aD;if(window.innerWidth){aD={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aD={x:xN,y:yg,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aD={x:xN,y:yg,width:document.body.clientWidth,height:document.body.clientHeight};}var ve=this.aks(jf,false,false,agl,agl,true,aD,document.body,H.mark);abh(ve,[ve],null,null);document.body.appendChild(ve);IPCC.Web.UI.aT.addHandler(document.body,'mousedown',xk);IPCC.Web.UI.aT.addHandler(document.body,'mousemove',aeW);};IPCC.ga.prototype.aks=function(jf,ec,cV,abg,SX,DP,aD,azY,F){var akO=24,aeJ=1;var G,aaH=0;for(G=0;G<jf.eE.length;G++){var aDs=jf.eE[G];if(aDs){aaH+=akO;}else{aaH+=aeJ;}}var Pv;if(DP){Pv=SX.x+jf.av;if(Pv>aD.x+aD.width){DP=false;}}if(!DP){Pv=abg.x-jf.av;if(Pv<aD.x){DP=true;}}var rw={x:SX.x,y:SX.y};if(!DP){rw={x:abg.x-jf.av-2,y:abg.y-2};}var abW=aD.y+aD.height-aaH-8;if(rw.y>abW){rw.y=abW;}if(rw.y<aD.y+2){rw.y=aD.y+2;}function fC(jJ){var tL=document.createElement('div');var G;for(G in jJ){if(jJ.hasOwnProperty(G)){tL.style[G]=jJ[G];}}return tL;};var Ru=fC({zIndex:2,width:jf.av+'px',left:rw.x+'px',top:rw.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});Ru.ImGearType='menu';for(G=0;G<jf.eE.length;G++){var xl=jf.eE[G];var xb;if(xl){xb=fC({position:'relative',height:'24px'});xb.ImGearType='menuItem';var Cx=fC({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});xb.appendChild(Cx);var akX=fC({textOverflow:'ellipsis',whiteSpace:'nowrap',width:jf.av-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});xb.appendChild(akX);var akD=fC({display:'none',position:'absolute',height:'24px',width:jf.av+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});akD.ImGearType='menuItemHighlight';xb.appendChild(akD);akX.appendChild(document.createTextNode(xl.ay));var QC=xl.ec||ec;var JL=xl.cV||cV;if(JL){if(QC===IPCC.ej.Kf){var axf=F['get_'+JL]();if(axf===xl.L){if(this.V.pd()){Cx.style.backgroundImage='url(\''+this.V.pd()+'/MenuIcons.png'+'\')';}else{Cx.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}Cx.style.backgroundPosition='0px';}}else if(QC===IPCC.ej.aje){var ayR=F['get_'+JL]();if(ayR){if(this.V.pd()){Cx.style.backgroundImage='url(\''+this.V.pd()+'/MenuIcons.png'+'\')';}else{Cx.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}Cx.style.backgroundPosition='24px 0px';}}}if(!xl.mf){xb.ImGearCommand={ec:QC,cV:JL,L:xl.L};}else{var aDP={x:aD.x-rw.x,y:aD.y-rw.y,width:aD.width,height:aD.height};this.aks(xl.mf,QC,JL,{x:0,y: -1},{x:jf.av,y: -1},DP,aDP,xb,F);}rw.y+=akO;}else{xb=fC({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});rw.y+=aeJ;}Ru.appendChild(xb);}azY.appendChild(Ru);return Ru;};IPCC.ga.prototype.asM=function(F,dK,V){var xN=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var yg=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aD;if(window.innerWidth){aD={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aD={x:xN,y:yg,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aD={x:xN,y:yg,width:document.body.clientWidth,height:document.body.clientHeight};}var oD=aD.x+aD.width/2;var pr=aD.y+aD.height/2;var ko=document.createElement('div');ko.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(pr-85)+'px;left:'+(oD-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.ae.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.ae.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.ae.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.ae.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ae.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ae.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(ko);var Uf=document.getElementById('ImGearColorRed');var aiU=document.getElementById('ImGearColorGreen');var acJ=document.getElementById('ImGearColorBlue');var Il=document.getElementById('ImGearColorOKButton');var LG=document.getElementById('ImGearColorCancelButton');var Uz=F['get_'+dK]();var TX;if(Uz.length===7&&Uz.charAt(0)==='#'){TX=parseInt(Uz.slice(1),16);}Uf.value=(TX>>16);aiU.value=((TX>>8)&255);acJ.value=(TX&255);function aaf(aaq){var L=Math.floor(+(aaq.value));if(!isFinite(L)){L=0;}if(L<0){L=0;}if(L>255){L=255;}return L;};function BL(){IPCC.Web.UI.aT.removeHandler(Il,'click',HW);IPCC.Web.UI.aT.removeHandler(LG,'click',Lt);IPCC.Web.UI.aT.removeHandler(document.body,'mousedown',xk);};function HW(){var fr=aaf(Uf)*65536+aaf(aiU)*256+aaf(acJ);F['set_'+dK]('#'+(0x1000000+fr).toString(16).slice(1));BL();document.body.removeChild(ko);ko=null;V.cg();};function Lt(){BL();document.body.removeChild(ko);ko=null;};function xk(bD){if(ko){var an=bD.target;var LX;while(an!==document.body){if(an===ko){LX=true;}an=an.parentNode;}if(!LX){BL();document.body.removeChild(ko);ko=null;}}};IPCC.Web.UI.aT.addHandler(Il,'click',HW);IPCC.Web.UI.aT.addHandler(LG,'click',Lt);IPCC.Web.UI.aT.addHandler(document.body,'mousedown',xk);Uf.focus();};IPCC.ga.prototype.asV=function(F,V){var xN=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var yg=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aD;if(window.innerWidth){aD={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aD={x:xN,y:yg,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aD={x:xN,y:yg,width:document.body.clientWidth,height:document.body.clientHeight};}var oD=aD.x+aD.width/2;var pr=aD.y+aD.height/2;var ko=document.createElement('div');ko.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(pr-85)+'px;left:'+(oD-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.ae.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ae.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ae.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ae.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ae.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ae.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ae.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ae.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ae.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(ko);var YI=document.getElementById('ImGearFontFamily');var amG=document.getElementById('ImGearFontSize');var alP=document.getElementById('ImGearFontItalic');var anp=document.getElementById('ImGearFontBold');var amA=document.getElementById('ImGearFontUnderline');var amt=document.getElementById('ImGearFontStrikeout');var Il=document.getElementById('ImGearFontOKButton');var LG=document.getElementById('ImGearFontCancelButton');var aAA=F.get_fontName();var azo=F.get_fontSize();var tC=F.get_fontStyle();YI.value=aAA;amG.value=azo;alP.checked=tC&IPCC.Web.UI.FontStyle.Italic;anp.checked=tC&IPCC.Web.UI.FontStyle.Bold;amA.checked=tC&IPCC.Web.UI.FontStyle.Underline;amt.checked=tC&IPCC.Web.UI.FontStyle.Strikeout;function awZ(aaq){var L=Math.floor(+(aaq.value));if(!isFinite(L)){L=12;}if(L<0.1){L=0.1;}if(L>288){L=288;}return L;};function BL(){IPCC.Web.UI.aT.removeHandler(Il,'click',HW);IPCC.Web.UI.aT.removeHandler(LG,'click',Lt);IPCC.Web.UI.aT.removeHandler(document.body,'mousedown',xk);};function HW(){F.set_fontName(YI.value);var dB=awZ(amG);F.set_fontSize(dB);var bJ=0;if(alP.checked){bJ|=IPCC.Web.UI.FontStyle.Italic;}if(anp.checked){bJ|=IPCC.Web.UI.FontStyle.Bold;}if(amA.checked){bJ|=IPCC.Web.UI.FontStyle.Underline;}if(amt.checked){bJ|=IPCC.Web.UI.FontStyle.Strikeout;}F.set_fontStyle(bJ);BL();document.body.removeChild(ko);ko=null;V.cg();};function Lt(){BL();document.body.removeChild(ko);ko=null;};function xk(bD){if(ko){var an=bD.target;var LX;while(an!==document.body){if(an===ko){LX=true;}an=an.parentNode;}if(!LX){BL();document.body.removeChild(ko);ko=null;}}};IPCC.Web.UI.aT.addHandler(Il,'click',HW);IPCC.Web.UI.aT.addHandler(LG,'click',Lt);IPCC.Web.UI.aT.addHandler(document.body,'mousedown',xk);YI.focus();};IPCC.ga.prototype.asx=function(H){var F=H.Va.mark;switch(H.ec){case IPCC.ej.Kf:F['set_'+H.cV](H.L);this.V.cg();break;case IPCC.ej.PS:this.asM(F,H.cV,this.V);break;case IPCC.ej.ahK:this.asV(F,this.V);break;case IPCC.ej.aje:F['set_'+H.cV](!F['get_'+H.cV]());this.V.cg();break;case IPCC.ej.ajY:F.moveToBack();this.V.cg();break;case IPCC.ej.akI:F.moveBackward();this.V.cg();break;case IPCC.ej.akE:F.moveForward();this.V.cg();break;case IPCC.ej.akg:F.moveToFront();this.V.cg();break;case IPCC.ej.anf:F.removeFromPage();this.V.cg();break;default:this.V.aCG(H);break;}};IPCC.cF=function(){this.V=false;this.Kj=0;this.azp=1;this.amK=2;this.alE=3;};IPCC.cF.prototype.nS=function(V){this.V=V;this.dF=this.Kj;};IPCC.cF.prototype.ht=function(){this.V=false;};IPCC.cF.prototype.az=function(){this.dF=this.Kj;};IPCC.cF.prototype.anh=function(H){var ash=new Date()-this.aoF;if(ash<750){var fv=this.alN.x-H.windowPoint.x;var ep=this.alN.y-H.windowPoint.y;var hU=fv*fv+ep*ep;if(hU<2500){return true;}}return false;};IPCC.cF.prototype.acT=function(H){this.aoF=new Date();this.alN=new IPCC.Web.UI.Point(H.windowPoint.x,H.windowPoint.y);};IPCC.cF.prototype.QR=function(H){var bD=H.domEvent.rawEvent;if(bD.touches.length===1){if(this.dF===this.amK&&this.anh(H)){this.dF=this.alE;}else{this.dF=this.azp;}this.acT(H);this.V.hy('jK',H);}else{this.dF=this.Kj;this.V.hy('sj',H);}};IPCC.cF.prototype.Sb=function(H){var bD=H.domEvent.rawEvent;if(bD.touches.length===1){this.V.hy('kZ',H);}};IPCC.cF.prototype.QT=function(H){var bD=H.domEvent.rawEvent;if(bD.touches.length===0){if(this.anh(H)){if(this.dF===this.alE){this.dF=this.Kj;this.V.hy('it',H);this.V.hy('wq',H);}else{this.acT(H);this.dF=this.amK;this.V.hy('it',H);}}else{this.dF=this.Kj;this.V.hy('it',H);}}};IPCC.cF.prototype.HE=function(H){this.V.hy('sj',H);};IPCC.cK=function(afc){this.afc=afc;this.TY=0;this.Nv=1;this.PD=2;this.SL=3;this.SC=4;this.dF=this.TY;this.V=false;this.wI=0;};IPCC.cK.prototype.nS=function(V){this.V=V;this.aN=V.am();};IPCC.cK.prototype.ht=function(){this.V=false;};IPCC.cK.prototype.az=function(){if(this.dF===this.PD){this.V.am().hideMagnifier();}this.dF=this.TY;};IPCC.cK.prototype.QR=function(H){var bD=H.domEvent.rawEvent;switch(this.dF){case this.TY:if(bD.touches.length===1){this.arJ(H);}else if(bD.touches.length===2){this.alC(H);}else if(bD.touches.length===3){this.ZW(H);}else{this.az();}break;case this.Nv:if(bD.touches.length===2){this.alC(H);}else if(bD.touches.length===3){this.ZW(H);}else{this.az();}break;case this.SC:if(bD.touches.length!==3){this.az();}break;case this.PD:this.az();break;case this.SL:if(bD.touches.length===3){this.ZW(H);}else if(bD.touches.length!==2){this.az();}break;}};IPCC.cK.prototype.Sb=function(H){switch(this.dF){case this.Nv:this.wI++;break;case this.PD:this.agq(H);break;case this.SL:this.aAU(H);break;case this.SC:this.arP(H);break;}};IPCC.cK.prototype.QT=function(){this.az();};IPCC.cK.prototype.HE=function(){this.az();};IPCC.cK.prototype.arJ=function(H){this.dF=this.Nv;this.wI++;var aCU=this.wI;var C=this;function axh(){if(C.dF===this.Nv&&aCU===C.wI){C.asX(H);}};setTimeout(axh,1000);};IPCC.cK.prototype.asX=function(H){this.V.hy('sj',H);this.agq(H);this.dF=this.PD;};IPCC.cK.prototype.ZW=function(H){var bD=H.domEvent.rawEvent;if(bD.touches.length!==3){this.az();return;}var jd=bD.touches[0];var cJ={x:jd.screenX,y:jd.screenY};var dI=this.aN.gV();dI.Ad();this.Py=cJ;this.aCp=cJ;this.aby=dI.transform(cJ);this.dF=this.SC;this.aGD=this.aN.gV();this.amM=true;this.anj=true;};IPCC.cK.prototype.arP=function(H){var bD=H.domEvent.rawEvent;if(bD.touches.length!==3){this.az();return;}var jd=bD.touches[0];var cJ={x:jd.screenX,y:jd.screenY};var ayP=Math.abs(cJ.x-this.Py.x);var ayi=Math.abs(cJ.y-this.Py.y);if(ayP>35){this.anj=false;}if(ayi>35){this.amM=false;}if(this.amM){cJ.y=this.Py.y;}if(this.anj){cJ.x=this.Py.x;}this.aCp=cJ;var ak=this.aN.gV();var aL=this.V.eN();var ar=this.V.dj();ak.ZD(this.aby,cJ);ak.kN(ar,aL);this.aN.kg(ak);};IPCC.cK.prototype.aFk=function(){};IPCC.cK.prototype.aiq=function(H){var bD=H.domEvent.rawEvent;if(bD.touches.length!==2){this.az();return{};}var RN=bD.touches[0];var RD=bD.touches[1];var fv=RN.screenX-RD.screenX;var ep=RN.screenY-RD.screenY;var tg=Math.sqrt(fv*fv+ep*ep);var iB=Math.atan2(fv,ep)*180/Math.PI;var aP={x:(RN.screenX+RD.screenX)/2,y:(RN.screenY+RD.screenY)/2};return{tg:tg,iB:iB,als:aP};};IPCC.cK.prototype.alC=function(H){this.dF=this.SL;this.aBz=this.aiq(H);this.PN=this.aBz;var dI=this.aN.gV();dI.Ad();this.aby=dI.transform(this.PN.als);this.JB=this.PN.iB;};IPCC.cK.prototype.agq=function(H){var bD=H.domEvent.rawEvent;var jd=bD.touches[0];var cJ={x:jd.screenX,y:jd.screenY};this.aN.showMagnifier(cJ);};IPCC.cK.prototype.aAU=function(H){var zZ=this.aiq(H);var bX=zZ.tg/this.PN.tg;var ak=this.aN.gV();var aL=this.V.eN();var ar=this.V.dj();ak.scale(bX,bX);var FR=this.JB-zZ.iB;var amr=this.JB-zZ.iB-360;var anr=this.JB-zZ.iB+360;if(Math.abs(FR)>Math.abs(amr)){FR=amr;}if(Math.abs(FR)>Math.abs(anr)){FR=anr;}if(FR< -40){ak.rotate(-90);this.JB=zZ.iB;}else if(FR>40){ak.rotate(90);this.JB=zZ.iB;}ak.ZD(this.aby,zZ.als);ak.kN(ar,aL);this.aN.kg(ak);this.PN=zZ;};IPCC.cK.prototype.Un=function(H){var ak=this.aN.gV();var aL=this.V.eN();var ar=this.V.dj();ak.Xc(IPCC.Web.UI.FitType.FullImage,ar,aL);ak.kN(ar,aL);this.aN.kg(ak);};IPCC.cK.prototype.mP=function(){this.az();};IPCC.mT=function(){this.bO=false;this.V=false;};IPCC.mT.prototype.nS=function(V){V.am().set_cursor(IPCC.aO.Text);this.V=V;};IPCC.mT.prototype.ht=function(){this.V=false;};IPCC.mT.prototype.az=function(){if(this.bO){this.V.am().WP();this.V.am().set_cursor(this.ix);this.bO=false;}};IPCC.mT.prototype.sj=function(){this.az();};IPCC.mT.prototype.jK=function(H){if(H.domEvent.button===0){var aN=this.V.am();this.ix=aN.get_cursor();aN.set_cursor(IPCC.aO.Text);this.bO=true;var cz=this.V.Ky(H.constrainedImagePoint);this.V.jp=cz;if(!cz){return;}this.V.Cq(cz);aN.Cq(cz);aN.we(undefined);this.V.cg();}};IPCC.mT.prototype.kZ=function(H){var V=this.V;V.aCN=true;if(H.domEvent.button!==0){this.az();}if(this.bO){var aN=V.am();var cz=V.Ky(H.constrainedImagePoint);var ik=aN.EW();if(ik===cz){return;}V.we(cz);V.cg();}};IPCC.mT.prototype.it=function(H){if(H.domEvent.button===0){this.bO=false;}var V=this.V;var aN=this.V.am();var dC=aN.jy.length;if(dC===0){this.az();return;}var aM=aN.jy[0].cz;var ea=aN.jy[dC-1].cz;if(V.Jb===true){if(aM>ea){aM=ea;}var G;var kT=IPCC.Ef();this.F=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.F.aM=aM;this.F.ck=V.DC();this.F.cY=dC;this.F.set_fillColor(V.wY);this.F.lz='y';this.F.bZ=kT;for(G=0;G<aN.jy.length;G++){var ah=aN.jy[G];var DI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var AZ=ah.F.eo();DI.set_fillColor(V.wY);DI.set_opacity(ah.F.get_opacity());DI.set_rectangle(AZ);DI.bZ=kT;DI.lz='y';this.V.et().addMark(DI);}aN.jy=[];if(dC>0){this.V.et().addMark(this.F);}V.ln().removeAllMarks();}dC=aN.jy.length;var aiC=new IPCC.Web.UI.TextSelectedEventArgs();aiC.text=V.DC();V.aH('selectTextMouseToolCompleted',aiC);V.cg();this.az();};IPCC.mT.prototype.nZ=function(H){var aL=this.V.eN();if(H.windowPoint.x<=0||H.windowPoint.x>=aL.width-2){this.az();}if(H.windowPoint.y<=0||H.windowPoint.y>=aL.height-2){this.az();}};IPCC.mT.prototype.mP=function(){this.az();};IPCC.ahI=function(pO){var aN;var bK;var ll;var aL;var aE=this;var BI;var GD='';var _debug=false;var kM=IPCC.Web.UI.DebugErrorLevel.Production;var ma=[];var al=new IPCC.Web.UI.gj();var bG;var eT;var oC=null;var GZ=false;var xQ=false;var XJ;var GK=IPCC.Web.UI.ImGearArtDataServices.None;var Ii=false;var nU='';var mv;var aly=false;var akr=false;var xH=0;var vu=true;var Dm;var hn;var qL=false;var afV=true,lX=false;var akl=false;this.Nx=0.0;this.je=function(wt){if(!_debug){return false;}return kM>=wt;};this.hY=function(gg,LB,bm){IPCC.dZ.hY(gg,LB,bm,GD,BI);};this.h=function(eW,iE){if(!this.je(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var aI=eW+'() threw an exception ('+iE.name+'), "'+iE.message+'"';aI=aI.replace(/\n/g," ");this.hY(aI,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);aE.aH('exceptionThrown',{"function_name":eW,"exception":iE,"pageNumber":aE.ai});};this.get_debug=function(){return _debug;};this.set_debug=function(L){var yk= ! !L;if(_debug===yk){return;}_debug=yk;this.bS('debug');};this.ox=function(){return kM;};this.uJ=function(L){if(kM===L){return;}kM=L;this.bS('debugErrorLevel');};this.afb=function(L){GD=L;};this.avf=function(){return GD;};this.acy=function(L){BI=L;};this.eG=function(aDT){this.pM(false);var G;for(G=ma.length-1;G>=0;G--){if(ma[G]instanceof IPCC.lM){ma[G].az(true);}else{ma[G].az();}if(ma[G]instanceof IPCC.oq){ma[G].ht(true);}else{ma[G].ht();}}ma=aDT;aN.set_cursor(IPCC.aO.Default);for(G=0;G<ma.length;G++){ma[G].nS(this);}};this.aIc=function(){var G;for(G=0;G<ma.length;G++){ma[G].az();}};this.hy=function(akT,H){var G;for(G=0;G<ma.length;G++){if(H&&H.aiE&&H.aiE()){return;}if(ma[G][akT]){ma[G][akT](H);}}};this.aBH=function(iP,dN){switch(iP){case 'touchstart':ll.YK&&ll.YK(dN);break;case 'touchmove':ll.Yr&&ll.Yr(dN);break;case 'touchend':ll.Zi&&ll.Zi(dN);break;case 'doubleTap':ll.alX&&ll.alX(dN);break;}};this.ij=function(T){al.addHandler('propertyChanged',T);};this.mr=function(T){al.removeHandler('propertyChanged',T);};this.add_mouseDown=function(T){al.addHandler('mouseDown',T);};this.remove_mouseDown=function(T){al.removeHandler('mouseDown',T);};this.add_mouseMove=function(T){al.addHandler('mouseMove',T);};this.remove_mouseMove=function(T){al.removeHandler('mouseMove',T);};this.add_mouseUp=function(T){al.addHandler('mouseUp',T);};this.remove_mouseUp=function(T){al.removeHandler('mouseUp',T);};this.add_contextMenu=function(T){al.addHandler('contextMenu',T);};this.remove_contextMenu=function(T){al.removeHandler('contextMenu',T);};this.axo=function(T){al.addHandler('contextMenuCommand',T);};this.aGS=function(T){al.removeHandler('contextMenuCommand',T);};this.add_mouseWheel=function(T){al.addHandler('mouseWheel',T);};this.remove_mouseWheel=function(T){al.removeHandler('mouseWheel',T);};this.add_mouseOut=function(T){al.addHandler('mouseOut',T);};this.remove_mouseOut=function(T){al.removeHandler('mouseOut',T);};this.ahu=function(T){al.addHandler('resize',T);};this.aIF=function(T){al.removeHandler('resize',T);};this.axi=function(T){al.addHandler('userModifiedViewState',T);};this.aIh=function(T){al.removeHandler('userModifiedViewState',T);};this.add_scaleChanged=function(T){al.addHandler('scaleChanged',T);};this.remove_scaleChanged=function(T){al.removeHandler('scaleChanged',T);};this.add_markAdded=function(T){al.addHandler('markAdded',T);};this.remove_markAdded=function(T){al.removeHandler('markAdded',T);};this.add_markCreating=function(T){al.addHandler('markCreating',T);};this.remove_markCreating=function(T){al.removeHandler('markCreating',T);};this.add_markChanged=function(T){al.addHandler('markChanged',T);};this.remove_markChanged=function(T){al.removeHandler('markChanged',T);};this.add_inProgressMarkChanged=function(T){al.addHandler('inProgressMarkChanged',T);};this.remove_inProgressMarkChanged=function(T){al.removeHandler('inProgressMarkChanged',T);};this.add_markRemoved=function(T){al.addHandler('markRemoved',T);};this.remove_markRemoved=function(T){al.removeHandler('markRemoved',T);};this.add_markReordered=function(T){al.addHandler('markReordered',T);};this.remove_markReordered=function(T){al.removeHandler('markReordered',T);};this.add_marksLoaded=function(T){al.addHandler('marksLoaded',T);};this.remove_marksLoaded=function(T){al.removeHandler('marksLoaded',T);};this.add_marksSaved=function(T){al.addHandler('marksSaved',T);};this.remove_marksSaved=function(T){al.removeHandler('marksSaved',T);};this.add_markSelectionChanged=function(T){al.addHandler('markSelectionChanged',T);};this.remove_markSelectionChanged=function(T){al.removeHandler('markSelectionChanged',T);};this.add_markTextSelectionChanged=function(T){al.addHandler('markTextSelectionChanged',T);};this.remove_markTextSelectionChanged=function(T){al.removeHandler('markTextSelectionChanged',T);};this.add_pageOpenFailed=function(T){al.addHandler('pageOpenFailed',T);};this.add_pageDisplayed=function(T){al.addHandler('pageDisplayed',T);};this.remove_pageOpenFailed=function(T){al.removeHandler('pageOpenFailed',T);};this.add_textPageReady=function(T){al.addHandler('textPageReady',T);};this.remove_textPageReady=function(T){al.removeHandler('textPageReady',T);};this.add_selectTextMouseToolCompleted=function(T){al.addHandler('selectTextMouseToolCompleted',T);};this.remove_selectTextMouseToolCompleted=function(T){al.removeHandler('selectTextMouseToolCompleted',T);};this.add_exceptionThrown=function(T){al.dr('exceptionThrown',T);};this.remove_exceptionThrown=function(T){al.dp('exceptionThrown',T);};this.add_textExtractionFailed=function(T){al.dr('textExtractionFailed',T);};this.remove_textExtractionFailed=function(T){al.dp('textExtractionFailed',T);};this.bS=function(dK,xt){var T=al.getHandler("propertyChanged");if(T){T(this,new IPCC.pQ(dK,xt));}};this.jS=function(){var _parent=document.getElementById(BI);return _parent;};this.am=function(){return aN;};this.aGu=function(){return al;};function Dk(aj,H){Ii=true;H.pageIndex=aE.ai;aE.aH('markAdded',H);aE.hy('ka',H);};function DV(aj,H){Ii=true;H.pageIndex=aE.ai;aE.aH('markChanged',H);aE.hy('rg',H);};function aet(aj,H){H=new IPCC.Web.UI.MarkEventArgs();H.mark=oC;H.pageIndex=aE.ai;aE.aH('inProgressMarkChanged',H);aE.hy('_onInProgressMarkChanged',H);};function Dq(aj,H){Ii=true;H.pageIndex=aE.ai;aE.aH('markRemoved',H);aE.hy('Dx',H);};function aye(aj,H){aE.aH('textPageReady',H);};function axD(aj,H){aE.aH('textExtractionFailed',H);};function Ej(aj,H){Ii=true;H.pageIndex=aE.ai;aE.aH('markReordered',H);aE.hy('aeE',H);};function EB(aj,H){H.pageIndex=aE.ai;aE.aH('marksLoaded',H);aE.hy('afA',H);};function Ey(aj,H){H.pageIndex=aE.ai;aE.aH('markSelectionChanged',H);aE.hy('EG',H);};function afp(aj,H){H.pageIndex=aE.ai;aE.aH('markTextSelectionChanged',H);};this.aCH=function(aj,H){this.hy('_onTextMarkEditCompleted',H);};function Gp(aj,H){H.pageIndex=aE.ai;aE.aH('propertyChanged',H);};this.kY=function(L){if(L===bG){return;}if(bG){bG.remove_markAdded(Dk);bG.remove_markChanged(DV);bG.remove_markRemoved(Dq);bG.remove_markReordered(Ej);bG.remove_marksLoaded(EB);bG.remove_markSelectionChanged(Ey);bG.mr(Gp);bG.Dp(true);}bG=L;if(bG){bG.add_markAdded(Dk);bG.add_markChanged(DV);bG.add_markRemoved(Dq);bG.add_markReordered(Ej);bG.add_marksLoaded(EB);bG.add_markSelectionChanged(Ey);bG.add_markTextSelectionChanged(afp);bG.ij(Gp);}this.bS('artPage');};this.et=function(){return bG;};this.IT=function(L){if(L===eT){return;}if(eT){eT.remove_markAdded(Dk);eT.remove_markChanged(DV);eT.remove_markRemoved(Dq);eT.remove_markReordered(Ej);eT.remove_marksLoaded(EB);eT.remove_markSelectionChanged(Ey);eT.mr(Gp);eT.Dp(true);}eT=L;if(eT){eT.add_markAdded(Dk);eT.add_markChanged(DV);eT.add_markRemoved(Dq);eT.add_markReordered(Ej);eT.add_marksLoaded(EB);eT.add_markSelectionChanged(Ey);eT.add_markTextSelectionChanged(afp);eT.ij(Gp);}this.bS('documentArtPage');};this.Qj=function(){return eT;};this.ln=function(){return hn;};this.uS=function(L){if(L===hn){return;}if(hn){hn.remove_markAdded(Dk);hn.remove_markChanged(DV);hn.remove_markRemoved(Dq);hn.remove_markReordered(Ej);hn.remove_marksLoaded(EB);hn.remove_markSelectionChanged(Ey);hn.mr(Gp);}hn=L;if(hn){hn.add_markAdded(Dk);hn.add_markChanged(DV);hn.add_markRemoved(Dq);hn.add_markReordered(Ej);hn.add_marksLoaded(EB);hn.add_markSelectionChanged(Ey);hn.ij(Gp);}this.bS('transientArtPage');};var fP;this.yw=function(){if(!fP){if(IPCC.Web.UI.Mark){fP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);fP.set_opacity(100);fP.set_fillColor('#3366CC');fP.set_fillVisible(true);}}return fP;};this.yP=function(L){GK=L;this.bS('artServiceOption');};this.AT=function(){return GK;};this.qe=function(F,qx){if(oC===F){return;}if(oC){oC.remove_propertyChanged(aet);}if(F&& !oC){var H=new IPCC.Web.UI.MarkEventArgs();H.mark=qx?qx:F;H.pageIndex=this.ai;this.aH('markCreating',H);}oC=F;if(oC){oC.add_propertyChanged(aet);}this.bS('inProgressMark');};this.aue=function(){return oC;};this.vv=function(L){if(L===bK){return;}bK=L;this.zv=false;aN.re();this.bS('image');};this.dj=function(){return bK;};this.acl=function(L){if(L===GZ){return;}GZ=L;this.bS('GZ');};this.amg=function(){return GZ;};this.yJ=function(F){this.pM(false);ll.aFq(F);xQ=true;XJ=F;this.bS('xQ');};this.Qh=function(aM,dC){if(this.hW()&&this.cT().nj()===true){var ho=this.cT().fI();var G=aM;for(;G<aM+dC;G++){var fn=ho.jY(G);var vi='#3366CC';var HN='#3366CC';hn.Zo(fn.aD,HN,vi,false,G);}}};this.aGl=function(aK){var G;try{var bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!fP){fP=aE.yw();}for(G in fP){if(fP.hasOwnProperty(G)){bL[G]=fP[G];}}bL.set_rectangle({x:aK.x,y:aK.y,width:aK.width,height:aK.height});aE.qe(bL);hn.addMark(bL);return bL;}catch(asy){var aDg=asy.message;window.console.log(aDg);}};this.Ky=function(cc){var HS;var ho;var VS;HS=aE.cT();ho=aE.cT().fI();function awa(YW){var uH=YW.vj();if((cc.x>=uH.x-10&&cc.x<=uH.x+uH.width+1)&&(cc.y>=uH.y-1&&cc.y<=uH.y+uH.height+1)){return true;}uH=undefined;};if(!VS){for(var G=0;G<ho.dY();G++){if(awa(ho.jY(G))){VS=G;break;}}}return VS;};this.aCN=false;this.Cq=function(cz){if(cz===undefined){return;}if(aE.hW()&&aE.cT().nj()===true){var Ho=aE.cT().fI().dY();IPCC.aV.ov(cz,'textIndex',0,Ho);aE.am().Cq(cz);aE.ln().EZ(function(F){if(F.zH!==true){aE.ln().wj(F);}});if(aE.zQ()===true){aE.cg();}}};this.VQ=function(){var FW=aE.am().get_transientHighlightMarks();while(FW.length>0){aE.ln().removeMark(FW.pop());}};this.MV=function(wP,dC){if(aE.hW()&&aE.cT().nj()===true){var G=wP;var ho=this.cT().fI();var ea=wP+dC;if(!fP){fP=aE.yw();}var FW=aE.am().get_transientHighlightMarks();for(;G<ea;G++){var fn=ho.jY(G);FW.push(hn.asb(fn.aD,fP,G));}}};this.aGg=function(aIo,dC){var aN=aE.am();for(var bB=dC-1;bB>dC;bB--){var ah=aN.jy[bB];hn.removeMark(ah.F);}};this.we=function(cz){if(cz===undefined){return;}var fn;var aN=aE.am();var ik=aN.EW();var vi='#3366CC';var HN='#3366CC';var cs=100;if(!fP){fP=aE.yw();}cs=fP.get_opacity();if(!cs){cs=100;}vi=fP.get_fillColor();if(vi===undefined){vi='#3366CC';}var ho=aE.cT().fI();if(ik===undefined){fn=ho.jY(cz);var F=hn.Zo(fn.aD,HN,vi,false,cs,cz);aN.we(cz,F,fn.lc);return;}var bB;function adz(bC,asN){for(bB=aN.jy.length-1;bB>=0;bB--){var ah=aN.jy[bB];if(ah.cz===bC){aN.jy.splice(bB,1);hn.removeMark(ah.F);aN.aCY(asN);aN.aox(bC);return bB;}}return-1;};function Oo(bC){fn=ho.jY(bC);var aio=hn.Zo(fn.aD,HN,vi,false,cs,bC);if(aN.we(bC,aio,fn.lc)===false){hn.removeMark(aio);}};var SN=aN.amZ();var G;if(cz>ik){for(G=ik;G<=cz;G++){if(G===cz){if(G<SN){continue;}Oo(G);}else if(G>=SN){if(G===ik){continue;}Oo(G);}else{adz(G,cz);}}}else if(cz<ik){for(G=ik;G>=cz;G--){if(G===cz){if(G>=SN){continue;}Oo(G);}else if(G<SN){if(G===ik){continue;}Oo(G);}else{adz(G,cz);}}}};this.DC=function(){var agi="";try{var aN=aE.am();if(aE.am().KJ()){var aoH=aE.cT().fI();if(aN.jy.length>0){var DS=[];for(var G=0;G<aN.jy.length;G++){DS.push(aN.jy[G].cz);}if(DS[0]>DS[1]){DS.reverse();}for(G=0;G<DS.length;G++){agi+=aoH.jY(DS[G]).auJ();}}}return agi;}catch(e){window.console.log(e.message);}};this.pM=function(azU){if(xQ){if(azU){ll.azk();}xQ=false;XJ=null;this.aCH();this.bS('xQ');aE.cg();}};this.aoo=function(){return xQ;};this.ais=function(){return XJ;};this.PG=function(L){akr=L;};this.JS=function(){return akr;};this.xM=function(L){if(L===xH){return;}xH=L;this.bS('xH');};this.Ma=function(){return xH;};this.Dp=function(L){if(bG){bG.Dp(L);}};this.FH=function(){if(bG){return bG.FH();}return true;};this.alj=function(aHQ){var aL=ll.anX(this.jS());this.apY(aL);};this.apY=function(L){if(L===aL){return;}aL=L;this.bS('windowSpace');};this.eN=function(){return aL;};this.cg=function(){ll.cg(bK,aN,aL);};this.uE=function(L){mv=L;};this.pd=function(){return mv;};this.cT=function(){return Dm.cT();};var mA=0;this.lU=function(){return Dm;};this.uk=function(L){if(L===this.lU()){return;}Dm=L;if(Dm){Dm.wm(aye);Dm.za(axD);}};this.hW=function(){return vu;};this.xF=function(L){vu=L;this.bS('textRequired');};this.oJ=function(){return qL;};this.rC=function(L){if(qL===L){return;}qL=L;this.bS('requireRequestsOptimize');};this.zQ=function(){return afV;};this.UF=function(L){afV=L;this.bS('autoUpdate');};var qj=false;this.lO=function(){return qj;};this.rd=function(L){if(typeof L!=="boolean"){return;}if(L===qj){return;}qj=L;if(bG){var afy=false;bG.forEachMark(function(F){if(F.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){afy=true;}});if(afy===true){bG.rd(qj);}}};this.iR=function(){return mA;};this.sh=function(L){if(mA===L){return;}if(isNaN(L)){return;}mA=L;this.bS('serviceResponseTimeout');};var qf='';this.Xz=function(fF,au){if(fF!==''){fF='/'+fF;}au=au||'';if(au===null||au===''){if(fF==='/Attributes'){if(/^[\x00-\x7F]*$/.test(bK.get_identifier())){return qf+'/Page/q/'+bK.ai.toString()+fF+'?DocumentID=u'+encodeURIComponent(bK.get_identifier());}else{return qf+'/Page/q/'+bK.ai.toString()+fF+'?DocumentID=e'+bK.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(bK.get_identifier())){return qf+'/Page/q/'+bK.ai.toString()+fF+'?DocumentID=u'+encodeURIComponent(bK.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return qf+'/Page/q/'+bK.ai.toString()+fF+'?DocumentID=e'+bK.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(bK.get_identifier())){return qf+'/Page/q/'+bK.ai.toString()+fF+'?DocumentID=u'+encodeURIComponent(bK.get_identifier())+'&'+au;}else{return qf+'/Page/q/'+bK.ai.toString()+fF+'?DocumentID=e'+bK.get_encodedIdentifier()+'&'+au;}}};this.auc=function(fF,au){fF=fF||'Art';au=au||'';if(au===null||au===''){if(fF==='Art'){return qf+'/Page/q/'+bK.ai.toString()+'/'+fF+'?DocumentID=e'+bK.get_encodedIdentifier();}}else{return qf+'/Page/q/'+bK.ai.toString()+'/'+fF+'?DocumentID=e'+bK.get_encodedIdentifier()+'&'+au;}};this.CT=function(Af){if(Ii===false){if(Af){Af();}return;}IPCC.R.mB.es({method:'POST',url:this.auc('Art'),headers:{'Content-Type':'application/json'},body:bG.saveToJson()}).then(function(){if(Af){Af();}});};this.lZ=function(){return qf;};this.HM=function(L){qf=L;this.bS('imageHandlerUrl');if(!IPCC.Web.sS){if(IPCC.Web.sN===false){IPCC.Web.Qy(L);}}};this.uV=function(){return aly;};this.NT=function(L){aly=L;};this.XS=function(){return akl;};this.agc=function(L){akl=L;};this.hb=function(){return nU;};this.pE=function(L){nU=L;nU.tabIndex= -1;};this.ed=function(){return lX;};this.hS=function(L){if(typeof L!=="boolean"){return;}if(L===lX){return;}lX=L;};this.aBD=function(H){if(xQ){this.pM(true);}else{this.aH('mouseDown',H);this.hy('jK',H);}};this.aBv=function(H){this.aH('mouseMove',H);this.hy('kZ',H);};this.aCm=function(H){this.aH('mouseUp',H);this.hy('it',H);};this.aBA=function(H){this.aH('mouseWheel',H);this.hy('mP',H);};this.aBb=function(H){this.aH('mouseDoubleClick',H);this.hy('wq',H);};this.aCP=function(H){this.aH('contextMenu',H);this.hy('Qb',H);};this.aCG=function(H){this.aH('contextMenuCommand',H);};this.aBq=function(H){this.aH('mouseOut',H);this.hy('nZ',H);};this.aAI=function(H){this.aH('touchStart',H);this.hy('jK',H);};this.aAi=function(H){this.aH('touchMove',H);this.hy('kZ',H);};this.aAg=function(H){this.aH('touchEnd',H);this.hy('it',H);};this.aCI=function(H){this.aH('touchCancel',H);this.hy('HE',H);};this.aH=function(bE,H){var T=al.getHandler(bE);if(T!==null){T(aE,H);}};var ala=function(V,pO){aN=new IPCC.asE();function pP(aj,H){aE.aH('propertyChanged',H);};aN.ij(pP);if(IPCC.wb.AU()){ll=new IPCC.akF(V,pO);}else{ll=new IPCC.Ik(V);}if(IPCC.ag){ll.tc=new IPCC.ag.aG(V);ll.axM=new IPCC.ag.aG(V);}};if(pO===false){ala(this,false);}else{ala(this,true);}return this;};IPCC.wb={AU:function(){var vl=IPCC.wb;if(vl.vB===null){
/*@cc_on@if(@_jscript)vl.vB=document.documentMode>8;@else@*/ vl.vB=true;/*@end@*/}return vl.vB;},vB:null};IPCC.aO={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,ek:function(dG){switch(dG){case IPCC.aO.Default:case IPCC.aO.Magnifier:case IPCC.aO.None:case IPCC.aO.RunMarks:return 'auto';case IPCC.aO.Arrow:case IPCC.aO.EditMarks:return 'default';case IPCC.aO.Crosshair:case IPCC.aO.RectangleZoom:case IPCC.aO.AddRectangleMark:case IPCC.aO.AddEllipseMark:case IPCC.aO.AddLineMark:case IPCC.aO.AddFreehandLineMark:case IPCC.aO.AddPolygonMark:case IPCC.aO.AddPolylineMark:case IPCC.aO.AddTextMark:case IPCC.aO.AddRectangleRedactionMark:case IPCC.aO.AddImageStampMark:case IPCC.aO.AddStampMark:return 'crosshair';case IPCC.aO.Link:return 'pointer';case IPCC.aO.HandOpen:case IPCC.aO.HandClosed:case IPCC.aO.Move:return 'move';case IPCC.aO.ResizeN:return 'n-resize';case IPCC.aO.ResizeE:return 'e-resize';case IPCC.aO.ResizeS:return 's-resize';case IPCC.aO.ResizeW:return 'w-resize';case IPCC.aO.ResizeNW:return 'nw-resize';case IPCC.aO.ResizeNE:return 'ne-resize';case IPCC.aO.ResizeSE:return 'se-resize';case IPCC.aO.ResizeSW:return 'sw-resize';case IPCC.aO.Text:return 'text';}return 'auto';}};IPCC.asE=function(){var dI=new IPCC.fq();var Gf=false;var xG;var tk;var MA=false;var DF=new IPCC.Fn(200,150,96,96);var wQ={x:0,y:0};var MC=3;var MJ=0,NY=0;var gB=0.2;var tq=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var DY=new IPCC.fq();var JT=0;var KE=0;var FQ=false;var YL;this.jy=[];var VN=IPCC.Web.UI.ScrollBars.Auto;var FW=[];this.get_transientHighlightMarks=function(){return FW;};this.get_scrollBars=function(){return VN;};this.get_overflow=function(){switch(VN){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(L){VN=L;this.bS('scrollBars');};var al=new IPCC.Web.UI.gj();this.ij=function(T){al.addHandler('propertyChanged',T);};this.mr=function(T){al.removeHandler('propertyChanged',T);};this.bS=function(dK){var T=al.getHandler('propertyChanged');if(T){T(this,new IPCC.pQ(dK));}};var onSelectionChanged=function(aN){var H={};H.selectionIsVisible=Gf;H.selectionRectangle=aN.zS();aN.bS('selection');};this.re=function(){xG={x:0,y:0};tk={x:0,y:0};if(!Gf){return;}Gf=false;onSelectionChanged(this);};this.showSelection=function(eH){xG.x=eH.x;xG.y=eH.y;tk.x=eH.x+eH.width;tk.y=eH.y+eH.height;Gf=true;onSelectionChanged(this);};this.GS=function(cc){xG.x=cc.x;xG.y=cc.y;tk.x=cc.x;tk.y=cc.y;Gf=true;onSelectionChanged(this);};this.De=function(cc){tk.x=cc.x;tk.y=cc.y;onSelectionChanged(this);};this.zh=function(){return Gf;};this.zS=function(){var K=new IPCC.Web.UI.Rectangle(Math.min(xG.x,tk.x),Math.min(xG.y,tk.y),0,0);K.width=Math.max(xG.x,tk.x)-K.x;K.height=Math.max(xG.y,tk.y)-K.y;return K;};var KY=function(){if(!MA){DY.aqk();return;}DY.TJ(dI);DY.pu(-wQ.x,-wQ.y);DY.scale(MC,MC);DY.pu(DF.width/2,DF.height/2);};this.hideMagnifier=function(){MA=false;KY();this.bS('magnifierIsVisible');};this.showMagnifier=function(cJ){wQ.x=cJ.x;wQ.y=cJ.y;MA=true;KY();this.bS('magnifierWindowPosition');this.bS('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return MA;};this.get_magnifierWindowPosition=function(){return{x:wQ.x,y:wQ.y};};this.get_magnifierMagnification=function(){return MC;};this.set_magnifierMagnification=function(L){MC=L;KY();this.bS('magnifierMagnification');};this.Oc=function(){return MJ;};this.Uo=function(L){MJ=L;this.bS('magnifierXOffset');};this.Nl=function(){return NY;};this.UT=function(L){NY=L;this.bS('magnifierYOffset');};this.wp=function(){return{width:DF.width,height:DF.height};};this.set_magnifierWindowSize=function(newMagnifierSize){DF.width=newMagnifierSize.width;DF.height=newMagnifierSize.height;KY();this.bS('magnifierWindowSize');};this.avg=function(){return DY.clone();};this.gV=function(){return dI.clone();};this.Wx=function(){return gB;};this.Vh=function(L){gB=L;this.bS('markHandleSize');};this.zE=function(){return tq;};this.Ih=function(L){tq=L;this.bS('markHandleMode');};this.kg=function(L){if(L===dI||L.aDy(dI)){return;}if(!L.amV()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}dI.TJ(L);KY();this.bS('displayedPageRectangle');};var aoS='0';this.get_presentationQuality=function(){return aoS;};this.set_presentationQuality=function(L){aoS=L;this.bS('presentationQuality');};var dG=IPCC.aO.Default;this.get_cursor=function(){return dG;};this.set_cursor=function(L){if(dG!==L&&dG!== -1){dG=L;this.bS('cursor');}};var MN=IPCC.aO.Default;this.ES=function(){if(MN===IPCC.aO.Default){return dG;}return MN;};this.Ed=function(L){if(MN!==L){MN=L;this.bS('markCursor');}};this.Cq=function(cz){JT=cz;FQ=false;KE=0;};this.MV=function(wP,dC){if(wP!==JT){JT=wP;}KE=dC;FQ=true;};this.WP=function(){if(FQ===true){for(var G=0;G<this.jy.length;G++){this.jy[G].F.set_visible(false);}FQ=false;}};this.KJ=function(){return FQ;};this.we=function(cz,F,lc){YL=cz;if(cz!==undefined){if(this.jy.length>0&&this.jy[this.jy.length-1].cz===cz){return false;}this.jy.push({cz:cz,F:F,lc:lc});FQ=true;KE++;}else{this.jy=[];KE=0;}return true;};this.EW=function(){return YL;};this.aCY=function(L){if(L===undefined){return;}YL=L;};var akY;this.aFh=function(){return akY;};this.aox=function(L){if(L===undefined){return;}akY=L;};this.amZ=function(){return JT;};this.aGH=function(){return JT+KE;};this.DH=function(){return this.jy.length;};this.re();this.hideMagnifier();return this;};IPCC.aG=function(){this.Tg=false;this.Vc=false;this.Fx=true;this.Zt=false;this.HV=false;this.zf=0;this.zI=0;return this;};IPCC.aG.viewerCounter=0;IPCC.aG.tileCounter=0;IPCC.aG.imageIDCounter=0;IPCC.aG.prototype.aik=function(V){this.zg=IPCC.aG.viewerCounter.toString();IPCC.aG.viewerCounter++;this.V=V;if(IPCC.ag){this.rr=new IPCC.Web.UI.MarkCollection();}var C=this;function avI(aj,H){C.aAr(H);};function xU(aj,H){C.aAq(H);};V.ij(avI);V.add_markAdded(xU);V.add_markChanged(xU);V.add_inProgressMarkChanged(xU);V.add_markRemoved(xU);V.add_markReordered(xU);V.add_marksLoaded(xU);V.add_markSelectionChanged(xU);V.add_markTextSelectionChanged(xU);};IPCC.aG.prototype.Yz=function(){var ct='igtile'+IPCC.aG.tileCounter.toString();IPCC.aG.tileCounter++;return ct;};IPCC.aG.prototype.xh=function(){this.Tg=true;this.Fx=this.Fx&&this.Vc;var C=this;var aAB=function(){if(!C.Tg){return;}C.cg(C.V.dj(),C.V.am(),C.V.eN());C.Fx=true;};window.setTimeout(aAB,0);};IPCC.aG.prototype.aAr=function(H){var yB=H.get_propertyName();switch(yB){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.V.am().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.Mb=true;if(this.V.zQ()===true){this.xh();}return;case 'displayedPageRectangle':if(this.V.zv===true){this.xh();return;}break;case 'redactionDraftMode':this.Mb=true;this.xh();return;}if(this.V.zQ()===true){this.xh();}};IPCC.aG.prototype.aAq=function(H){if(H.mark&& !this.Mb){this.rr.addMark(H.mark);}else{this.Mb=true;}if(this.V.zQ()===true){this.xh();}};IPCC.aG.prototype.Zp=function(){this.pH=this.cE.clone();this.pH.pu(this.ahd,this.afi);this.pH.kN(this.V.dj(),this.V.eN());this.rE=this.pH.clone();this.rE.Ad();};IPCC.aG.prototype.cg=function(bK,aN,aL){try{this.Tg=false;if(this.Pk===true){return;}var aC=this.V.jS();if(aC===null){return;}var gC=aC.igElements;try{this.Pk=true;if(this.IZ===undefined||bK===undefined|| !(this.IZ.equals(bK))){if(this.Zt){if(this.lo){this.ama(this.lo);var eh=gC.lT;IPCC.Web.UI.aT.removeHandler(eh,"mousedown",this.aaG);IPCC.Web.UI.aT.removeHandler(eh,"mousemove",this.SG);IPCC.Web.UI.aT.removeHandler(eh,"mouseup",this.Sz);IPCC.Web.UI.aT.removeHandler(eh,"contextmenu",this.ZL);IPCC.Web.UI.aT.removeHandler(gC.jx,"blur",this.WZ);IPCC.Web.UI.aT.removeHandler(gC.fO,"blur",this.Wf);}delete this.lo;this.amX(gC.sF);this.amX(gC.Du);this.Zt=false;if(this.HA!==undefined){this.HA.unlockAllItems();}if(this.Jv!==undefined){this.Jv.unlockAllItems();}this.HA=undefined;this.Jv=undefined;aC.igElements.pp.onscroll=null;aC.igElements.pp.onresize=null;}if(aC.querySelectorAll){if(aC.querySelectorAll(".pccPageLoadFail").length===0){aC.innerHTML='';}}this.V.pM(true);if(bK===undefined){this.Pk=false;this.IZ=undefined;this.aen();return;}this.IZ=bK.clone();this.HA=new IPCC.yu();this.HA.createPyramid(this,this.V);this.Jv=new IPCC.yu();this.Jv.createPyramid(this,this.V);this.Zt=true;this.asA(this.zg);}this.cE=aN.gV();var QY=this.cE.rR(bK);this.cE.pu(-QY.x,-QY.y);this.awi=this.cE.clone();this.awi.Ad();this.ahd=Math.round(QY.x);this.afi=Math.round(QY.y);this.Zp();this.aov(bK,aN,aL);if(bK.ai===0){this.Zp();}}finally{this.Pk=false;this.Mb=false;if(this.rr){this.rr.removeAllMarks();}}this.acf(true);}catch(e){this.V.h('display',e);throw e;}};IPCC.aG.prototype.sA=function(zA,zR,zX){if(zA[zR]===zX){return;}zA[zR]=zX;};IPCC.aG.prototype.kd=function(zA,zR,zX){if(zA.getAttribute(zR)===zX){return;}zA.setAttribute(zR,zX);};IPCC.aG.prototype.fj=function(zA,zR,zX){if(zA.style[zR]===zX){return;}zA.style[zR]=zX;};IPCC.aG.prototype.acf=function(ayI){if(this.Pk){return;}if(this.Tg&& !this.Fx){return;}if(!ayI){try{this.Vc=true;var aC=this.V.jS();if(aC){this.zf=aC.igElements.pp.scrollLeft;this.zI=aC.igElements.pp.scrollTop;}this.ard();this.Zp();this.V.am().kg(this.pH);this.V.aH('userModifiedViewState',{});this.V.pM(false);}finally{this.Vc=false;}}};IPCC.aG.prototype.aCc=function(oz,cE,ZV){var rU=oz.aCV(cE,ZV);if(!this.V.zv&&rU.tilesToRequest.length===0&&(rU.opaqueTiles.length+rU.translucentTiles.length)>0){this.V.zv=true;this.V.aH('pageDisplayed',{aY:this.V.ai});}oz.aEa(rU);if(this.V.uV()===false){this.ajP(rU.tilesToRequest);this.Vk(rU.opaqueTiles,1,cE);this.Vk(rU.translucentTiles,rU.opacity,cE);}};IPCC.aG.prototype.asA=function(zg){var V=this.V;var aC=V.jS();var aN=V.am();var aE=this;function fC(jJ){var tL=document.createElement('div');var G;for(G in jJ){if(jJ.hasOwnProperty(G)){tL.style[G]=jJ[G];}}return tL;};var gC={};aC.igElements=gC;var kP=fC({width:'100%',height:'100%',position:'relative',overflow:aN.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});gC.pp=kP;kP.setAttribute('class','igViewerScroller');kP.onscroll=function(){aE.acf(false);};kP.onresize=function(){var aL=V.eN();aL.width=kP.clientWidth;aL.height=kP.clientHeight;V.aH('resize',{});};var eh=fC({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});kP.appendChild(eh);gC.lT=eh;eh.setAttribute('class','igViewerGraphics');this.Cb=2;this.Cz=2;this.zf=0;this.zI=0;var af={};af.oz=this.HA;af.aaV='ig'+zg+'level';gC.sF=af;this.amC(af,eh,fC);af.tc=this.tc;var lF;if(V.uV()===false){lF=fC({position:'absolute',display:'none',width:(aN.wp().width+4)+'px',height:(aN.wp().height+4)+'px',backgroundColor:'#000000'});}else{lF=fC({position:'absolute',display:'none',width:(aN.wp().width+4)+'px',height:(aN.wp().height+4)+'px',backgroundColor:'#cccccc'});}eh.appendChild(lF);gC.lF=lF;lF.setAttribute('class','igMagnifierFrame');var us=fC({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});gC.us=us;lF.appendChild(us);af={};af.oz=this.Jv;af.aaV='ig'+zg+'maglevel';gC.Du=af;this.amC(af,us,fC);af.tc=this.axM;var Og=document.createTextNode('');gC.Og=Og;var jx=document.createElement('textarea');jx.appendChild(Og);jx.style.position='absolute';jx.style.overflow='auto';jx.style.width='80px';jx.style.height='80px';jx.style.resize='none';jx.style.display='none';kP.appendChild(jx);gC.jx=jx;var Wg=document.createTextNode('');gC.Wg=Wg;var fO=document.createElement('input');fO.type="text";fO.style.position='absolute';fO.style.overflow='hidden';fO.style.width='80px';fO.style.height='80px';fO.style.resize='none';fO.style.display='none';fO.style.padding='0px';fO.style.margin='0px';fO.style.lineHeight='normal';fO.className="no-ms-clear";var ajh=function(ev){var KS=fO,av=parseFloat(KS.style['width']),dc=parseFloat(KS.style['height']),la=KS.style['fontFamily'];var iW=IPCC.R.wW(KS.value,la,{wD:'pre',gf:gC.sF.EE}),nV=12*av/(iW.width||1),pa=12*dc/(iW.height||1),CJ=Math.floor(Math.min(nV,pa))*0.9;KS.style.fontSize=CJ+'px';};fO.onkeyup=ajh;fO.onfocus=function(ev){ajh(ev);if(fO.setSelectionRange){var iG=fO.value.length*2;fO.setSelectionRange(iG,iG);}};kP.appendChild(fO);gC.fO=fO;this.lo={};this.agu(this.lo);IPCC.Web.UI.aT.addHandler(eh,"mousedown",this.aaG);IPCC.Web.UI.aT.addHandler(eh,"mousemove",this.SG);IPCC.Web.UI.aT.addHandler(eh,"mouseup",this.Sz);IPCC.Web.UI.aT.addHandler(eh,"contextmenu",this.ZL);IPCC.Web.UI.aT.addHandler(jx,"blur",this.WZ);IPCC.Web.UI.aT.addHandler(fO,"blur",this.Wf);aC.appendChild(kP);};IPCC.aG.prototype.amC=function(af,hi,fC){var vQ=fC({width:'2px',height:'2px',position:'absolute'});af.hi=hi;hi.appendChild(vQ);af.XP=vQ;vQ.setAttribute('class','igAnchor');this.aoI(af,vQ,af.oz,af.aaV);af.xj=fC({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});vQ.appendChild(af.xj);var ky=fC({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});ky.style[this.agF]=this.agW(0.5);vQ.appendChild(ky);af.ky=ky;};IPCC.aG.prototype.amX=function(af){if(af&&af.HV){af.tc.amU();af.HV=false;}af.hi=null;};IPCC.aG.prototype.aov=function(bK,aN,aL){var V=this.V;var wu=this.pH.rR(bK);var aC=V.jS();var arW=V.avf();var gC=aC.igElements;var sF=gC.sF;var Du=gC.Du;var kP=gC.pp;var eh=gC.lT;var vQ=sF.XP;var lF=gC.lF;var us=gC.us;var ajM=Du.XP;var Xn=Math.max(0,-wu.x);var Vb=Math.max(0,-wu.y);var ayt=Math.max(wu.width,aL.width);var atV=Math.max(wu.height,aL.height);var nA=Math.max(0,wu.x);var oZ=Math.max(0,wu.y);var agh=false;var FC=false;if(aN.zh()){FC=aN.zS();}var aCk=this.Cb;this.Cb=Math.floor(ayt-1);if(this.Cb<0){this.Cb=0;}var aBM=this.Cz;this.Cz=Math.floor(atV-1);if(this.Cz<0){this.Cz=0;}if(V.uV()===true){if(this.Cz===0){this.Cz=2;}if(this.Cb===0){this.Cb=2;}}var aBR=this.zf;var aBk=this.zI;if(!this.Fx){this.zf=Math.floor(Xn);this.zI=Math.floor(Vb);}if(this.Tz){this.fj(vQ,'left',nA+'px');this.fj(vQ,'top',oZ+'px');}var cE=aN.gV();cE.pu(Xn-nA,Vb-oZ);this.acj(sF,aN.gV(),cE,bK,aL,FC,nA,oZ);this.fj(kP,'overflow',aN.get_overflow());if(aL.width!==kP.clientWidth||aL.height!==kP.clientHeight){aL.width=kP.clientWidth;aL.height=kP.clientHeight;agh=true;}this.sA(vQ.style,'visibility','visible');if(aN.get_magnifierIsVisible()){var wQ=aN.get_magnifierWindowPosition();var BZ=aN.wp();var MJ=aN.Oc();var NY=aN.Nl();var UR=aN.avg();var aDB=Math.round(wQ.x-BZ.width/2+Xn+MJ);var aDx=Math.round(wQ.y-BZ.height/2+Vb+NY);var Nj=UR.rR(bK);var aDQ=Math.max(0,-Nj.x);var aDX=Math.max(0,-Nj.y);this.fj(ajM,'left',Nj.x+'px');this.fj(ajM,'top',Nj.y+'px');var NP=2;lF.style.width=(BZ.width+NP*2)+'px';lF.style.height=(BZ.height+NP*2)+'px';us.style.width=BZ.width+'px';us.style.height=BZ.height+'px';us.style.left=NP+'px';us.style.top=NP+'px';lF.style.left=aDB+'px';lF.style.top=aDx+'px';var alB=UR.clone();alB.pu(aDQ,aDX);this.acj(Du,UR,alB,bK,BZ,FC,0,0);lF.style.display='block';}else{lF.style.display='none';}if(V.aoo()){var wN=V.ais();var aqB=wN.eo();var js=this.pH.wh(aqB);var nQ=(wN.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var adk=0,ahZ=0;if(js.width<nQ){js.width=nQ;}if(js.height<nQ){js.height=nQ;}if(js.width>aL.width){js.width=aL.width;}if(js.height>aL.height){js.height=aL.height;}if(js.x<0){js.x=0;}if(js.y<0){js.y=0;}if(js.x+js.width+1>=aL.width){js.x=aL.width-js.width;adk= -8;}if(js.y+js.height+1>=aL.height){js.y=aL.height-js.height;ahZ= -8;}var kG=this.Xj(wN);kG.style.left=this.zf+js.x+1+'px';kG.style.top=this.zI+js.y+1+'px';kG.style.width=js.width+adk+'px';kG.style.height=js.height+ahZ+'px';if(kG.style.display!=='block'){kG.style.display='block';var tC=wN.eR;var tQ='';if(tC&IPCC.Web.UI.FontStyle.Italic){kG.style.fontStyle="italic";}if(tC&IPCC.Web.UI.FontStyle.Bold){kG.style.fontWeight="bold";}if(tC&IPCC.Web.UI.FontStyle.Underline){tQ+="underline";}if(tC&IPCC.Web.UI.FontStyle.Strikeout){if(tC&IPCC.Web.UI.FontStyle.Underline){tQ+=" line-through";}else{tQ="line-through";}}kG.style.textDecoration=tQ;kG.style.color=wN.oQ;kG.style.backgroundColor=wN.dP;kG.style.fontFamily=wN.gp;kG.style['z-index']=100;var CJ=wN.mF*this.pH.uh();if(CJ){kG.style.fontSize=CJ+"px";}switch(wN.rk){case IPCC.Web.UI.HorizontalAlignment.Center:kG.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:kG.style.textAlign='right';break;default:kG.style.textAlign='left';break;}kG.focus();}}else{gC.jx.style.display='none';gC.fO.style.display='none';if(document.activeElement===gC.jx){gC.jx.blur();}if(document.activeElement===gC.fO){gC.fO.blur();}}if(aN.get_cursor()!== -1){var io=IPCC.aO.ek(aN.get_cursor());this.sA(eh.style,'cursor',io);}if(agh){V.aH('resize',{});}if(this.Cb!==aCk){this.fj(eh,'width','100%');}if(this.Cz!==aBM){this.fj(eh,'height','100%');}if(this.zf!==aBR){kP.scrollLeft=this.zf;}if(this.zI!==aBk){kP.scrollTop=this.zI;}if(arW==="PageView"&& !this.Fx){aN=V.am();var ak=aN.gV();var Av=(+ak.uh().toFixed(6));if(V.Nx!==Av){V.Nx=Av;setTimeout(function(){V.aH('scaleChanged',{scaleFactor:Av,pageNumber:V.ai});},1);V.aH('scaleChanged',{scaleFactor:Av,pageNumber:V.ai});}}};IPCC.aG.prototype.acj=function(af,pH,cE,ar,aL,FC,nA,oZ){var wu=pH.rR(ar);var mW={};mW.width=Math.max(wu.width,aL.width);mW.height=Math.max(wu.height,aL.height);this.aqm(af,pH,cE,ar,aL,nA,oZ);this.Yy(af,cE,mW,ar,nA,oZ);var rE=pH.clone();rE.Ad();var ZV=rE.wh({x:0,y:0,width:aL.width,height:aL.height});if(this.V.uV()===false){this.aCc(af.oz,cE,ZV);}else{this.aFd(af);}if(FC){var HZ=cE.wh(FC);if(this.Tz){af.ky.style.left=(HZ.x-2)+'px';af.ky.style.top=(HZ.y-2)+'px';}else{af.ky.style.left=(HZ.x-2+nA)+'px';af.ky.style.top=(HZ.y-2+oZ)+'px';}af.ky.style.width=HZ.width+'px';af.ky.style.height=HZ.height+'px';af.ky.style.display='block';}else{af.ky.style.display='none';}};IPCC.aG.prototype.aqm=function(af,pH,cE,ar,aL,nA,oZ){var bG=this.V.et();var hn=this.V.ln();var eT=this.V.Qj();var alQ=0;var C=this;if(af.ke){alQ=af.ke.length;}if(!af.tc|| !bG){return;}var oC=this.V.aue();if(bG.get_markCount()<=0&&hn.get_markCount()<=0&&eT.get_markCount()<=0&&alQ<=0&& !oC){return;}if(!af.HV){af.tc.alM(this.V,af,ar);af.ke=[];af.HV=true;}hn=this.V.ln();var ac=[];function avJ(F){if((C.V.hW()&&C.V.cT().nj()===true)||F.get_type()!==IPCC.Web.UI.MarkType.Highlight){ac.push(F);}};function ahH(F){ac.push(F);};eT.forEachMark(ahH);if(this.V.hW()&&this.V.cT().nj()===true){hn.forEachMark(ahH);}bG.forEachMark(avJ);if(oC){ac.push(oC);}var G,ke=af.ke;for(G=0;G<ke.length;G++){while(G<ke.length&&(G>=ac.length||ke[G].F!==ac[G])){af.tc.HX(ke[G]);ke.splice(G,1);}if(G<ke.length&&(this.Mb||this.rr.contains(ke[G].F))){af.tc.Qd(ke[G]);}}for(G=ke.length;G<ac.length;G++){ke[G]={F:ac[G]};var J=ke[G];if(!J){continue;}af.tc.amB(ke[G]);}if(this.Tz){af.tc.acm(this.V,af,ac,cE,this.V.amg());}else{var eY=cE.clone();eY.pu(nA,oZ);af.tc.acm(this.V,af,ac,eY,this.V.amg());}};IPCC.aG.prototype.Yy=function(){};IPCC.aG.prototype.ard=function(){var aC=this.V.jS();if(aC){this.ahd=aC.igElements.lT.offsetLeft-this.zf;this.afi=aC.igElements.lT.offsetTop-this.zI;}};IPCC.aG.prototype.rH=function(H,cg){var jD=this.V.jS().igElements;var hZ=H.domEvent;var eA;if(jD.lT.getBoundingClientRect){eA=jD.lT.getBoundingClientRect();}else{var dv=jD.lT;var wy=document.documentElement;eA={left:wy.clientLeft-wy.scrollLeft,top:wy.clientTop-wy.scrollTop};dv=dv.offsetParent;while(dv){eA.top+=dv.offsetTop-dv.scrollTop;eA.left+=dv.offsetLeft-dv.scrollLeft;dv=dv.offsetParent;}}if(hZ.rawEvent.touches){if(hZ.rawEvent.touches.length>0){this.Ny=new IPCC.Web.UI.Point(hZ.rawEvent.touches[0].clientX-jD.pp.scrollLeft-eA.left,hZ.rawEvent.touches[0].clientY-jD.pp.scrollTop-eA.top);}if(!this.Ny){this.Ny=new IPCC.Web.UI.Point(0,0);}H.windowPoint=new IPCC.Web.UI.Point(this.Ny.x,this.Ny.y);hZ.button=0;}else{H.windowPoint=new IPCC.Web.UI.Point(hZ.clientX-eA.left-jD.pp.scrollLeft,hZ.clientY-eA.top-jD.pp.scrollTop);}var Oy=this.rE.transform(H.windowPoint);H.imagePoint=new IPCC.Web.UI.Point(Oy.x,Oy.y);H.constrainedImagePoint=new IPCC.Web.UI.Point(Oy.x,Oy.y);H.constrainedImagePoint.x=Math.min(Math.max(H.constrainedImagePoint.x,0),this.IZ.width);H.constrainedImagePoint.y=Math.min(Math.max(H.constrainedImagePoint.y,0),this.IZ.height);H.pointLiesWithinImage=(H.constrainedImagePoint.x===H.imagePoint.x&&H.constrainedImagePoint.y===H.imagePoint.y);H.mark=null;try{var dR=hZ.target;while(!(dR.ImGearMarkRelation)&&dR.parentNode&&dR!==document.body){dR=dR.parentNode;}if(dR.ImGearMarkRelation){H.mark=dR.ImGearMarkRelation.F;}}catch(bD){}};IPCC.aG.prototype.jK=function(bD){try{bD.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bD;this.rH(H);this.V.aBD(H);}catch(ex){this.V.h('mouseDown',ex);}};IPCC.aG.prototype.kZ=function(bD){try{bD.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bD;this.rH(H);this.V.aBv(H);}catch(ex){this.V.h('mouseMove',ex);}};IPCC.aG.prototype.mP=function(bD){try{var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bD;this.rH(H);if(!bD.rawEvent.wheelDelta){H.wheelDelta= -bD.rawEvent.detail*120;}else{H.wheelDelta=bD.rawEvent.wheelDelta;}this.V.aBA(H);}catch(ex){this.V.h('mouseWheel',ex);}};IPCC.aG.prototype.wq=function(bD){try{bD.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bD;this.rH(H);this.V.aBb(H);}catch(ex){this.V.h('mouseDoubleClick',ex);}};IPCC.aG.prototype.it=function(bD){try{bD.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bD;this.rH(H);this.V.aCm(H);}catch(ex){this.V.h('mouseUp',ex);}};IPCC.aG.prototype.Qb=function(bD){try{bD.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bD;this.rH(H);this.V.aCP(H);}catch(ex){this.V.h('contextMenu',ex);}};IPCC.aG.prototype.ahm=function(bD){try{this.V.pM(true);}catch(ex){this.V.h('textAreaBlur',ex);}};IPCC.aG.prototype.aiI=function(bD){try{this.V.pM(true);}catch(ex){this.V.h('textInputBlur',ex);}};IPCC.aG.prototype.aFq=function(F){var jx=this.Xj(F);jx.value=F.ay||"";};IPCC.aG.prototype.azk=function(){var V=this.V;var F=V.ais();if(!F|| !V.aoo()){return;}var ay=this.Xj(F).value;ay=ay.replace(/(\n|\n\r|\r\n|\r)/g,'\n');F.set_text(ay);};IPCC.aG.prototype.Xj=function(F){var jD=this.V.jS().igElements,jx=null;if(F.get_type()===IPCC.Web.UI.MarkType.TextLine){jx=jD.fO;}else if(F.get_type()===IPCC.Web.UI.MarkType.Text){jx=jD.jx;}return jx;};IPCC.yu=function(){this.fu=[];return this;};IPCC.yu.prototype.aCV=function(dI,eH){var bX=dI.uh();var G,nh,qo;var cs=1;var Oq;var Cy=[];var yc=[];var Cg=[];var Fp,RM;qo=this.fu.length;for(G=0;G<this.fu.length;G++){if(this.fu[G].bX>bX){qo=G;break;}}nh=qo-1;if(nh<0){nh=0;}if(qo>=this.fu.length){qo=this.fu.length-1;}if(nh!==qo){Oq=(bX-this.fu[nh].bX)/(this.fu[qo].bX-this.fu[nh].bX);cs=Oq*1.0;if(cs>=0.15){cs=1;nh=qo;}if(cs<=0.15){cs=1;qo=nh;}}yc=this.fu[nh].MU(eH);Cg=this.fu[qo].MU(eH);var Qs=function(oy){var G;for(G=0;G<oy.length;G++){oy[G].level.pool.SO(oy[G]);}};var Wv=function(oy){var alb=[];var G;for(G=0;G<oy.length;G++){if(!oy[G].get_isLockedAndLoaded()){alb.push(oy[G]);}}return alb;};var aic=function(oy){var akZ=[];var G;for(G=0;G<oy.length;G++){if(oy[G].get_isLockedAndLoaded()){akZ.push(oy[G]);}}return akZ;};if(nh>0&&nh===qo&&this.fu[qo].tiles.length>1){nh=qo-1;yc=this.fu[nh].MU(eH);}Qs(yc);Cy=Wv(yc);if(Cy.length>0){for(Fp=nh-1;Fp>=0;Fp--){RM=this.fu[Fp].MU(eH);Qs(RM);if(Wv(RM).length<1){break;}}if(Fp<0){yc=aic(yc);}else{nh=Fp;yc=RM;cs=1;}}else{Qs(Cg);Cy=Wv(Cg);}Qs(Cg);Cg=aic(Cg);if(Cy.length>3){Cy.splice(3,Cy.length-3);}function avk(){var ap;function aah(GY){var ap='',G,bm;if(GY.length<1){return '';}bm=GY[0].level;ap+='level '+bm.id.toString()+' - ';for(G=0;G<GY.length;G++){if(G>0){ap+=', ';}ap+='('+(GY[G].x/bm.oI).toString()+','+(GY[G].y/bm.Bn).toString()+')';if(GY[G].get_isLockedAndLoaded()){ap+='*';}}return ap;};ap='tilesToRequest: '+aah(this.tilesToRequest)+'<br/>';ap+='opaqueTiles: '+aah(this.opaqueTiles)+'<br/>';ap+='translucentTiles: '+aah(this.translucentTiles)+'<br/>';ap+='opacity: '+this.opacity.toString()+'<br/>';ap+='ajN: '+this.ajN.toString()+'<br/>';ap+='dI: '+this.dI.toString()+'<br/>';return ap;};return{opaqueTiles:yc,translucentTiles:Cg,opacity:cs,tilesToRequest:Cy,toString:avk,ajN:bX,dI:dI.toString()};};IPCC.yu.prototype.aEa=function(rU){var Iq=[];var vf=[];var G,j;var bm,tile;for(G=0;G<this.fu.length;G++){bm=this.fu[G];for(j=0;j<bm.tiles.length;j++){tile=bm.tiles[j];if(tile.poolItem!==undefined){Iq.push(tile);}}}var ahG=function(ZO,aka){var G,j,Zd,Yx;for(G=0;G<aka.length;G++){Zd=aka[G];Yx=true;for(j=0;j<ZO.length;j++){if(Zd===ZO[j]){Yx=false;break;}}if(Yx){ZO.push(Zd);}}};vf=rU.tilesToRequest.concat();ahG(vf,rU.opaqueTiles);ahG(vf,rU.translucentTiles);for(G=Iq.length-1;G>=0;G--){var axp=Iq[G];for(j=0;j<vf.length;j++){if(vf[j]===axp){Iq.splice(G,1);break;}}}for(G=0;G<Iq.length;G++){Iq[G].unlock();}for(G=0;G<vf.length;G++){vf[G].relock();}for(G=0;G<vf.length;G++){if(vf[G].poolItem===undefined){vf[G].lock();}}};IPCC.yu.prototype.unlockAllItems=function(){var G,j,bm;for(G=0;G<this.fu.length;G++){bm=this.fu[G];for(j=0;j<bm.tiles.length;j++){if(bm.tiles[j].poolItem!==undefined){bm.pool.aej(bm.tiles[j]);}}}};IPCC.yu.prototype.aHX=function(){var G;for(G=0;G<this.fu.length;G++){this.fu[G].pool.asa();}};IPCC.yu.prototype.toString=function(){var ap='',G,j,bm;for(G=0;G<this.fu.length;G++){bm=this.fu[G];ap+='Level '+G.toString()+':   scaleFactor='+bm.bX.toString()+'  image='+bm.width.toString()+'x'+bm.height.toString()+'  tile='+bm.oI.toString()+'x'+bm.Bn.toString()+'\n';for(j=0;j<bm.tiles.length;j++){if(j>0){ap+=', ';}ap+='('+bm.tiles[j].x.toString()+', '+bm.tiles[j].y.toString()+')';}ap+='\n';}return ap;};IPCC.yu.prototype.createPyramid=function(ll,V){var aGI=6000000;var alc=5000;var oI=1024;var aGh=oI*oI*3*150;var aew=0.5;var aEd=2;var bK=V.dj();var Ac=bK.width*bK.height*3;var zO;var bm;var bX;var G;var x,y;var tile;var xA,xJ;this.fu=[];if(bK.sC){bX=1.0;zO=Ac*bX*bX;while(this.fu.length<aEd||zO>alc){bm=new IPCC.QJ();bm.bX=bX;this.fu.unshift(bm);bX*=aew;zO=Ac*bX*bX;}}else{if(V.uV()===true){Ac=bK.width*bK.height;}bX=Math.sqrt(alc/Ac);var aDz=bX*bK.gy;bX=Math.ceil(aDz)/bK.gy;zO=Ac*bX*bX;if(V.uV()===false){while(zO<aGh){bm=new IPCC.QJ();bm.bX=bX;this.fu.push(bm);bX/=aew;zO=Ac*bX*bX;}}else{bm=new IPCC.QJ();bm.bX=1;this.fu.push(bm);}}bK.ty=this.fu[this.fu.length-1].bX*8;for(G=0;G<this.fu.length;G++){bm=this.fu[G];bm.NV=85;if(G===this.fu.length-1){bm.NV=100;}bm.pyramid=this;bm.id=G;bm.pool=new IPCC.ajf();bm.pool.uiDirector=ll;zO=Ac*bm.bX*bm.bX;bm.width=Math.round(bK.width*bm.bX);bm.height=Math.round(bK.height*bm.bX);bm.oI=bm.width;bm.Bn=bm.height;if(G>2&&G>this.fu.length-2){bm.oI=Math.min(oI/2,bm.width);bm.Bn=Math.min(oI/2,bm.height);}if(zO>aGI){bm.oI=Math.min(oI,bm.width);bm.Bn=Math.min(oI,bm.height);}bm.tiles=[];xA=bm.oI;for(x=0;x<bm.width;x+=xA){xA=bm.oI;if(x+xA*1.25>bm.width){xA=bm.width-x;}xJ=bm.Bn;for(y=0;y<bm.height;y+=xJ){xJ=bm.Bn;if(y+xJ*1.25>bm.height){xJ=bm.height-y;}tile=new IPCC.Ju();tile.level=bm;tile.x=x;tile.y=y;tile.right=tile.x+xA;if(tile.right<bm.width){tile.right++;}tile.bottom=tile.y+xJ;if(tile.bottom<bm.height){tile.bottom++;}if(V.uV()===false){var NH='jpeg';if(bm.NV>=100){NH='png';}tile.contentType=NH;if(xA!==bm.width||xJ!==bm.height){tile.url=V.Xz('Tile/'+x.toString()+'/'+y.toString()+'/'+xA.toString()+'/'+xJ.toString(),'Scale='+bm.bX.toString()+'&Quality='+bm.NV+'&ContentType='+NH);}else{tile.url=V.Xz('','Scale='+bm.bX.toString()+'&Quality='+bm.NV+'&ContentType='+NH);}}else{tile.url=V.Xz('','Scale='+bm.bX.toString()+'&ContentType='+IPCC.R.MT);tile.aFL=ll.Yz();}bm.tiles.push(tile);}}}};IPCC.QJ=function(){this.bX=1;this.width=0;this.height=0;this.oI=0;this.Bn=0;this.pool=undefined;return this;};IPCC.QJ.prototype.MU=function(eH){if(eH.width<1||eH.height<1){return[];}var lL=Math.floor(eH.x*this.bX);var mn=Math.floor(eH.y*this.bX);var nH=Math.ceil((eH.x+eH.width)*this.bX);var oa=Math.ceil((eH.y+eH.height)*this.bX);var oy=[];var G,hL;var bd=this.tiles.length;for(G=0;G<bd;G++){hL=this.tiles[G];if(hL.x<=nH&&hL.right>=lL&&hL.y<=oa&&hL.bottom>=mn){oy.push(hL);}}return oy;};IPCC.Ju=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};IPCC.Ju.prototype.unlock=function(){this.level.pool.aej(this);};IPCC.Ju.prototype.lock=function(){this.level.pool.lockTile(this);};IPCC.Ju.prototype.relock=function(){return this.level.pool.SO(this);};IPCC.Ju.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};IPCC.ajf=function(){this.eE=[];this.parentElementID='';this.lockTile=function(hL){var di,G,ZH,YY;if(this.SO(hL)){return;}ZH=0;for(G=this.eE.length-1;G>=0;G--){if(!(this.eE[G].locked)){ZH++;YY=G;}}if(ZH>4){di=this.eE[YY];this.uiDirector.YF(di);this.eE.splice(YY,1);}di=new IPCC.aDf();di.pool=this;this.uiDirector.ahJ(di);this.eE.push(di);di.locked=true;di.tile=hL;hL.poolItem=di;return;};this.SO=function(hL){var di,G;if(this.locked){return true;}for(G=0;G<this.eE.length;G++){if(this.eE[G].tile===hL){di=this.eE[G];di.locked=true;hL.poolItem=di;return true;}}return false;};this.aej=function(hL){var fm,G;fm=hL.poolItem;if(fm!==undefined&&fm.locked){this.uiDirector.agM(fm);fm.locked=false;hL.poolItem=undefined;for(G=0;G<this.eE.length;G++){if(this.eE[G]===fm){this.eE.splice(G,1);this.eE.push(fm);return;}}}};return this;};IPCC.ajf.prototype.asa=function(){var G;for(G=0;G<this.eE.length;G++){if(!this.eE[G].locked){this.uiDirector.YF(this.eE[G]);}}};IPCC.aDf=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};(function(wd){var R={};R.ajH=false;R.apr=(function supportsSVG(){return! !('createElementNS'in document&&document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect);})();R.OT=(function(){var OT=false;var tG=navigator.userAgent,abw=((tG.indexOf('Mozilla/5.0')> -1&&tG.indexOf('Android ')> -1&&tG.indexOf('AppleWebKit')> -1)&& !(tG.indexOf('Chrome')> -1)),ahh=new RegExp(/AppleWebKit\/([\d.]+)/),aBc=ahh.exec(tG),agk=(aBc===null?null:parseFloat(ahh.exec(tG)[1]));OT=abw&&agk!==null&&agk<537;return OT;})();R.aBo=(function(){var akq=false;var tG=navigator.userAgent,abw=/Android/i.test(tG),aCn=/iPhone|iPad|iPod/i.test(tG),aBY=/IEMobile/i.test(tG);akq=(abw||aCn||aBY);return akq;})();R.RI=(function(){var RI=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){RI=true;}return RI;})();R.MT=(function(){var apc=navigator.userAgent;if(document.documentMode===10||R.OT){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(apc)&& !R.aBo){return 'svga';}else if(/Google Inc/.test(navigator.vendor||'')&&/Windows.*?Chrome/i.test(apc)){return 'svga';}else{return 'svgb';}})();R.EC=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();R.Fb=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();R.JO=R.Fb||(function(){return('ontouchstart'in document.documentElement);})();R.aCt=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();R.aju=function(){return R.ayr.btoa((Math.random().toString(36).slice(-4))+'_'+R.AS(new Date())+'_'+(Math.random().toString(36).slice(-6)));};R.inArray=function(eg,di){for(var i=0,l=eg.length;i<l;i++){if(eg[i]===di){return true;}}return false;};R.forEach=function(ah,cC,cQ){var qI=[].forEach,aDD=Object.prototype.hasOwnProperty;if(qI&&ah.forEach===qI){cC&&ah.forEach(cC,cQ);}else if(ah.length=== +ah.length){for(var i=0,length=ah.length;i<length;i++){cC&&cC.call(cQ,ah[i],i,ah);}}else{for(var cV in ah){if(aDD.call(ah,cV)){cC&&cC.call(cQ,ah[cV],cV,ah);}}}};R.map=function(eg,cC,cQ){var qI=[].map,vL=[];if(qI&&eg.map===qI){vL=eg.map(cC,cQ);}else{R.forEach(eg,function(el,i){vL.push(cC.call(cQ,el,i,eg));});}return vL;};R.filter=function(eg,cC,cQ){var qI=[].filter,vL=[],alY=false;if(qI&&eg.filter===qI){vL=eg.filter(cC,cQ);}else{R.forEach(eg,function(bn,i){alY=cC.call(cQ,bn,i,eg);if(alY){vL.push(bn);}});}return vL;};R.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};R.remove=function(eg,cC,cQ){var Vs=[];var apo=R.filter(eg,cC,cQ);R.forEach(apo,function(di){var bC=R.indexOf(eg,di);if(bC=== -1){return;}Vs=Vs.concat(eg.splice(bC,1));});return Vs;};R.indexOf=function(eg,agB,aoM){if(Array.prototype.indexOf){return eg.indexOf(agB,aoM);}var k;if(eg==null){throw new TypeError('"eg" is null or not defined');}var O=Object(eg);var len=O.length>>>0;if(len===0){return-1;}var n= +aoM||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===agB){return k;}k++;}return-1;};R.reduce=function(eg,cC,fA,cQ){var qI=[].reduce;var Jx=(arguments.length===2)?undefined:fA;if(qI&&typeof qI==='function'&&eg.reduce===qI&&cQ===undefined){if(fA!==undefined){return eg.reduce(cC,fA,cQ);}return eg.reduce(cC);}IPCC.R.forEach(eg,function(dA,fk){if(Jx===undefined){Jx=dA;return;}Jx=cC.call(cQ,Jx,dA,fk,eg);});return Jx;};R.reduceLeft=function(eg,cC,fA,cQ){var vL=eg.reverse();return R.reduce.call(undefined,vL,cC,fA,cQ);};R.contains=function(eg,dA){var dC=eg.length;while(dC--){if(eg[dC]===dA){return true;}}return false;};R.axj=function(Xm,agG){if(Xm.length!==agG.length){return false;}for(var i=0,l=Xm.length;i<l;i++){if(Xm[i]!==agG[i]){return false;}}return true;};R.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};R.trim=function(db){if(String.prototype.trim){return db.trim();}return db.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};R.act=function act(NL,aqd,ajo){var uw;return function(){var cQ=this,dN=arguments;var aEq=function(){uw=undefined;if(!ajo){NL.apply(cQ,dN);}};var ayE=ajo&& !uw;clearTimeout(uw);uw=setTimeout(aEq,aqd);if(ayE){NL.apply(cQ,dN);}};};R.acs=function acs(aA,vg){if(aA.classList){aA.classList.add(vg);}else{aA.className+=' '+vg;}};R.adv=function adv(aA,vg){if(aA.classList){aA.classList.remove(vg);}else{aA.className=aA.className.replace(vg,'');}};R.UM=function(iO){return{width:iO.width||(iO.right-iO.left),height:iO.height||(iO.bottom-iO.top),top:iO.top,bottom:iO.bottom,left:iO.left,right:iO.right};};R.sX=function(ao){if(ao instanceof R.sX){return ao;}this.iL=R.reduce(ao.headers||{},function(Qv,dA,aq){aq=aq.toLowerCase();if(Qv[aq]){Qv[aq]+=', '+dA;}else{Qv[aq]=dA;}return Qv;},{});this.status=ao.status;this.statusText=ao.statusText;this.responseText=ao.responseText;if(typeof ao.responseBody!=='undefined'){this.responseBody=ao.responseBody;}return this;};R.sX.prototype.getResponseHeader=function(XI){var ao=this.iL[XI.toLowerCase()];return ao!==undefined?ao:null;};R.mB=(function(){var wd={};wd.iL={};wd.NQ=undefined;function awv(aij){var iL={};if(!aij){return iL;}var ajA=aij.split('\u000d\u000a');for(var G=0,bd=ajA.length;G<bd;G++){var Wu=ajA[G];var bC=Wu.indexOf('\u003a\u0020');if(bC>0){var aq=Wu.substring(0,bC);var dA=Wu.substring(bC+2);if(iL[aq]){iL[aq]+=', '+dA;}else{iL[aq]=dA;}}}return iL;};wd.es=function(azw){var BJ={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,},nC=PCCViewer.Deferred(),dQ=nC.getPromise(),Lg;var aa=R.extend({},BJ,azw);aa.headers=R.extend({},wd.iL,aa.headers);if(typeof wd.NQ==='function'){Lg=wd.NQ(aa);if(typeof Lg==='object'&&typeof Lg.then==='function'){Lg.then(function(ap){nC.resolve(ap);},function(ap){nC.reject(ap);});return dQ;}}var lh,uw;try{lh=new XMLHttpRequest();}catch(e){nC.reject(new PCCViewer.Error("Error",e.message));}if(lh){lh.open(aa.method,aa.url,true);if(aa.timeout){uw=window.setTimeout(function(){lh.abort();nC.reject({error:new PCCViewer.Error("Error","Request timed out")});},aa.timeout);}lh.onreadystatechange=function(){var ao,OI={};if(lh.readyState===4){if(uw){window.clearTimeout(uw);}OI={status:lh.status,headers:awv(lh.getAllResponseHeaders())};try{OI.responseText=lh.responseText;}catch(e){}if(typeof lh.responseBody!=='undefined'){OI.responseBody=lh.responseBody;}ao=new R.sX(OI);if(lh.status>=200&&lh.status<300||status===304){nC.resolve(ao);}else{nC.reject({response:ao,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+lh.status+" "+lh.statusText)});}}};for(var aq in aa.headers){if(aa.headers.hasOwnProperty(aq)){lh.setRequestHeader(aq,aa.headers[aq]);}}if(typeof aa.mimeType==='string'&&typeof lh.overrideMimeType==='function'){lh.overrideMimeType(aa.mimeType);}lh.send(aa.body);}return dQ;};return wd;})();R.Pg=function(ho,mp,ht){var kF=[],vb=null,vn=null,bB;var aCL=function(vn,vb){if(!vb){return false;}else{return Math.abs(vn.y-vb.y)<1&&Math.abs(vn.height-vb.height)<1&&vn.x+vn.width>=vb.x+vb.width;}};for(bB=mp;bB<ht+1;bB++){vn=ho.jY(bB).aD;if(aCL(vn,vb)){vb.union(vn);}else{vb=vn.clone();kF.push(vb);}}return kF;};R.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};R.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};R.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(aX){var asG=R.map(aX,function(bn){return[bn.x,bn.y];});return d3_svg_lineBasis(asG);};})();R.aIA=function(db){if(db.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aEh=R.filter(db.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var ast=R.map(aEh,function(el){var ary=el.replace(/[a-zA-Z]/g,'|').split('|');return R.map(ary,function(ec){var adD=ec.split(',');return{x: +adD[0],y: +adD[1]};});});return ast;};R.aiS=function(db,la,kf,kp,aa){aa.dB="12px";var iW=R.wW(db,la,aa),nV=12*kf/(iW.width||1),pa=12*kp/(iW.height||1),apx=Math.min(nV,pa);aa.dB=apx;return R.ajC(db,la,kf,kp,aa);};R.ajC=function(db,la,kf,kp,aa,Nq){Nq=Nq||1;var jq={},iW=R.wW(db,la,aa),dB=aa.dB;jq.width=iW.width;jq.height=iW.height;jq.fontSize=dB;if(Nq>3){return jq;}if((iW.width<kf+1)&&(iW.height<kp+1)){return jq;}else{var nV=dB*kf/(iW.width||1),pa=dB*kp/(iW.height||1),CJ=Math.min(nV,pa);if(CJ>=aa.dB){return jq;}else{aa.dB=CJ;return R.ajC(db,la,kf,kp,aa,Nq+1);}}};R.wW=function(db,la,aa){aa=aa||{};if(document.createElementNS){return R.atB(db,la,aa);}else{return R.ahW(db,la,aa);}};R.atB=function(db,la,aa){var svg,alS=false;if(aa.gf){svg=aa.gf;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');alS=true;document.body.appendChild(svg);}var dB=aa.dB||"12px";if(typeof dB==="number"){dB=dB+"px";}var eb=document.createElementNS("http://www.w3.org/2000/svg","text");R.forEach({x:0,y:0,'font-size':dB,'stroke':"none",'fill':"#000000",'font-family':la},function(value,name){eb.setAttribute(name,value);});if(aa.wD){eb.setAttribute('style','white-space:'+aa.wD);}var un=document.createTextNode(db);eb.appendChild(un);svg.appendChild(eb);var xm=eb.getBBox(),IJ=xm.width,Jm=xm.height;svg.removeChild(eb);if(alS){document.body.removeChild(svg);}if(IJ===0&&Jm===0&&db!=="M"){return R.wW("M",la,aa);}else{return{width:IJ,height:Jm};}};R.ahW=function(db,la,aa){var un=document.createTextNode(db),Ff=document.createElement('div');var dB=aa.dB||"12px";if(typeof dB==="number"){dB=dB+"px";}R.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:dB,fontFamily:la},function(value,name){Ff.style[name]=value;});if(aa.wD){Ff.style.whiteSpace=aa.wD;}Ff.appendChild(un);document.body.appendChild(Ff);var xm=Ff.getBoundingClientRect(),IJ=xm.width||xm.right-xm.left,Jm=xm.height||xm.bottom-xm.top;document.body.removeChild(Ff);if(IJ===0&&Jm===0&&db!=="M"){return R.ahW("M",la,dB);}else{return{width:IJ,height:Jm};}};R.ZU=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};R.xz=(R.apr)?{SVG:function SVG(XC){var gf=document.createElementNS("http://www.w3.org/2000/svg","svg");gf.setAttribute('viewBox',XC);return gf;},Path:function Path(sd,ql){var dm=document.createElementNS("http://www.w3.org/2000/svg","path");dm.style.fill='none';dm.style.stroke=ql.color||'#000000';dm.style.strokeWidth=ql.thickness||4;if(sd){dm.setAttribute('d',sd.toString().trim());}return dm;},Rect:function Rect(av,dc,bJ){var aK=document.createElementNS("http://www.w3.org/2000/svg","rect");aK.setAttribute('width',av||0);aK.setAttribute('height',dc||0);if(bJ){aK.setAttribute('style',bJ);}return aK;}}:{SVG:function(XC,KX){var aA=document.createElement("div");aA.style.left="0px";aA.style.top="0px";aA.style.position="relative";aA.baseInit=false;aA.baseX=0;aA.baseY=0;var aAh=aA.setAttribute;aA.setAttribute=function(aq,L){if(aq==="width"){this.style.width=L*(+KX||1);}else if(aq==="height"){this.style.height=L*(+KX||1);}else if(aq==="x"){this.style.left=L;}else if(aq==="y"){this.style.top=L;}else if(aq==="viewBox"){var ti=L.split(" ");this.style.height= +ti.pop()*(+KX||1)+'px';this.style.width= +ti.pop()*(+KX||1)+'px';}else{aAh(aq,L);}};aA.setAttribute('viewBox',XC);aA.setAttribute('data-pcc-mark','signature');return aA;},Path:function(sd,ql){var aA=document.createElement("v:shape");aA.style.width=ql.width*(+ql.multiplier||1);aA.style.height=ql.height*(+ql.multiplier||1);aA.coordsize=[ql.width,ql.height].join(', ');aA.style.position="absolute";aA.setAttribute=function(aq,L){if(aq==="d"){var Fy=0;var FN=0;L=L.replace(/(\d*)((\.*\d*)(e ?-?\d*))/g,"$1");var Qf=L.match(/([MLHVCSQTAZ].*?)(?=[MLHVCSQTAZ]|$)/gi);var alf="",gK=[];for(var i=0;i<Qf.length;i++){var ec=Qf[i].substring(0,1);var lD=Qf[i].substring(1,Qf[i].length);lD=lD.split(/[, ]/);for(var j=0;j<lD.length;j++){lD[j]=Math.round(lD[j]);}lD=lD.join();switch(ec){case "M":ec="m";gK=lD.split(/[, ]/);Fy=parseInt(gK[0],10);FN=parseInt(gK[1],10);break;case "m":ec="t";gK=lD.split(/[, ]/);gK[0]=parseInt(gK[0],10)+parseInt(Fy,10);gK[1]=parseInt(gK[1],10)+parseInt(FN,10);Fy=parseInt(gK[0],10);FN=parseInt(gK[1],10);break;case "A":ec="ae";var dN=lD.split(/[, ]+/);dN[0]=parseInt(dN[0],10);dN[1]=parseInt(dN[1],10);dN[2]=parseInt(dN[2],10);dN[3]=parseInt(dN[3],10);dN[4]=parseInt(dN[4],10);dN[5]=parseInt(dN[5],10);lD=dN[4]+" "+dN[5]+" "+dN[2]*2+" "+dN[3]*2+" 0 360";break;case "L":ec="l";gK=lD.split(/[, ]+/);Fy=parseInt(gK[0],10);FN=parseInt(gK[1],10);break;case "l":ec="r";gK=lD.split(/[, ]+/);gK[0]=parseInt(gK[0],10)+parseInt(Fy,10);gK[1]=parseInt(gK[1],10)+parseInt(FN,10);Fy=parseInt(gK[0],10);FN=parseInt(gK[1],10);break;case "c":ec="v";break;case "z":ec="xe";lD="";break;default:ec=ec.toLowerCase();}alf+=ec+lD;}this.path=alf;return;}else if(aq==="stroke"){this.stroked=(L==="none"?0:1);this.strokecolor=L;return;}else if(aq==="stroke-width"){this.strokeweight=parseFloat(L)/1.2+"pt";return;}else if(aq==="fill"){this.filled=(L==="none"?0:1);this.fillcolor=L;return;}};if(sd){aA.setAttribute('d',sd);}aA.setAttribute('stroke-width',ql.thickness||4);aA.setAttribute('stroke',ql.color||'#000000');aA.filled=0;aA.fillcolor='none';return aA;},Rect:function(av,dc){var aA=document.createElement("v:roundrect");aA.rxy=0;aA.svg2vmlStyle={fill:{value:"#000000",valueSource:"default"},stroke:{value:"none",valueSource:"default"},"stroke-width":{value:"1",valueSource:"default"}};aA.setAttribute=function(aq,L,axI){if(this.svg2vmlStyle[aq]){this.svg2vmlStyle[aq]["value"]=L;this.svg2vmlStyle[aq]["valueSource"]=(axI||"user");}if(aq==="x"){this.style.left=parseInt(L,10)+'px';return;}else if(aq==="y"){this.style.top=parseInt(L,10)+'px';return;}else if(aq==="stroke"){this.stroked=(L==="none"?0:1);this.strokecolor=L;return;}else if(aq==="stroke-width"){this.strokeweight=parseFloat(L)/1.2+"pt";return;}else if(aq==="fill"){this.filled=(L==="none"?0:1);this.fillcolor=L;return;}else if(aq==="width"||aq==="height"||aq==="rx"||aq==="ry"){if(aq==="width"){this.style.width=parseInt(L,10)+'px';}else if(aq==="height"){this.style.height=parseInt(L,10)+'px';}else if(aq==="rx"||aq==="ry"){if(parseInt(L,10)){this.rxy=parseInt(L,10);}}if(this.rxy!==0){var Iy=parseInt(this.style.width,10);var Su=parseInt(this.style.height,10);if(!Iy){Iy=0;}if(!Su){Su=0;}if(Su<Iy){Iy=Su;}var Oq=this.rxy/Iy;this.arcsize=Oq;}else{this.arcsize=0;}return;}};if(av){aA.setAttribute('width',av);}if(dc){aA.setAttribute('height',dc);}for(var aq in aA.svg2vmlStyle){if((aA.svg2vmlStyle[aq]["value"])&&(aA.svg2vmlStyle[aq]["valueSource"]==="default")){aA.setAttribute(aq,aA.svg2vmlStyle[aq]["value"],"default");}}return aA;}};R.JA=function JA(iZ){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,3})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(iZ);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(iZ+' cannot be parsed as an ISO 8601 date.');}};R.AS=function aFK(gD){if(gD.toISOString&&typeof gD.toISOString==='function'){return gD.toISOString();}else if(gD instanceof Date){var pad=function pad(number){if(number<10){return '0'+number;}return number;};return gD.getUTCFullYear()+'-'+pad(gD.getUTCMonth()+1)+'-'+pad(gD.getUTCDate())+'T'+pad(gD.getUTCHours())+':'+pad(gD.getUTCMinutes())+':'+pad(gD.getUTCSeconds())+'.'+(gD.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+'Z';}else{return new Error(gD+' is not a Date object.');}};R.vN=function vN(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};R.Od=function Od(o){if(R.vN(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};R.abD=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{funcs[idx++](next);}};funcs[idx++](next);};R.agy=function(dA){dA=String(dA).replace(/[^0-9a-f]/gi,"");if(dA.length<6){dA=dA[0]+dA[0]+dA[1]+dA[1]+dA[2]+dA[2];}var Yd=function(db){return parseInt(db,16);};var r=Yd(dA.substring(0,2));var g=Yd(dA.substring(2,4));var b=Yd(dA.substring(4,6));return{r:r,g:g,b:b};};R.aCy=function(dA){var PP="";var NK=function(n){while(n.length<2){n='0'+n;}return n;};var Yg=function(n){return NK(n.toString(16));};PP+=Yg(Math.floor(dA.r));PP+=Yg(Math.floor(dA.g));PP+=Yg(Math.floor(dA.b));return '#'+PP;};R.aoe=function(asL,axr,asf){var Gw=asf,ZZ=R.agy(asL),qk=R.agy(axr);qk.r=(1-Gw)*qk.r+(ZZ.r*Gw);qk.g=(1-Gw)*qk.g+(ZZ.g*Gw);qk.b=(1-Gw)*qk.b+(ZZ.b*Gw);qk.r=Math.floor(qk.r);qk.g=Math.floor(qk.g);qk.b=Math.floor(qk.b);return R.aCy(qk);};R.akK=function(asQ,vM){var atj=R.reduceLeft(asQ,function(fA,fr){if(fr.opacity===undefined){fr.opacity=127;}var aAf=fr.opacity/255;return R.aoe(fr.color,fA,aAf);},vM);return atj;};R.amW=function(hv){if(hv.length===0){return hv;}var fi=hv.slice(0);fi.sort(function(a,b){return a.startIndex-b.startIndex;});var Vg=null;var jL=[];var ZK=0,Nk=[];var G=fi[0].startIndex;while(fi.length>0){ZK=0;Nk=null;Nk=[];var bB=0;while(bB<fi.length&&fi[bB].startIndex<=G){if(G<=fi[bB].startIndex+fi[bB].length-1){ZK++;Nk.push(fi[bB]);bB++;}else{fi.splice(bB,1);}}if(ZK>0){var FE=R.akK(Nk,'#ffffff');if(FE===Vg){jL[jL.length-1].endIndex=G;}else{jL.push({startIndex:G,endIndex:G,color:FE});}Vg=FE;G++;}else{if(fi.length>0){G=fi[0].startIndex;}Vg=null;}}return jL;};R.Ia=function(ZR){return ZR.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};R.NK=function(iu,dC){var db=""+iu;while(db.length<dC){db='0'+db;}return db;};R.aGs=function(fE){var lm=fE.getTimezoneOffset();lm=((lm<0?'+':'-')+R.NK(parseInt(Math.abs(lm/60),10),2)+R.NK(Math.abs(lm%60),2));return lm;};R.alp=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];R.aad=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];R.amH=function(ZQ){var aAC=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,ap=aAC.exec(ZQ),akk,Ek,amj,agv,ake,AO,LT;if(!ap){return null;}else{akk=ap[1].toLowerCase();amj=ap[2];agv=ap[3];ake=ap[4];AO=ap[5];LT=ap[6];for(Ek=0;Ek<12;Ek++){if(R.aad[Ek].toLowerCase()===akk){break;}}if(Ek>=12){return null;}return new Date(Date.UTC(LT,Ek,amj,agv,ake,AO));}};R.ajy=function(fE){return(R.alp[fE.getUTCDay()]+" "+R.aad[fE.getUTCMonth()]+" "+fE.getUTCDate()+" "+fE.getUTCHours()+':'+fE.getUTCMinutes()+':'+fE.getUTCSeconds()+" "+"GMT+0000 "+fE.getUTCFullYear());};R.atS=function(fE){return(R.alp[fE.getUTCDay()]+" "+R.aad[fE.getUTCMonth()]+" "+fE.getUTCDate()+" "+fE.getUTCFullYear());};R.att=function(fE){return(fE.getUTCHours()+':'+fE.getUTCMinutes()+':'+fE.getUTCSeconds()+" "+"GMT+0000");};R.xs=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};R.Mj=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};R.ayr=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();R.qS=(function(){var qS=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var ajt={};qS.forEach(function(aiW){ajt[aiW]='pointer'+aiW;});return ajt;}if(window.navigator.msPointerEnabled){var akU={};for(var G=0;G<qS.length;G++){var Ur=qS[G];var aDc='MSPointer'+Ur.charAt(0).toUpperCase()+Ur.slice(1);akU[Ur]=aDc;}return akU;}return{};})();R.JJ=(function(){return{QL: ! !navigator.userAgent.match('Edge'),aFT:document.documentMode!==undefined,aFY:document.documentMode===8,aFo:document.documentMode===9,aGx:document.documentMode===10,aEQ:document.documentMode===11,aAX:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i))};})();wd.R=R;})(IPCC||{});IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.MarkType=function(){};IPCC.Web.UI.MarkType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkType.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620};IPCC.Web.UI.MarkType.registerEnum('IPCC.Web.UI.MarkType',false);IPCC.Web.UI.HighLightType=function(){};IPCC.Web.UI.HighLightType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HighLightType.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};IPCC.Web.UI.HighLightType.registerEnum('IPCC.Web.UI.HighLight',false);IPCC.Web.UI.MarkInteractionMode=function(){};IPCC.Web.UI.MarkInteractionMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkInteractionMode.prototype={Full:0,SelectionDisabled:1};IPCC.Web.UI.MarkInteractionMode.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);IPCC.Web.UI.LineStyle=function(){};IPCC.Web.UI.LineStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineStyle.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};IPCC.Web.UI.LineStyle.registerEnum('IPCC.Web.UI.LineStyle',false);IPCC.Web.UI.LineHeadType=function(){};IPCC.Web.UI.LineHeadType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineHeadType.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};IPCC.Web.UI.LineHeadType.registerEnum('IPCC.Web.UI.LineHeadType',false);IPCC.Web.UI.CalloutType=function(){};IPCC.Web.UI.CalloutType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.CalloutType.prototype={Line:0,Triangle:1};IPCC.Web.UI.CalloutType.registerEnum('IPCC.Web.UI.CalloutType',false);IPCC.Web.UI.FontStyle=function(){};IPCC.Web.UI.FontStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FontStyle.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};IPCC.Web.UI.FontStyle.registerEnum('IPCC.Web.UI.FontStyle',true);IPCC.Web.UI.HorizontalAlignment=function(){};IPCC.Web.UI.HorizontalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HorizontalAlignment.prototype={Left:0,Center:16,Right:32};IPCC.Web.UI.HorizontalAlignment.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);IPCC.Web.UI.VerticalAlignment=function(){};IPCC.Web.UI.VerticalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.VerticalAlignment.prototype={Top:0,Center:1,Bottom:2};IPCC.Web.UI.VerticalAlignment.registerEnum('IPCC.Web.UI.VerticalAlignment',false);IPCC.Web.UI.Orientation=function(){};IPCC.Web.UI.Orientation.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Orientation.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};IPCC.Web.UI.Orientation.registerEnum('IPCC.Web.UI.Orientation',false);IPCC.Web.UI.MarkEventArgs=function(){return this;};IPCC.Web.UI.MarkEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkEventArgs.prototype={};IPCC.Web.UI.MarkEventArgs.registerClass('IPCC.Web.UI.MarkEventArgs');IPCC.Web.UI.MarkCollection=function(){var ac=[];var al=new IPCC.Web.UI.gj();this.Pz=function(F){if(this.HH(F)=== -1){ac.push(F);var H=new IPCC.Web.UI.MarkEventArgs();H.mark=F;this.aH('markAdded',H);}};this.axR=function(Bv){var H=new IPCC.Web.UI.MarkEventArgs();H.length=Bv.get_length();var C=this;function nJ(F){if(C.HH(F)=== -1){ac.push(F);}};Bv.forEach(nJ,{});if(H.length>0){this.aH('markAdded',H);}};this.mq=function(jv,cQ){var GT=[].concat(ac);var G;for(G=0;G<GT.length;G++){jv.call(cQ,GT[G],G,this);}};this.dY=function(){return ac.length;};this.wj=function(F){var G=this.HH(F);if(G> -1){ac.splice(G,1);var H=new IPCC.Web.UI.MarkEventArgs();H.mark=F;this.aH('markRemoved',H);}};this.HH=function(F){var G;for(G=0;G<ac.length;G++){if(ac[G]===F){return G;}}return-1;};this.yH=function(T){al.addHandler('markAdded',T);};this.xP=function(T){al.removeHandler('markAdded',T);};this.AF=function(T){al.addHandler('markRemoved',T);};this.xS=function(T){al.removeHandler('markRemoved',T);};this.aH=function(bE,H){var T=al.getHandler(bE);if(T!==null){T(this,H);}};return this;};IPCC.Web.UI.MarkCollection.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.Pz(mark);},addMarks:function(markCollection){this.axR(markCollection);},forEach:function(method,context){this.mq(method,context);},get_length:function(){return this.dY();},contains:function(mark){return this.HH(mark)> -1;},removeMark:function(mark){this.wj(mark);},removeAllMarks:function(){this.mq(function(F,bC,Bv){Bv.wj(F);});},add_markAdded:function(handler){this.yH(handler);},remove_markAdded:function(handler){this.xP(handler);},add_markRemoved:function(handler){this.AF(handler);},remove_markRemoved:function(handler){this.xS(handler);}};IPCC.Web.UI.MarkCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkCollection.registerClass('IPCC.Web.UI.MarkCollection');IPCC.Web.UI.aDw=1;IPCC.Web.UI.Mark=function(type){var bP=type;type=undefined;var tz=new Date();var uc=new Date();var bG=null;var K;var aX;var dw;var df=new IPCC.Web.UI.Data();var al=new IPCC.Web.UI.gj();var C=this;var lu;this.fN=function(lp,dK){if((lu&lp)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(dK+' is not a valid property for this type of Mark.');}};if(bP===IPCC.Web.UI.MarkType.SignatureText){this.he='#000000';this.gY=IPCC.Web.UI.LineStyle.Solid;this.ef=0;}else{this.he='#000000';this.gY=IPCC.Web.UI.LineStyle.Solid;this.ef=1;}this.cs=255;this.oj=IPCC.Web.UI.MarkInteractionMode.Full;var ir=false;switch(bP){case IPCC.Web.UI.MarkType.Line:ir=true;aX=new IPCC.Web.UI.PointCollection();aX.addPoint({x:0,y:0});aX.addPoint({x:0,y:0});lu=1;this.he='#18385F';this.ef=6;break;case IPCC.Web.UI.MarkType.Polyline:ir=true;this.nl=false;aX=new IPCC.Web.UI.PointCollection();lu=2;this.ef=2;break;case IPCC.Web.UI.MarkType.Rectangle:K=new IPCC.Web.UI.Rectangle(0,0,0,0);lu=4;this.dP='#FB0404';this.ef=4;break;case IPCC.Web.UI.MarkType.Ellipse:K=new IPCC.Web.UI.Rectangle(0,0,0,0);lu=8;this.dP='#FB0404';this.ef=4;break;case IPCC.Web.UI.MarkType.Polygon:aX=new IPCC.Web.UI.PointCollection();lu=16;break;case IPCC.Web.UI.MarkType.Text:this.Gl='#000000';this.CR=false;this.tf=IPCC.Web.UI.LineStyle.Solid;this.Fs=1;this.ow=new IPCC.Web.UI.Point(0,0);this.LQ=IPCC.Web.UI.CalloutType.Triangle;this.Bx=false;this.gp='Arial';this.dB=12;this.eR=IPCC.Web.UI.FontStyle.Regular;this.gY=IPCC.Web.UI.LineStyle.Solid;K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ay='';this.rk=IPCC.Web.UI.HorizontalAlignment.Left;this.zy=IPCC.Web.UI.VerticalAlignment.Top;this.oQ='#000000';this.vh=255;this.AJ=IPCC.Web.UI.Orientation.TopLeft;this.fi=[];this.ef=4;this.cs=127;this.dP='#FFFFFF';lu=32;break;case IPCC.Web.UI.MarkType.Stamp:K=new IPCC.Web.UI.Rectangle(0,0,0,0);lu=128;break;case IPCC.Web.UI.MarkType.Highlight:K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bZ='';this.lz='n';this.aM=0;this.ck='';this.cY=0;this.cs=127;lu=256;break;case IPCC.Web.UI.MarkType.HighlightText:K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bZ='';this.lz='n';this.aM=0;this.ck='';this.cY=0;this.cs=127;this.dP='#FFFF00';lu=512;this.fi=[];this.bk=[];break;case IPCC.Web.UI.MarkType.Freehand:K=new IPCC.Web.UI.Rectangle(0,0,0,0);lu=64;this.ef=4;this.he='#000000';this.gM=false;this.Tk=1;this.Tq=1;this.rZ='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:K=new IPCC.Web.UI.Rectangle(0,0,0,0);lu=1024;this.ef=4;this.he='#000000';this.gM=false;this.Tk=1;this.Tq=1;this.rZ='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:K=new IPCC.Web.UI.Rectangle(0,0,0,0);lu=2048;this.ay='John Doe';this.oQ='#000000';this.dP='#000000';this.gp="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:K=new IPCC.Web.UI.Rectangle(0,0,0,0);lu=4096;this.gp='Arial';this.dB=8;this.eR=IPCC.Web.UI.FontStyle.Regular;this.ay='';this.rk=IPCC.Web.UI.HorizontalAlignment.Center;this.zy=IPCC.Web.UI.VerticalAlignment.Center;this.dP='#000000';this.oQ='#FFFFFF';this.vh=255;this.AJ=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bk=[];this.bZ='';this.fz='';this.ay='';this.gp='Arial';this.dB=8;this.aM=0;this.cY=0;lu=8192;this.fi=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.rf='';this.ef=2;this.ck='';this.bZ='';this.lz='n';this.aM=0;this.cY=0;this.dP='#3B00FF';lu=1<<14;this.fi=[];this.bk=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:K=new IPCC.Web.UI.Rectangle(0,0,0,0);lu=16384;this.bK='';this.rQ='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.rf='';this.xO='';this.Cc='';this.FI=0;this.Fz=0;this.nD=255;lu=32768;break;case IPCC.Web.UI.MarkType.TextLine:lu=65536;K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ay='';this.oQ='#000000';this.gp="Courier New";this.ef=1;this.gM=true;this.FV=0;this.Mt=false;var iW=IPCC.R.wW("M",this.gp,{wD:'pre'});this.vx=iW.width;this.vp=iW.height;break;case IPCC.Web.UI.MarkType.Strikethrough:K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bZ='';this.he='#000000';this.ef=2;this.lz='n';this.aM=0;this.ck='';this.cY=0;lu=1<<17;this.fi=[];this.bk=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',bP);}if(bP!==IPCC.Web.UI.MarkType.SignaturePath&&bP!==IPCC.Web.UI.MarkType.Freehand&&bP!==IPCC.Web.UI.MarkType.SignatureText&&bP!==IPCC.Web.UI.MarkType.DocumentHyperlink&&bP!==IPCC.Web.UI.MarkType.HighlightText&&bP!==IPCC.Web.UI.MarkType.Strikethrough&&bP!==IPCC.Web.UI.MarkType.TextLine){if(ir){this.Fc=15;this.Gj=25;this.mc=IPCC.Web.UI.LineHeadType.None;this.va='#000000';this.GH=15;this.Ga=25;this.EA=IPCC.Web.UI.LineHeadType.None;}else{this.zB=true;this.gM=true;if(bP===IPCC.Web.UI.MarkType.Highlight){this.gM=false;this.cs=100;}}}this.aan=IPCC.Web.UI.aDw++;this.ge=true;this.bo={};this.cv=[];var RF=false;function avF(aj,H){C.aH('commentAdded',H);};function awM(aj,H){C.aH('commentRemoved',H);};function OG(aj,H){C.aH('commentChanged',H);};dw=new IPCC.Web.UI.Conversation(C);dw.add_commentAdded(avF);dw.add_commentChanged(OG);dw.add_commentRemoved(awM);this.aH=function(bE,H){var T=al.getHandler(bE);if(T!==null){T(this,H);}};function abJ(aj,H){var akW='points';if(bP===IPCC.Web.UI.MarkType.Line){akW=H.index===0?'startPoint':'endPoint';}C.bS(akW,H);};if(aX){aX.add_pointAdded(abJ);aX.add_pointChanged(abJ);aX.add_pointRemoved(abJ);}this.kI=function(){return bP;};this.anu=function(){return tz;};this.adl=function(L){tz=L;};this.amy=function(){return uc;};this.ST=function(L){uc=L;};this.et=function(){return bG;};this.kY=function(value){if(bG!==value){bG=value;this.bS('artPage');}};this.jg=function(){return RF;};this.mG=function(L){RF=L;};this.apk=function(){var pS=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(bP){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return aX.vj();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return K.clone();case IPCC.Web.UI.MarkType.Text:var gL=K.x+K.width,hM=K.y+K.height;var adt=K.x+this.ow.x,acd=K.y+this.ow.y;pS.x=Math.min(K.x,Math.min(gL,adt));pS.y=Math.min(K.y,Math.min(hM,acd));pS.width=Math.max(K.x,Math.max(gL,adt))-pS.x;pS.height=Math.max(K.y,Math.max(hM,acd))-pS.y;break;}return pS;};this.eo=function(){return K.clone();};this.vv=function(L){this.Gh(16384,'image','bK',L);};this.dj=function(){return this.bK;};this.pA=function(){return aX;};this.auj=function(){return dw;};this.yT=function(){return df;};this.Dv=function(L){var lE;if(!K.equals(L)){K=new IPCC.Web.UI.Rectangle(L.x,L.y,L.width,L.height);if(bP===IPCC.Web.UI.MarkType.Stamp||bP===IPCC.Web.UI.MarkType.SignatureText||bP===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){lE=0;if(K.width>=K.height){lE=(K.width/14)/2;}else{lE=K.width/15;}if(lE*15>=K.width){lE=(K.width/15)/2;}this.stampSize=Math.round(lE);}else{var textFontSize=(K.width/6);if(textFontSize>K.height){textFontSize=(K.height-(K.height/6));}var pg=this.get_text();if(!pg){pg=(bP===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}lE=pg.length*textFontSize;if(lE>K.width){textFontSize=((K.width/pg.length));}var FV=Math.round(textFontSize);this.stampSize=FV.toString();}}this.bS('rectangle');}};this.gU=function(){return this.aan;};this.Me=function(fv,ep){if(fv!==0||ep!==0){switch(bP){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:aX.alh(fv,ep);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(bP===IPCC.Web.UI.MarkType.RectangleRedaction&&this.bZ!==undefined){break;}K.x+=fv;K.y+=ep;this.bS('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.VC=function(Wm){if(this.fi&&Wm!==this.fi){while(this.fi.length>0){this.fi.pop();}if(Wm){this.fi=Wm.slice(0);}this.aH('markTextSelectionChanged',{});}};this.Ln=function(T){if(this.fi){al.addHandler('markTextSelectionChanged',T);}};this.LC=function(T){if(this.fi){al.removeHandler('markTextSelectionChanged',T);}};this.xw=function(T){al.addHandler('commentAdded',T);};this.Fl=function(T){al.removeHandler('commentAdded',T);};this.xv=function(T){al.addHandler('commentRemoved',T);};this.Fk=function(T){al.removeHandler('commentRemoved',T);};this.wV=function(T){al.addHandler('commentChanged',T);};this.wK=function(T){al.removeHandler('commentChanged',T);};this.ij=function(T){al.addHandler('propertyChanged',T);};this.mr=function(T){al.removeHandler('propertyChanged',T);};this.bS=function(dK){var T=al.getHandler('propertyChanged');if(T){T(this,new IPCC.pQ(dK));}};this.ij(function(F){F.ST(new Date());});return this;};IPCC.Web.UI.Mark.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.pA().getPoint(0)+' to '+this.pA().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.pA().dY()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.eo();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.eo();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.eo();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.pA().dY()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.ay+'", at '+this.eo();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.eo();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.eo();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.eo();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.eo();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.eo();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.eo();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.rZ+'", at '+this.eo();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.rZ+'", at '+this.eo();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.eo();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.eo();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.eo();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.eo();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.eo();}return 'Mark';},initializeDates:function(tz,uc){IPCC.aV.gD(tz,"dateCreated");IPCC.aV.gD(uc,"dateModified");this.adl(tz);this.ST(uc);},get_dateCreated:function(){return this.anu();},get_dateModified:function(){return this.amy();},oT:function(lp,dK,jO,L){this.fN(lp,dK);if(this[jO]!==L){this[jO]=L;this.bS(dK);}},Mc:function(lp,dK,jO,L){IPCC.aV.YD(L,dK);this.oT(lp,dK,jO,L);},FA:function(lp,dK,jO,L){IPCC.aV.iu(L,dK);this.oT(lp,dK,jO,L);},BO:function(lp,dK,jO,L,xY,zP){IPCC.aV.mR(L,dK,xY,zP);this.oT(lp,dK,jO,L);},UV:function(lp,dK,jO,L,xY,zP){IPCC.aV.ov(L,dK,xY,zP);this.oT(lp,dK,jO,L);},Gh:function(lp,dK,jO,L){IPCC.aV.bP(L,dK,'string');this.oT(lp,dK,jO,L);},xL:function(lp,dK,jO,L,iA){IPCC.aV.iA(L,dK,iA);this.oT(lp,dK,jO,L);},aqu:function(lp,dK,jO,L,iA){IPCC.aV.iA(L,dK,iA,true);this.oT(lp,dK,jO,L);},arn:function(lp,dK,jO,L){IPCC.aV.aP(L,dK);this.oT(lp,dK,jO,L);},get_artPage:function(){return this.et();},get_boundingRectangle:function(){return this.apk();},get_selected:function(){var bG=this.et();if(!bG){return false;}var fB=bG.zY();return fB.contains(this);},set_selected:function(value){var bG=this.et();if(bG){if(this.oj!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var fB=bG.zY();if(value!==fB.contains(this)){if(value){fB.Pz(this);}else{fB.wj(this);}this.bS('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.fN(32,'calloutLineColor');return this.Gl;},set_calloutLineColor:function(value){this.Mc(32,'calloutLineColor','Gl',value);},get_calloutLineIsDistinct:function(){this.fN(32,'calloutLineIsDistinct');return this.CR;},set_calloutLineIsDistinct:function(value){this.oT(32,'calloutLineIsDistinct','CR',value);},get_calloutLineStyle:function(){this.fN(32,'calloutLineStyle');return this.tf;},set_calloutLineStyle:function(value){this.xL(32,'calloutLineStyle','tf',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.fN(32,'calloutLineWidth');return this.Fs;},set_calloutLineWidth:function(value){this.BO(32,'calloutLineWidth','Fs',value,0,50);},get_calloutPoint:function(){this.fN(32,'calloutPoint');return this.ow;},set_calloutPoint:function(value){this.arn(32,'calloutPoint','ow',value);},get_calloutType:function(){this.fN(32,'calloutType');return this.LQ;},set_calloutType:function(value){this.xL(32,'calloutType','LQ',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.fN(32,'calloutVisible');return this.Bx;},set_calloutVisible:function(value){if(!this.Bx&&value&&this.kI()===IPCC.Web.UI.MarkType.Text){if(this.ow.x===0&&this.ow.y===0){var K=this.eo();this.set_calloutPoint({x:K.width,y:K.height*1.5});}}this.oT(32,'calloutVisible','Bx',value);},get_endHeadAngle:function(){this.fN(3,'endHeadAngle');return this.Fc;},set_endHeadAngle:function(value){this.BO(3,'endHeadAngle','Fc',value,0,180);},get_endHeadLength:function(){this.fN(3,'endHeadLength');return this.Gj;},set_endHeadLength:function(value){this.BO(3,'endHeadLength','Gj',value,0,100);},get_endHeadType:function(){this.fN(3,'endHeadType');return this.mc;},set_endHeadType:function(value){this.xL(3,'endHeadType','mc',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.fN(1<<14|1<<15,'href');return this.rf;},set_href:function(value){this.Gh(1<<14|1<<15,'href','rf',value);},get_borderType:function(){this.fN(32768,'borderType');return this.xO;},set_borderType:function(value){this.Gh(32768,'borderType','xO',value);},get_borderHorizontalRadius:function(){this.fN(32768,'borderHorizontalRadius');return this.FI;},set_borderHorizontalRadius:function(value){this.FA(32768,'borderHorizontalRadius','FI',value);},get_borderVerticalRadius:function(){this.fN(1<<15,'borderVerticalRadius');return this.Fz;},set_borderVerticalRadius:function(value){this.FA(32768,'borderVerticalRadius','Fz',value);},get_borderOpacity:function(){this.fN(32768,'nD');return this.nD;},set_borderOpacity:function(value){this.UV(32768,'nD','nD',value,0,255);},get_borderPattern:function(){this.fN(32768,'Cc');return this.Cc;},set_borderPattern:function(value){this.oT(32768,'Cc','Cc',value,0,255);},get_fillColor:function(){this.fN(16380+(1<<14),'fillColor');return this.dP;},set_fillColor:function(value){this.Mc(16380+(1<<14),'fillColor','dP',value);},get_fillVisible:function(){this.fN(16380,'fillVisible');return this.zB;},set_fillVisible:function(value){this.oT(16380,'fillVisible','zB',value);},get_fontName:function(){this.fN(6176+8192+65536,'fontName');return this.gp;},set_fontName:function(value){this.Gh(6176+8192+65536,'fontName','gp',value);if(this.kI()===IPCC.Web.UI.MarkType.SignatureText||this.kI()===IPCC.Web.UI.MarkType.TextLine){var aa=(this.kI()===IPCC.Web.UI.MarkType.TextLine)?{wD:'pre'}:{};var iW=IPCC.R.wW(this.ay,this.gp,aa);this.vx=iW.width;this.vp=iW.height;}if(this.kI()===IPCC.Web.UI.MarkType.TextLine){this.Mt=false;}},get_fontSize:function(){this.fN(32+2048+4096+8192,'fontSize');return this.dB;},set_fontSize:function(value){this.BO(32+2048+4096+8192,'fontSize','dB',value,0.1,288);},get_fontStyle:function(){this.fN(6176,'fontStyle');return this.eR;},set_fontStyle:function(value){this.aqu(6176,'fontStyle','eR',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.fN(3,'headFillColor');return this.va;},set_headFillColor:function(value){this.Mc(3,'headFillColor','va',value);},get_interactionMode:function(){this.fN(~0,'interactionMode');return this.oj;},set_interactionMode:function(value){this.xL(~0,'interactionMode','oj',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_isClosed:function(){this.fN(2,'isClosed');return this.nl;},set_isClosed:function(value){this.oT(2,'isClosed','nl',value);},get_lineColor:function(){return this.he;},set_lineColor:function(value){this.Mc(13567+32768+(1<<17),'lineColor','he',value);},get_lineStyle:function(){return this.gY;},set_lineStyle:function(value){this.xL(63+32768,'lineStyle','gY',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.ef;},set_lineWidth:function(value){this.BO(13567+32768+(1<<17),'lineWidth','ef',value,0,50);},get_lineVisible:function(){this.fN(172+65536,'lineVisible');return this.gM;},set_lineVisible:function(value){this.oT(172+65536,'lineVisible','gM',value);},get_opacity:function(){return this.cs;},set_opacity:function(value){this.UV(895+2048+1024,'opacity','cs',value,0,255);},get_points:function(){this.fN(19,'points');return this.pA();},get_conversation:function(){return this.auj();},get_data:function(){return this.yT();},get_image:function(){this.fN(16384,'image');return this.dj();},set_image:function(value){this.fN(16384,'image');this.vv(value);},get_rectangle:function(){this.fN((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.eo();},set_rectangle:function(value){this.fN((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.aV.K(value,'rectangle');this.Dv(value);if(this.kI()===IPCC.Web.UI.MarkType.TextLine){this.Mt=false;}},get_startHeadAngle:function(){this.fN(3,'startHeadAngle');return this.GH;},set_startHeadAngle:function(value){this.BO(3,'startHeadAngle','GH',value,0,180);},get_startHeadLength:function(){this.fN(3,'startHeadLength');return this.Ga;},set_startHeadLength:function(value){this.BO(3,'startHeadLength','Ga',value,0,100);},get_startHeadType:function(){this.fN(3,'startHeadType');return this.EA;},set_startHeadType:function(value){this.xL(3,'startHeadType','EA',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.fN(14496+65536+(1<<17),'text');return this.ay;},set_text:function(value){if(this.ay===value){return;}this.Gh(14496+65536+(1<<17),'text','ay',value);if(this.kI()===IPCC.Web.UI.MarkType.SignatureText||this.kI()===IPCC.Web.UI.MarkType.TextLine){var aa=(this.kI()===IPCC.Web.UI.MarkType.TextLine)?{wD:'pre'}:{};var iW=IPCC.R.wW(this.ay,this.gp,aa);this.vx=iW.width;this.vp=iW.height;}if(this.fi){while(this.fi.length>0){this.fi.pop();}}},get_textHorizontalAlignment:function(){this.fN(32+2048,'textHorizontalAlignment');return this.rk;},set_textHorizontalAlignment:function(value){this.xL(32+2048,'textHorizontalAlignment','rk',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.fN(32,'textVerticalAlignment');return this.zy;},set_textVerticalAlignment:function(value){this.xL(32,'textVerticalAlignment','zy',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.fN(6176+65536,'textColor');return this.oQ;},set_textColor:function(value){this.Mc(6176+65536,'textColor','oQ',value);},get_textOpacity:function(){this.fN(32,'textOpacity');return this.vh;},set_textOpacity:function(value){this.UV(32,'textOpacity','vh',value,0,255);},get_textOrientation:function(){this.fN(32,'textOrientation');return this.AJ;},set_textOrientation:function(value){this.xL(32,'textOrientation','AJ',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.kI();},get_visible:function(){return this.ge;},set_visible:function(value){this.oT((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','ge',value);},get_markID:function(){return this.gU();},get_pathString:function(){return this.rZ;},set_pathString:function(value){var rZ=this.get_pathString();if(rZ!==value){this.Nz=true;}this.Gh(1088,'pathString','rZ',value);},get_pathWidth:function(){return this.Tk;},set_pathWidth:function(value){this.FA(1088,'pathWidth','Tk',value);},get_pathHeight:function(){return this.Tq;},set_pathHeight:function(value){this.FA(1088,'pathHeight','Tq',value);},get_startIndex:function(){this.fN((1<<17)+(1<<14)+8192+512,'startIndex');return this.aM;},set_startIndex:function(value){this.FA((1<<17)+(1<<14)+8192+512,'startIndex','aM',value);},get_textLength:function(){this.fN((1<<17)+(1<<14)+8192+512,'textLength');return this.cY;},set_textLength:function(value){this.FA((1<<17)+(1<<14)+8192+512,'textLength','cY',value);},add_propertyChanged:function(handler){this.ij(handler);},remove_propertyChanged:function(handler){this.mr(handler);},add_markTextSelectionChanged:function(handler){this.Ln(handler);},remove_markTextSelectionChanged:function(handler){this.LC(handler);},move:function(deltaX,deltaY){IPCC.aV.iu(deltaX,'deltaX');IPCC.aV.iu(deltaY,'deltaY');this.Me(deltaX,deltaY);},moveBackward:function(){if(this.et()){var index=this.et().nN(this);var cG=this.et().aoX();if(index>cG){this.et().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.et()){var index=this.et().nN(this);if(index<this.et().Xy()-1){this.et().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.et()){var cG=0;cG=this.et().aoX();this.et().reorderMark(this,cG);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.et()){this.et().reorderMark(this,this.et().Xy()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.et()){this.et().removeMark(this);}},selectText:function(textRanges){this.VC(textRanges);},azK:function(){var eC={};var C=this;var aX,aaS,aP,K,G;function dz(dK,Nh){eC[Nh]=C[dK];};var ir=false;var kt=false;var zw=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:ir=true;zw=true;eC.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:ir=true;zw=true;eC.__type='PolyLineMark:#IPCC.Web';dz('nl','ic');break;case IPCC.Web.UI.MarkType.Rectangle:kt=true;eC.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:kt=true;eC.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:kt=true;eC.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:zw=true;eC.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:kt=true;eC.__type='TextMark:#IPCC.Web';dz('Gl','clc');dz('CR','clid');dz('tf','cls');dz('Fs','clw');dz('LQ','ct');dz('Bx','cv');dz('gp','fn');dz('dB','fs');dz('eR','fst');dz('gY','ls');dz('ay','te');dz('rk','tha');dz('zy','tva');dz('oQ','tc');dz('vh','to');dz('AJ','tor');aP=this.ow;if(aP.x!==0||aP.y!==0){eC.cp={x:aP.x,y:aP.y};}break;case IPCC.Web.UI.MarkType.Stamp:kt=true;eC.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:kt=true;eC.__type='HighlightText:#IPCC.Web';break;}if(ir){dz('Fc','eha');dz('Gj','ehl');dz('mc','eht');dz('va','hfc');dz('GH','sha');dz('Ga','shl');dz('EA','sht');}else{dz('dP','fc');dz('zB','fv');dz('gM','lv');}if(kt){K=this.get_rectangle();eC.r={x:K.x,y:K.y,width:K.width,height:K.height};}eC.t=this.get_type();dz('he','lc');dz('gY','ls');dz('ef','lw');dz('cs','o');dz('ge','v');if(zw){aX=this.pA();aaS=[];for(G=0;G<aX.get_length();G++){aP=aX.getPoint(G);aaS.push({x:aP.x,y:aP.y});}eC.p=aaS;}return eC;},aGJ:function(eC){var C=this;var aX,G;function dz(dK,Nh){if(eC.hasOwnProperty(Nh)){C[dK]=eC[Nh];}};var ir=false;var kt=false;var zw=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:ir=true;if(eC.p&&eC.p.length===2){aX=this.pA();aX.setPoint(0,new IPCC.Web.UI.Point(eC.p[0].x,eC.p[0].y));aX.setPoint(1,new IPCC.Web.UI.Point(eC.p[1].x,eC.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:ir=true;zw=true;dz('nl','ic');break;case IPCC.Web.UI.MarkType.Rectangle:kt=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:kt=true;break;case IPCC.Web.UI.MarkType.Ellipse:kt=true;break;case IPCC.Web.UI.MarkType.Polygon:zw=true;break;case IPCC.Web.UI.MarkType.Text:kt=true;dz('Gl','clc');dz('CR','clid');dz('tf','cls');dz('Fs','clw');dz('LQ','ct');dz('Bx','cv');dz('gp','fn');dz('dB','fs');dz('eR','fst');dz('gY','ls');dz('ay','te');dz('rk','tha');dz('zy','tva');dz('oQ','tc');dz('vh','to');dz('AJ','tor');if(eC.cp){this.ow=new IPCC.Web.UI.Point(eC.cp.x,eC.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:kt=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:kt=true;break;}if(ir){dz('Fc','eha');dz('Gj','ehl');dz('mc','eht');dz('va','hfc');dz('GH','sha');dz('Ga','shl');dz('EA','sht');}else{dz('dP','fc');dz('zB','fv');dz('gM','lv');}if(kt){if(eC.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(eC.r.x,eC.r.y,eC.r.width,eC.r.height));}}eC.t=this.get_type();dz('he','lc');dz('gY','ls');dz('ef','lw');dz('cs','o');dz('ge','v');if(eC.p&&zw){aX=this.pA();for(G=0;G<eC.p.length;G++){aX.addPoint(new IPCC.Web.UI.Point(eC.p[G].x,eC.p[G].y));}}return eC;}};IPCC.Web.UI.Mark.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Mark.registerClass('IPCC.Web.UI.Mark');IPCC.Web.UI.ArtPage=function(){var ac=[];var al=new IPCC.Web.UI.gj();var fB=new IPCC.Web.UI.MarkCollection();var C=this;var Ix=true;this.aDn=[];function onMarkSelectionChanged(aj,H){var F=H.mark;if(F.bk&&F.bk[0]&&F.bk[0].ge===false){return;}var eQ;var qC=H.mark.get_selected();if(F.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&F.bZ!==undefined){fB.remove_markAdded(onMarkSelectionChanged);fB.remove_markRemoved(onMarkSelectionChanged);for(var G=0;G<ac.length;G++){if(ac[G].bZ===F.bZ){if(ac[G].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){eQ=ac[G];}else{ac[G].set_selected(H.mark.get_selected());}}}fB.add_markAdded(onMarkSelectionChanged);fB.add_markRemoved(onMarkSelectionChanged);if(eQ){eQ.set_selected(qC);}return;}else if(F.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){fB.remove_markAdded(onMarkSelectionChanged);fB.remove_markRemoved(onMarkSelectionChanged);for(var bN=0;bN<F.bk.length;bN++){F.bk[bN].set_selected(H.mark.get_selected());}fB.add_markAdded(onMarkSelectionChanged);fB.add_markRemoved(onMarkSelectionChanged);}var hE=new IPCC.Web.UI.MarkEventArgs();hE.mark=F;hE.zIndex=C.nN(F);hE.length=1;C.aH('markSelectionChanged',hE);};fB.add_markAdded(onMarkSelectionChanged);fB.add_markRemoved(onMarkSelectionChanged);var azt=fB.addMark;fB.addMark=function(F){if(C.nN(F)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!fB.contains(F)){azt.call(fB,F);F.bS('selected');}};var aAK=fB.addMarks;fB.addMarks=function(Bv){var rr=[];function abR(F){if(C.nN(F)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!fB.contains(F)){rr.push(F);}};Bv.forEach(abR,{});aAK.call(fB,Bv);var G;for(G=0;G<rr.length;G++){rr[G].bS('selected');}};var azG=fB.removeMark;fB.removeMark=function(F){if(fB.contains(F)){azG.call(fB,F);F.bS('selected');}};var azq=fB.removeAllMarks;fB.removeAllMarks=function(){var rr=[];function abR(F){if(fB.contains(F)){rr.push(F);}};fB.forEach(abR,{});azq.call(fB);var G;for(G=0;G<rr.length;G++){rr[G].bS('selected');}};function afm(mL){IPCC.aV.ov(mL,'zIndex',0,ac.length-1);};this.Xy=function(){return ac.length;};this.aoX=function(){var G=0;for(;G<ac.length;G++){if(ac[G].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&ac[G].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(ac[G].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&ac[G].bZ!==undefined)){break;}}return G;};this.zY=function(){return fB;};this.Dp=function(L){if(L===Ix){return;}Ix=L;this.bS('Ix');};this.FH=function(){return Ix;};var qj=false;this.lO=function(){return qj;};this.rd=function(L){if(typeof L!=="boolean"){return;}qj=L;this.bS('redactionDraftMode');};function rg(aj,H){if(H.get_propertyName()==='selected'){return;}var hE=new IPCC.Web.UI.MarkEventArgs();hE.mark=aj;hE.zIndex=C.nN(aj);hE.propertyName=H.dK;hE.length=1;if(hE.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(hE.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&hE.mark.bZ!=='undefined')){C.ari(aj);}C.aH('markChanged',hE);};function CB(aj){var hE=new IPCC.Web.UI.MarkEventArgs();hE.mark=aj;hE.zIndex=C.nN(aj);hE.length=1;C.aH('markTextSelectionChanged',hE);};function OB(aj,H){var hE=new IPCC.Web.UI.CommentEventArgs();hE.mark=aj;hE.comment=H.comment;hE.index=H.index;C.aH('commentAdded',hE);};function Pr(aj,H){var hE=new IPCC.Web.UI.CommentEventArgs();hE.mark=aj;hE.comment=H.comment;hE.index=H.index;C.aH('commentRemoved',hE);};function PA(aj,H){var hE=new IPCC.Web.UI.CommentEventArgs();hE.mark=aj;hE.comment=H.comment;hE.index=H.index;C.aH('commentChanged',hE);};this.Pz=function(F,pI){pI=pI||{};var mL=this.nN(F);if(mL>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(F.et()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}ac.push(F);F.kY(this);F.add_propertyChanged(rg);F.add_markTextSelectionChanged(CB);F.xw(OB);F.xv(Pr);F.wV(PA);var H=new IPCC.Web.UI.MarkEventArgs();H.mark=F;if(F.get_type()===IPCC.Web.UI.MarkType.Highlight||F.get_type()===IPCC.Web.UI.MarkType.HighlightText||F.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||F.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||F.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(F.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&F.bZ!==undefined)){this.age(F,0);}else{H.zIndex=ac.length-1;}H.clientX=pI.clientX;H.clientY=pI.clientY;H.length=1;C.aH('markAdded',H);};this.EZ=function(jv,cQ){var GT=[].concat(ac);var G;for(G=0;G<GT.length;G++){jv.call(cQ,GT[G],G,this);}};this.Sf=function(mL){afm(mL);return ac[mL];};this.nN=function(F){var G;for(G=0;G<ac.length;G++){if(ac[G]===F){return G;}}return-1;};this.aFE=function(fw){var eC;if(typeof JSON!=='undefined'){eC=JSON.parse(fw);}else{eC=IPCC.dh.qY(fw,true);}this.VI();var JP=[];var G;var Nr=eC.m;if(Nr){for(G=0;G<Nr.length;G++){var bL=new IPCC.Web.UI.Mark(Nr[G].t);bL.aGJ(Nr[G]);bL.kY(this);bL.add_propertyChanged(rg);bL.add_markTextSelectionChanged(CB);JP.push(bL);}}ac=JP;C.aH('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.asm=function(){var mi=new Array(36);var bC=0;var G;var bB;for(G=0;G<8;G++){mi[bC++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(G=0;G<3;G++){mi[bC++]=45;for(bB=0;bB<4;bB++){mi[bC++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}mi[bC++]=45;var aqL=new Date().getTime();var aqU=("0000000"+aqL.toString(16).toUpperCase()).substr(-8);for(G=0;G<8;G++){mi[bC++]=aqU.charCodeAt(G);}for(G=0;G<4;G++){mi[bC++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,mi);};function abO(kq){var aF=kq.firstChild;while(aF.nodeType!==1){aF=aF.nextSibling;}return aF;};function RC(vX,ahl,atl){var azP=parseFloat(vX.getAttribute(ahl));var azj=parseFloat(vX.getAttribute(ahl+'TM'));return atl/(azP/azj);};function awe(PH,aR,bF){var ahO=PH.getAttribute('pageWidth');var ajm=PH.getAttribute('pageHeight');var RY,Ut,aB,vX,G;if(ahO&&ajm){RY=parseFloat(ahO);Ut=parseFloat(ajm);if(isFinite(RY)&&isFinite(Ut)&&RY>0&&Ut>0){return aR/RY;}}for(G=0;G<PH.childNodes.length;G++){vX=PH.childNodes[G];if(vX.nodeName!=='annotation'){continue;}aB=RC(vX,'width',aR);if(isFinite(aB)&&aB>0){return aB;}aB=RC(vX,'height',bF);if(isFinite(aB)&&aB>0){return aB;}aB=RC(vX,'x',aR);if(isFinite(aB)&&aB>0){return aB;}aB=RC(vX,'y',bF);if(isFinite(aB)&&aB>0){return aB;}}return 1;};this.ajT=function(mI,aY,aR,bF,abb,stampImages,xa,ue){var C=this;if(xa!==true){this.VI();}if(mI){var kr;if(IPCC.wb.AU()){kr=mI.firstChild;}else{var WJ=mI.firstChild.nodeName;if(WJ.toLowerCase()==='xml'){kr=mI.firstChild.nextSibling;}else{kr=mI.firstChild;}}var cI=abO(kr);if(cI.nodeName!=='pages'){throw 'ERROR: pages';}if(cI.hasChildNodes()){var G;for(G=0;G<cI.childNodes.length;G++){var bq=cI.childNodes[G];if(bq.nodeName!=='page'){continue;}var zT=bq.getAttribute('id');var jI=false;var zG;var si='';var Ly=[];var jT;var qF,bN=0;var cY,ck,aM;if(abb){var adn=bq.getAttribute('pageWidth'),adQ=bq.getAttribute('pageHeight');if(adn){abb.ara(adn);}if(adQ){abb.aqq(adQ);}}var qt=[],OK={},bk;if((zT&&parseInt(zT,10))===(aY+1)){jI=true;var JP=[];var bB;var bL;var kt,jk,pR,tz,uc;var lH=1;var afC=awe(bq,aR,bF);if(afC>0){lH=afC;}for(bB=0;bB<bq.childNodes.length;bB++){var bw=bq.childNodes[bB];if(bw.nodeName!=='annotation'){continue;}var ig=parseFloat(bw.getAttribute('width'))*lH;var jt=parseFloat(bw.getAttribute('height'))*lH;var fU=parseFloat(bw.getAttribute('x'))*lH;var gs=parseFloat(bw.getAttribute('y'))*lH;var SJ=bw.getAttribute('fillColor'),Xh,qJ,St=bw.getAttribute('lineColor'),aho,jl,ack=bw.getAttribute('fontColor'),afZ,Di;if(SJ==='transparent'){Xh=qJ=SJ;}else{Xh=parseInt(SJ||0,10);qJ=parseInt(Xh,10).toString(16);while(qJ.length<6){qJ='0'+qJ;}qJ='#'+qJ;}if(St==='transparent'){jl=St;}else{aho=parseInt(St||0,10);jl=parseInt(aho,10).toString(16);while(jl.length<6){jl='0'+jl;}jl='#'+jl;}if(ack){afZ=parseInt(ack||0,10);Di=parseInt(afZ,10).toString(16);while(Di.length<6){Di='0'+Di;}Di='#'+Di;}var avt=bw.getAttribute('stampSize');var Pa=bw.getAttribute('dragDirection');var LV=parseInt(bw.getAttribute('opacity'),10);if(isNaN(LV)){LV=255;}if(bw.nodeName==='annotation'){var agm=bw.getAttribute('label');if(!agm){agm='';}var nr=bw.getAttribute('drawType');var lg;switch(nr){case 'imagestamp':case 'imagestamp_redact':var rQ=bw.getAttribute('imageStampId');var bH=(nr==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;bL=new IPCC.Web.UI.Mark(bH);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});bL.set_image(stampImages[rQ].base64format);bL.rQ=rQ;kt=true;if(nr==='imagestamp_redact'){bL.mG(true);}break;case 'circle':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});kt=true;bL.set_lineColor(jl);bL.set_fillVisible(false);bL.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});kt=true;bL.set_fillColor(qJ);bL.set_lineColor(jl);bL.set_fillVisible(true);bL.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'text':case 'text_redact':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});bL.set_fontName('verdana');bL.set_fontSize(10);bL.set_opacity(0);zG=undefined;bL.set_fillColor('#000000');if(nr==='text_redact'){bL.mG(true);}if(nr==='text'){bL.set_fillColor(qJ);bL.set_lineColor(jl);bL.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));bL.set_fillVisible(true);bL.set_opacity(LV);}qt=[];jk=bw.firstChild;while((jk)&&(jk.nodeType!==4)){jk=jk.nextSibling;}if((jk)&&(jk.nodeType===4)){lg=jk.innerText||jk.textContent||jk.data;bL.bo.ay=lg;qF=lg.split("</TEXTFORMAT>");si='';Ly=[];for(bN=0;bN<qF.length;bN++){if(qF[bN].match(/<TEXTFORMAT/)){qF[bN]=qF[bN]+"</TEXTFORMAT>";qt.push(qF[bN]);}}for(bN=0;bN<qt.length;bN++){if(qt[bN].match(/<P/)){zG=this.ajq(qt[bN]);Ly.push(zG);si+=zG+" ";if(bN===0){jT=this.ajz(qt[bN]);acb(jT,bL);}}si=si.replace(/\s+$/g,"");bL.set_text(si);var axB=this.auD(qt[bN]);switch(axB){case 'CENTER':bL.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':bL.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bL.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var aX=bL.pA();if(Pa==='br'){aX.setPoint(1,new IPCC.Web.UI.Point(fU+ig,gs+jt));aX.setPoint(0,new IPCC.Web.UI.Point(fU,gs));}else if(Pa==='bl'){aX.setPoint(1,new IPCC.Web.UI.Point(fU,gs+jt));aX.setPoint(0,new IPCC.Web.UI.Point(fU+ig,gs));}else if(Pa==='tr'){aX.setPoint(1,new IPCC.Web.UI.Point(fU+ig,gs));aX.setPoint(0,new IPCC.Web.UI.Point(fU,gs+jt));}else if(Pa==='tl'){aX.setPoint(1,new IPCC.Web.UI.Point(fU,gs));aX.setPoint(0,new IPCC.Web.UI.Point(fU+ig,gs+jt));}bL.set_lineColor(jl);bL.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));if(nr==='arrow'){bL.set_headFillColor(jl);bL.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);bL.set_startHeadAngle(30);bL.set_startHeadLength(35);bL.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});bL.set_fillColor(jl);if(nr==='stamp_redact'){bL.mG(true);bL.set_fillColor('#000000');}jk=bw.firstChild;while((jk)&&(jk.nodeType!==4)){jk=jk.nextSibling;}if((jk)&&(jk.nodeType===4)){lg=jk.innerText||jk.textContent||jk.data;bL.bo.ay=lg;bL.set_text(lg);}break;case 'highlightText':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});bL.set_fillColor(jl);bL.bZ=bw.getAttribute('highlightGroupID');if(bw.getAttribute('textLength')){bL.cY=parseInt(bw.getAttribute('textLength'),10);}bL.ck=bw.getAttribute('selectedText');if(bw.getAttribute('startIndex')){bL.aM=parseInt(bw.getAttribute('startIndex'),10);}bL.lz=bw.getAttribute('isHighlight');bL.set_opacity(127);bk=aaM(bw,lH);if(bk){bL.bk=bk;}break;case 'rectangle_filled_redact':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});bL.set_fillColor(qJ||'#000000');bL.set_lineColor(jl);bL.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));bL.set_textColor(Di||'#ffffff');bL.set_fillVisible(true);bL.mG(true);pR=bw.getAttribute('highlightGroupID');bL.set_text(IPCC.R.Mj(bw.getAttribute('meta')));if(pR){bL.set_lineWidth(0);bL.bZ=pR;var eQ=OK[pR];if(!eQ){eQ=OK[pR]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);eQ.bZ=pR;eQ.set_rectangle(bL.get_rectangle());eQ.mG(true);eQ.set_text(IPCC.R.Mj(bw.getAttribute('meta')));}else{var LD=false;var rY=eQ.get_rectangle();var hm=rY.x,gL=rY.x+rY.width,_top=rY.y,hM=rY.y+rY.height;if(rY.x>fU){LD=true;hm=fU;}if(rY.y>gs){LD=true;_top=gs;}if(rY.x+rY.width<fU+ig){LD=true;gL=fU+ig;}if(rY.y+rY.height<gs+jt){LD=true;hM=gs+jt;}if(LD===true){eQ.set_rectangle({x:hm,y:_top,width:gL-hm,height:hM-_top});}}}break;case 'text_selection_redaction':pR=bw.getAttribute('highlightGroupID');bL=OK[pR];if(!bL){bL=OK[pR]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);bL.bZ=pR;bL.set_rectangle({x:0,y:0,width:0,height:0});bL.mG(true);bL.set_text(bw.getAttribute('meta'));}cY=bw.getAttribute('textLength');if(cY){bL.cY=parseInt(cY,10);}ck=bw.getAttribute('selectedText');if(ck){bL.ck=ck;}aM=bw.getAttribute('startIndex');if(aM){bL.aM=parseInt(aM,10);}break;case 'text_hyperlink_annotation':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);bL.set_fillColor(jl);pR=bw.getAttribute('highlightGroupID');bL.bZ=pR;var rf=bw.getAttribute('href');if(rf){bL.set_href(IPCC.R.Mj(rf));}cY=bw.getAttribute('textLength');if(cY){bL.cY=parseInt(cY,10);}ck=bw.getAttribute('selectedText');if(ck){bL.ck=ck;}aM=bw.getAttribute('startIndex');if(aM){bL.aM=parseInt(aM,10);}var lz=bw.getAttribute('isHighlight');bL.lz=lz?lz:'n';bL.bk=aaM(bw,lH);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});break;case 'rectangle':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});bL.set_lineVisible(true);bL.set_lineColor(jl);bL.set_fillVisible(false);bL.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'rectangle_filled':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});bL.set_fillColor(qJ);bL.set_lineColor(jl);bL.set_fillVisible(true);bL.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});bL.set_fillColor(qJ);bL.set_lineColor(jl);bL.set_fillVisible(true);if(nr==='rectangle_trans_redact'){bL.mG(true);}bL.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(nr==='freehand'){bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);}bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});bL.set_pathWidth(parseFloat(bw.getAttribute('pathWidth')));bL.set_pathHeight(parseFloat(bw.getAttribute('pathHeight')));bL.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));bL.set_lineColor(jl);var vk=bw.firstChild;while((vk)&&(vk.nodeType!==4)){vk=vk.nextSibling;}if((vk)&&(vk.nodeType===4)){lg=vk.innerText||vk.textContent||vk.data;bL.bo.ay=lg;bL.set_pathString(lg);}break;case 'signature_text':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});bL.set_fontSize(10);bL.set_lineWidth=0;bL.set_fillVisible(true);bL.set_opacity(1);jk=bw.firstChild;this.ani(jk,bL);bL.vx=parseFloat(bw.getAttribute('fontWidth'));bL.vp=parseFloat(bw.getAttribute('fontHeight'));break;case 'text_input_signature':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});jk=bw.firstChild;this.ani(jk,bL);bL.vx=parseFloat(bw.getAttribute('fontWidth'));bL.vp=parseFloat(bw.getAttribute('fontHeight'));bL.set_lineVisible(false);break;case 'polyline':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);bL.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));bL.set_lineColor(jl);var vY=bw.firstChild;while((vY)&&(vY.nodeType!==4)){vY=vY.nextSibling;}var Ht;if((vY)&&(vY.nodeType===4)){lg=vY.innerText||vY.textContent||vY.data;if(lg&&lg!=='undefined'){if(typeof JSON!=='undefined'){Ht=JSON.parse(lg);}else{Ht=IPCC.dh.qY(lg,true);}aX=bL.pA();if(Ht){for(G=0;G<Ht.length;G++){aX.addPoint(new IPCC.Web.UI.Point(Ht[G].x*lH,Ht[G].y*lH));}}}}break;case 'strikethrough':bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);bL.set_rectangle({x:fU,y:gs,width:ig,height:jt});bL.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));bL.set_lineColor(jl);bL.bZ=bw.getAttribute('highlightGroupID');var textLength=bw.getAttribute('textLength');if(textLength){bL.cY=parseInt(textLength,10);}bL.ck=bw.getAttribute('selectedText');var startIndex=bw.getAttribute('startIndex');if(startIndex){bL.aM=parseInt(startIndex,10);}bL.lz=bw.getAttribute('isHighlight');bk=aaM(bw,lH);if(bk){bL.bk=bk;}break;default:}if(bL){bL.bo.lA=bw.getAttribute('nodeId');if(LV>=0&&(nr==='rectangle_trans_redact'|| !bL.jg())&&nr!=='stamp'&&nr!=='imagestamp'&&nr!=='imagestamp_redact'&&nr!=='text_hyperlink_annotation'&&nr!=='text_input_signature'&&nr!=='strikethrough'){bL.set_opacity(LV);}bL.bo.FV=avt;bL.bo.aEU=nr;bL.bo.ef=bw.getAttribute('lineWidth');bL.bo.dP=bw.getAttribute('fillColor');bL.bo.he=bw.getAttribute('lineColor');bL.bo.aGU=bw.getAttribute('dragDirection');bL.bo.zT=zT;bL.bo.aF=bw.getAttribute('x');bL.bo.ey=bw.getAttribute('y');bL.bo.dc=bw.getAttribute('height');bL.bo.av=bw.getAttribute('width');bL.bo.aEZ=bw.getAttribute('x_percent');bL.bo.aEX=bw.getAttribute('y_percent');bL.bo.aET=bw.getAttribute('height_percent');bL.bo.aHK=bw.getAttribute('width_percent');bL.bo.aGe=bw.getAttribute('formUser');bL.bo.aHx=bw.getAttribute('created');bL.bo.aFC=bw.getAttribute('modified');bL.bo.aEO=bw.getAttribute('saveDate');bL.bo.aFF=bw.getAttribute('saveTime');bL.bo.ql=bw.getAttribute('meta');var Bp=bw.firstChild;while((Bp)&&(Bp.nodeType!==4)){Bp=Bp.nextSibling;}if((Bp)&&(Bp.nodeType===4)){bL.cv.push(Bp.data);}else{bL.cv.push('');}var oj=parseInt(bw.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;bL.set_interactionMode(oj);bL.kY(this);bL.add_propertyChanged(rg);bL.add_markTextSelectionChanged(CB);bL.xw(OB);bL.xv(Pr);bL.wV(PA);JP.push(bL);avQ(bw,bL);tz=IPCC.R.amH(bw.getAttribute('created'));uc=IPCC.R.amH(bw.getAttribute('modified'));tz=tz||new Date();uc=uc||new Date();bL.initializeDates(tz,uc);if(ue){bL.set_visible(false);}}}}ac=ac.concat(JP);C.aH('marksLoaded',{});}if(jI){awX(mI,aY);break;}}}}};this.ani=function(vy,bL){var G,lg,qF,si,Ly,zG,qt=[],jT;while((vy)&&(vy.nodeType!==4)){vy=vy.nextSibling;}if((vy)&&(vy.nodeType===4)){lg=vy.innerText||vy.textContent||vy.data;bL.bo.ay=lg;qF=lg.split("</TEXTFORMAT>");for(G=0;G<qF.length;G++){if(qF[G].match(/<TEXTFORMAT/)){qF[G]=qF[G]+"</TEXTFORMAT>";qt.push(qF[G]);}}si='';Ly=[];for(G=0;G<qt.length;G++){if(qt[G].match(/<P/)){zG=this.ajq(qt[G]);Ly.push(zG);si+=zG+" ";if(G===0){jT=this.ajz(qt[G]);acb(jT,bL);}}si=si.replace(/\s+$/g,"");bL.set_text(si);if(bL.get_type()!==IPCC.Web.UI.MarkType.TextLine){bL.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);}}}};function abk(anc,df){for(var i=0;i<anc.childNodes.length;i++){var aai=anc.childNodes[i];if(aai.nodeName==='kvp'){var aq=aai.getAttribute("key");var L=aai.getAttribute("value");df.set_data(aq,L);}}};function awL(NF,dw){var cU=new IPCC.Web.UI.Comment(IPCC.R.Mj(NF.getAttribute("text")));cU.set_creationTime(NF.getAttribute("created"));dw.addComment(cU);for(var i=0;i<NF.childNodes.length;i++){var acK=NF.childNodes[i];if(acK.nodeName==='data'){abk(acK,cU.get_data());}}};function avS(anN,dw){for(var i=0;i<anN.childNodes.length;i++){var Nn=anN.childNodes[i];if(Nn.nodeName==='comments'){var gm=Nn;for(var j=0;j<gm.childNodes.length;j++){var adF=gm.childNodes[j];if(adF.nodeName==='comment'){awL(adF,dw);}}}else if(Nn.nodeName==='data'){abk(Nn,dw.get_data());}}};function avQ(ahC,F){for(var i=0;i<ahC.childNodes.length;i++){var Ph=ahC.childNodes[i];if(Ph.nodeName==='conversation'){avS(Ph,F.get_conversation());}else if(Ph.nodeName==='data'){abk(Ph,F.get_data());}}};function aaM(tF,zC){var kF=null,BU;for(var i=0;i<tF.childNodes.length;i++){BU=tF.childNodes[i];if(BU.nodeName==='line-rectangles'){if(!kF){kF=aub(BU,zC);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return kF;};function aub(tF,zC){var kF=[],BU;for(var i=0;i<tF.childNodes.length;i++){BU=tF.childNodes[i];if(BU.nodeName==='rectangle'){kF.push(atp(BU,zC));}}return kF;};function atp(tF,zC){var aF=parseFloat(tF.getAttribute("x"))*zC;var ey=parseFloat(tF.getAttribute("y"))*zC;var av=parseFloat(tF.getAttribute("width"))*zC;var dc=parseFloat(tF.getAttribute("height"))*zC;return new IPCC.Web.UI.Rectangle(aF,ey,av,dc);};this.Zo=function(aK,HN,vi,gM,cs,bC){var bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bL.set_rectangle({x:aK.x,y:aK.y,width:aK.width,height:aK.height});bL.set_fillColor(vi);bL.set_fillVisible(true);bL.aM=bC;bL.cY=1;if(cs){bL.set_opacity(cs);}else{bL.set_opacity(127);}C.addMark(bL);return bL;};this.asb=function(aK,Yu,bC){var bL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bL.set_rectangle({x:aK.x,y:aK.y,width:aK.width,height:aK.height});bL.set_fillColor(Yu.get_fillColor());bL.set_fillVisible(true);bL.aM=bC;bL.cY=1;if(Yu.get_opacity()){bL.set_opacity(Yu.get_opacity());}else{bL.set_opacity(127);}C.addMark(bL);return bL;};function acb(jT,bL){for(var cA=0;cA<jT.length;cA++){var eE=jT[cA].attribs;var jI=false;if(jT[cA].attribs.length>1&& !jI&&jT[cA].Je==='font'){jI=true;for(var bB=0;bB<eE.length;bB++){if(eE[bB].cV==="FACE"){bL.set_fontName(eE[bB].L);}else if(eE[bB].cV==="SIZE"&&bL.get_type()!==IPCC.Web.UI.MarkType.TextLine){var um=parseFloat(eE[bB].L);bL.set_fontSize(um);}else if(eE[bB].cV==="COLOR"){var acg=eE[bB].L;if(bL.get_type()===IPCC.Web.UI.MarkType.SignatureText){bL.set_fillColor(acg);}else{bL.set_textColor(acg);}}}var lQ=false;if(jT[cA+1]&&bL.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(jT[cA+1].tagName==='font'){break;}else{var At=jT[cA+1].Je;if(At==='b'||At==='i'||At==='u'||At==='s'){if(At==='b'){bL.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(At==='i'){bL.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(At==='u'){bL.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(At==='s'){bL.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}lQ=true;}}if(jT[cA+2]){var aoz=jT[cA+2].Je;lQ=XQ(bL,lQ,aoz);}if(jT[cA+3]){var anI=jT[cA+3].Je;lQ=XQ(bL,lQ,anI);}if(jT[cA+4]){var apj=jT[cA+4].Je;lQ=XQ(bL,lQ,apj);}if(jI){break;}}}}};function XQ(F,akz,Ag){var lQ=akz;var bL=F;if(akz){if(Ag==='b'){bL.set_fontStyle(bL.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);lQ=true;}else if(Ag==='i'){bL.set_fontStyle(bL.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);lQ=true;}else if(Ag==='u'){bL.set_fontStyle(bL.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);lQ=true;}else if(Ag==='s'){bL.set_fontStyle(bL.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);lQ=true;}}else{if(Ag==='b'){bL.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);lQ=true;}else if(Ag==='i'){bL.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);lQ=true;}else if(Ag==='u'){bL.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);lQ=true;}else if(Ag==='s'){bL.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);lQ=true;}}return lQ;};function DR(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var ale=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,ann=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,axt=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var arF=DR("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var Oa=DR("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var aBn=DR("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var atc=DR("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var ars=DR("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var aqY=DR("script,style");this.ajc=function(html,handler){var bC,zM,wz,nM=[],yo=html;function parseEndTag(tag,tagName){var iG;if(!tagName){iG=0;}else{for(iG=nM.length-1;iG>=0;iG--){if(nM[iG]===tagName){break;}}}if(iG>=0){for(var i=nM.length-1;i>=iG;i--){if(handler.end){handler.end(nM[i]);}}nM.length=iG;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(Oa[tagName]){while(nM.last()&&aBn[nM.last()]){parseEndTag("",nM.last());}}if(atc[tagName]&&nM.last()===tagName){parseEndTag("",tagName);}unary=arF[tagName]|| ! !unary;if(!unary){nM.push(tagName);}if(handler.start){var attrs=[];rest.replace(axt,function(wz,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:ars[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};nM.last=function(){return this[this.length-1];};function avR(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){zM=true;if(!nM.last()|| !aqY[nM.last()]){if(html.indexOf("<!--")===0){bC=html.indexOf("-->");if(bC>=0){if(handler.comment){handler.comment(html.substring(4,bC));}html=html.substring(bC+3);zM=false;}}else if(html.indexOf("</")===0){wz=html.match(ann);if(wz){html=html.substring(wz[0].length);wz[0].replace(ann,parseEndTag);zM=false;}}else if(html.indexOf("<")===0){wz=html.match(ale);if(wz){html=html.substring(wz[0].length);wz[0].replace(ale,parseStartTag);zM=false;}}if(zM){bC=html.indexOf("<");var text=bC<0?html:html.substring(0,bC);text=IPCC.R.Mj(text);html=bC<0?"":html.substring(bC);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+nM.last()+"[^>]*>"),avR);parseEndTag("",nM.last());}if(html===yo){throw " Parse Error in annotation Html Text: "+html;}yo=html;}parseEndTag();};this.ajq=function(html){var results="";this.ajc(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.ajz=function(html){var eZ=[];this.ajc(html,{start:function(tag,attrs){var dX;dX=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var AQ={};AQ.Je=tag;AQ.attribs=[];if(tag==='b'){AQ.aFv=true;}else if(tag==='i'){AQ.aGc=true;}else if(tag==='u'){AQ.aGp=true;}else if(tag==='s'){AQ.aFX=true;}else{for(var i=0;i<attrs.length;i++){var Cp={};Cp.cV=attrs[i].name;Cp.L=attrs[i].value;AQ.attribs.push(Cp);}}eZ.push(AQ);}},end:function(){},chars:function(){},comment:function(){}});return eZ;};this.auD=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];switch(alignment){case 'CENTER':return alignment;case 'RIGHT':return alignment;default:return 'LEFT';}};function awX(mI,azd){var mk=mI.getElementsByTagName("highlights")[0];if(mk.hasChildNodes()){var jW;var cR;for(var G=0;G<mk.childNodes.length;G++){jW=mk.childNodes[G];if(jW.nodeType===1){cR=jW.getAttribute('page');if(cR&&parseInt(cR,10)===azd+1){var hN=new IPCC.Web.UI.aEI();hN.aDY=jW.nodeName;switch(hN.aDY){case 'tag':hN.LP=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':hN.LP=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':hN.LP=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':hN.LP=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':hN.LP=IPCC.Web.UI.HighLightType.Strikethrough;break;default:hN.LP=undefined;}if(jW.childNodes[0].data){hN.cv.push(jW.childNodes[0].data);}hN.bo.ct=jW.getAttribute('id');hN.bo.aIw=jW.getAttribute('userid');hN.bo.aFi=jW.getAttribute('mode');hN.bo.fr=jW.getAttribute('color');hN.bo.aHZ=jW.getAttribute('occurence');hN.bo.bw=jW.getAttribute('annotation');hN.bo.bq=jW.getAttribute('page');hN.bo.aHT=jW.getAttribute('documentname');hN.bo.aHc=jW.getAttribute('tooltip');hN.bo.aHw=jW.getAttribute('allowdelete');hN.bo.mp=jW.getAttribute('start');hN.bo.aFH=jW.getAttribute('end');C.aDn.push(hN);}}}}};this.VI=function(){var H;if(ac.length<1){return;}fB.removeAllMarks();var G;for(G=ac.length-1;G>=0;G--){ac[G].remove_propertyChanged(rg);ac[G].remove_markTextSelectionChanged(CB);ac[G].kY(null);H=new IPCC.Web.UI.MarkEventArgs();H.length=ac.length;H.zIndex=0;H.mark=ac.pop();C.aH('markRemoved',H);}H=new IPCC.Web.UI.MarkEventArgs();H.length=ac.length;H.zIndex=0;C.aH('markRemoved',H);};this.wj=function(F){var mL=this.nN(F);var vJ=F.bZ;if(mL>=0){F.remove_propertyChanged(rg);F.remove_markTextSelectionChanged(CB);F.kY(null);ac.splice(mL,1);fB.removeMark(F);var H=new IPCC.Web.UI.MarkEventArgs();H.mark=F;H.zIndex=mL;H.length=1;C.aH('markRemoved',H);if(vJ){this.ate(vJ);}}};this.aHW=function(sP){var wx=ac.length;var vJ=sP.bZ;while(wx--){var F=ac[wx];if(F.bZ===vJ){F.set_fillColor(sP.get_fillColor());}}};this.ari=function(sP){var wx=ac.length;var vJ=sP.bZ;if(!vJ){sP.set_text(sP.get_text());return;}while(wx--){var F=ac[wx];if(F.bZ===vJ){if(F.get_text()!==sP.get_text()){F.set_text(sP.get_text());}if(F.get_fontName()!==sP.get_fontName()){F.set_fontName(sP.get_fontName());}if(F.get_fontSize()!==sP.get_fontSize()){F.set_fontSize(sP.get_fontSize());}}}};this.ate=function(vJ){var wx=ac.length;while(wx--){var F=ac[wx];if(F.bZ===vJ){var mL=this.nN(F);fB.removeMark(F);ac.splice(wx,1);var H=new IPCC.Web.UI.MarkEventArgs();H.mark=F;H.zIndex=mL;H.length=1;}}};this.age=function(F,mL){var PF=this.nN(F);if(PF<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(PF===mL){return;}afm(mL);ac.splice(PF,1);ac.splice(mL,0,F);if(F.get_type()===IPCC.Web.UI.MarkType.Highlight||F.get_type()===IPCC.Web.UI.MarkType.HighlightText||F.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||F.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||F.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(F.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&F.bZ!==undefined)){return;}var H=new IPCC.Web.UI.MarkEventArgs();H.mark=F;H.zIndex=mL;H.oldZIndex=PF;H.length=1;C.aH('markReordered',H);};function Xo(kF,da,cf){if(!kF){return undefined;}var md={gd:'line-rectangles',cv:[],bo:{}};IPCC.R.forEach(kF,function(K){md.cv.push({gd:'rectangle',cv:[],bo:{x:K.x,y:K.y,height:K.height,width:K.width}});});return md;};function aaO(df){if(!df){return undefined;}var sV=df.get_dataKeys();if(sV.length===0){return undefined;}var md={gd:'data',cv:[],bo:{}};IPCC.R.forEach(sV,function(aq){var L=df.get_data(aq);md.cv.push({gd:'kvp',cv:[],bo:{key:aq,value:L}});});return md;};function awO(cU){if(!cU){return undefined;}var BD={gd:'comment',cv:[],bo:{}};BD.bo.text=IPCC.R.xs(cU.get_text());BD.bo.created=cU.get_creationTime();var md=aaO(cU.get_data());if(md){BD.cv.push(md);}return BD;};function avK(dw){if(!dw||dw.get_length()===0){return undefined;}var aaY={gd:'conversation',cv:[],bo:{}};var ahx={gd:'comments',cv:[],bo:{}};aaY.cv.push(ahx);dw.forEach(function(cU){var BD=awO(cU);if(BD){ahx.cv.push(BD);}});var md=aaO(dw.get_data());if(md){aaY.cv.push(md);}return aaY;};this.aol=function(F,da,cf,ww){var bH=F.get_type();var ir=false;var kz;var gT;var amT;var Zv;var jU,zt,vw,ay;var aS={gd:'annotation',cv:[],bo:{}};if(!F.bo.lA){aS.bo.nodeId=C.asm();}else{aS.bo.nodeId=F.bo.lA;}var Ks,DU="",rj="";if(F.get_lineColor()){var Ts=F.get_lineColor();if(Ts==='transparent'){aS.bo.lineColor=Ts;}else{Ks=Ts.replace(/#/,"");DU=parseInt(Ks,16);rj=DU.toString();aS.bo.lineColor=rj;}}aS.bo.interactionMode=F.get_interactionMode();aS.bo.stampSize='122';var NS={};NS[IPCC.Web.UI.MarkType.Stamp]=true;NS[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;NS[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((bH===IPCC.Web.UI.MarkType.Rectangle&&F.get_opacity()<255|| !F.jg())&&NS[bH]!==true){aS.bo.opacity=F.get_opacity();}if(F.get_conversation().get_length()>0){aS.cv.push(avK(F.get_conversation()));}var md=aaO(F.get_data());if(md){aS.cv.push(md);}ir=false;switch(bH){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:gT=F.get_fillColor();if(gT==='transparent'){aS.bo.fillColor=gT;}else if(gT){kz=gT.replace(/#/,"");aS.bo.fillColor=parseInt(kz,16).toString();}else{aS.bo.fillColor=rj;}if(F.get_fillVisible()){if(F.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(F.get_opacity()===255){if(F.jg()===true){aS.bo.drawType='rectangle_filled_redact';if(F.bZ){aS.bo.highlightGroupID=F.bZ;}}else{aS.bo.drawType='rectangle_filled';}}else{if(F.jg()===true){aS.bo.drawType='rectangle_trans_redact';}else{aS.bo.drawType='rectangle_trans';}}}else{if(F.get_opacity()===255){aS.bo.drawType='circle_filled';if(F.jg()){aS.bo.drawType='circle_filled_redact';}}else{aS.bo.drawType='circle_trans';if(F.jg()){aS.bo.drawType='circle_trans_redact';}}}}else{if(F.get_type()===IPCC.Web.UI.MarkType.Rectangle){aS.bo.drawType='rectangle';aS.bo.fillColor=rj;}else{aS.bo.drawType='circle';aS.bo.fillColor=rj;}}aS.bo.dragDirection='br';var K=F.get_rectangle();aS.bo.x=K.x;aS.bo.y=K.y;aS.bo.x_percent=K.x/da;aS.bo.y_percent=K.y/cf;aS.bo.height_percent=K.height/cf;aS.bo.width_percent=K.width/da;aS.bo.height=K.height;aS.bo.width=K.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:aS.bo.lineWidth=F.get_lineWidth();ir=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:aS.bo.highlightGroupID=F.bZ;aS.bo.drawType='text_selection_redaction';if(F.ck&&F.ck.length>0){aS.bo.startIndex=F.aM;aS.bo.selectedText=F.ck;aS.bo.textLength=F.cY;}break;case IPCC.Web.UI.MarkType.Text:var yv=F.get_rectangle();aS.bo.x=yv.x;aS.bo.y=yv.y;aS.bo.x_percent=yv.x/da;aS.bo.y_percent=yv.y/cf;aS.bo.height_percent=yv.height/cf;aS.bo.width_percent=yv.width/da;aS.bo.height=yv.height;aS.bo.width=yv.width;gT=F.get_fillColor();if(F.jg()===true){aS.bo.drawType='text_redact';}else{aS.bo.drawType='text';aS.bo.opacity=F.get_opacity();}if(gT==='transparent'){aS.bo.fillColor=gT;}else if(gT){kz=gT.replace(/#/,"");aS.bo.fillColor=parseInt(kz,16).toString();}else{aS.bo.fillColor='16776960';}var cN='';cN="<TEXTFORMAT LEADING=\"2\">";switch(F.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:cN+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:cN+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:cN+="<P ALIGN=\"right\" ";break;}cN+=">";cN+="<FONT ";zt=F.get_fontName();cN+="FACE="+"\""+zt+"\" ";vw=F.get_fontSize().toString();cN+="SIZE= \""+vw+"\" ";jU="\""+F.get_textColor()+"\" ";cN+="COLOR="+jU+" ";cN+="LETTERSPACING=\"0\" ";cN+="KERNING=\"0\" ";cN+=">";var eR=F.get_fontStyle();if(eR&IPCC.Web.UI.FontStyle.Bold){cN+="<B>";}if(eR&IPCC.Web.UI.FontStyle.Italic){cN+="<I>";}if(eR&IPCC.Web.UI.FontStyle.Underline){cN+="<U>";}if(eR&IPCC.Web.UI.FontStyle.Strikeout){cN+="<S>";}ay=F.get_text();ay=IPCC.R.xs(ay);cN+=ay;if(eR&IPCC.Web.UI.FontStyle.Strikeout){cN+="</S>";}if(eR&IPCC.Web.UI.FontStyle.Underline){cN+="</U>";}if(eR&IPCC.Web.UI.FontStyle.Italic){cN+="</I>";}if(eR&IPCC.Web.UI.FontStyle.Bold){cN+="</B>";}cN+="</FONT>";cN+="</P>";cN+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:K=F.get_rectangle();aS.bo.x=K.x;aS.bo.y=K.y;aS.bo.x_percent=K.x/da;aS.bo.y_percent=K.y/cf;aS.bo.height_percent=K.height/cf;aS.bo.width_percent=K.width/da;aS.bo.height=K.height;aS.bo.width=K.width;aS.bo.drawType='highlight';aS.bo.highlightGroupID=F.bZ;aS.bo.isHighlight=F.lz;gT=F.get_fillColor();if(gT){kz=gT.replace(/#/,"");aS.bo.fillColor=parseInt(kz,16).toString();aS.bo.lineColor=parseInt(kz,16).toString();}else{aS.bo.fillColor=rj;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:K=F.get_rectangle();aS.bo.x=K.x;aS.bo.y=K.y;aS.bo.height=K.height;aS.bo.width=K.width;aS.bo.drawType='text_hyperlink_annotation';aS.bo.href=IPCC.R.xs(F.rf);aS.bo.startIndex=F.aM;aS.bo.selectedText=F.ck;aS.bo.textLength=F.cY;aS.bo.highlightGroupID=F.bZ;aS.bo.isHighlight=F.lz;gT=F.get_fillColor();if(gT){kz=gT.replace(/#/,"");aS.bo.fillColor=parseInt(kz,16).toString();aS.bo.lineColor=parseInt(kz,16).toString();}else{aS.bo.fillColor=rj;}aS.cv.push(Xo(F.bk,da,cf));break;case IPCC.Web.UI.MarkType.HighlightText:K=F.get_rectangle();aS.bo.x=K.x;aS.bo.y=K.y;aS.bo.x_percent=K.x/da;aS.bo.y_percent=K.y/cf;aS.bo.height_percent=K.height/cf;aS.bo.width_percent=K.width/da;aS.bo.height=K.height;aS.bo.width=K.width;aS.bo.drawType='highlightText';aS.bo.startIndex=F.aM;aS.bo.selectedText=F.ck;aS.bo.textLength=F.cY;aS.bo.highlightGroupID=F.bZ;aS.bo.isHighlight=F.lz;gT=F.get_fillColor();if(gT){kz=gT.replace(/#/,"");aS.bo.fillColor=parseInt(kz,16).toString();aS.bo.lineColor=parseInt(kz,16).toString();}else{aS.bo.fillColor=rj;}aS.cv.push(Xo(F.bk,da,cf));break;case IPCC.Web.UI.MarkType.RectangleRedaction:K=F.get_rectangle();aS.bo.drawType='rectangle_filled_redact';aS.bo.x=K.x;aS.bo.y=K.y;aS.bo.x_percent=K.x/da;aS.bo.y_percent=K.y/cf;aS.bo.height_percent=K.height/cf;aS.bo.width_percent=K.width/da;aS.bo.height=K.height;aS.bo.width=K.width;aS.bo.meta=IPCC.R.xs(F.get_text());aS.bo.stampSize=F.get_fontSize();aS.bo.lineWidth=F.get_lineWidth();gT=F.get_fillColor();if(gT){kz=gT.replace(/#/,"");aS.bo.fillColor=parseInt(kz,16).toString();}else{aS.bo.fillColor=rj;}Ks=F.get_lineColor();if(Ks){DU=Ks.replace(/#/,"");aS.bo.lineColor=parseInt(DU,16).toString();}else{aS.bo.lineColor=rj;}Zv=F.get_textColor();if(Zv){amT=Zv.replace(/#/,"");aS.bo.fontColor=parseInt(amT,16).toString();}else{aS.bo.fontColor=rj;}if(F.bZ){aS.bo.highlightGroupID=F.bZ;}break;case IPCC.Web.UI.MarkType.Stamp:gT=F.get_fillColor();if(gT){kz=gT.replace(/#/,"");aS.bo.fillColor=parseInt(kz,16).toString();aS.bo.lineColor=parseInt(kz,16).toString();}else{aS.bo.fillColor=rj;}K=F.get_rectangle();aS.bo.x=K.x;aS.bo.y=K.y;aS.bo.x_percent=K.x/da;aS.bo.y_percent=K.y/cf;aS.bo.height_percent=K.height/cf;aS.bo.width_percent=K.width/da;aS.bo.height=K.height;aS.bo.width=K.width;if(F.jg()===true){aS.bo.drawType='stamp_redact';}else{aS.bo.drawType='stamp';}ay=F.get_text();aS.bo.stampSize=F.stampSize;aS.cv.push('<![CDATA['+ay+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(F.get_type()===IPCC.Web.UI.MarkType.Freehand){aS.bo.drawType='freehand';}else{aS.bo.drawType='signature_path';}cN=F.get_pathString();aS.bo.pathWidth=F.get_pathWidth();aS.bo.pathHeight=F.get_pathHeight();K=F.get_rectangle();aS.bo.x=K.x;aS.bo.y=K.y;aS.bo.x_percent=K.x/da;aS.bo.y_percent=K.y/cf;aS.bo.height_percent=K.height/cf;aS.bo.width_percent=K.width/da;aS.bo.height=K.height;aS.bo.width=K.width;break;case IPCC.Web.UI.MarkType.SignatureText:gT=F.get_fillColor();var dP;if(gT){kz=gT.replace(/#/,"");aS.bo.fillColor="";aS.bo.lineColor="";dP=parseInt(kz,16).toString();}else{aS.bo.fillColor="";dP=rj;}K=F.get_rectangle();aS.bo.x=K.x;aS.bo.y=K.y;aS.bo.x_percent=K.x/da;aS.bo.y_percent=K.y/cf;aS.bo.height_percent=K.height/cf;aS.bo.width_percent=K.width/da;aS.bo.height=K.height;aS.bo.width=K.width;aS.bo.opacity=0;aS.bo.drawType='signature_text';aS.bo.stampSize=F.stampSize;aS.bo.fontWidth=F.vx;aS.bo.fontHeight=F.vp;cN='';cN="<TEXTFORMAT LEADING=\"2\">";cN+="<P ALIGN=\"center\" ";cN+=">";cN+="<FONT ";zt=F.get_fontName();cN+="FACE="+"\""+zt+"\" ";vw=F.stampSize.toString();cN+="SIZE= \""+vw+"\" ";jU="\""+F.get_fillColor()+"\" ";cN+="COLOR="+jU+" ";cN+="LETTERSPACING=\"0\" ";cN+="KERNING=\"0\" ";cN+=">";ay=IPCC.R.xs(F.get_text());cN+=ay;cN+="</FONT>";cN+="</P>";cN+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!ww){K=F.get_rectangle();aS.bo.x=K.x;aS.bo.y=K.y;aS.bo.x_percent=K.x/da;aS.bo.y_percent=K.y/cf;aS.bo.height_percent=K.height/cf;aS.bo.width_percent=K.width/da;aS.bo.height=K.height;aS.bo.width=K.width;aS.bo.opacity=0;aS.bo.drawType='text_input_signature';aS.bo.stampSize=F.stampSize;aS.bo.fontWidth=F.vx;aS.bo.fontHeight=F.vp;cN='';cN="<TEXTFORMAT LEADING=\"2\">";cN+="<P ALIGN=\"left\" ";cN+=">";cN+="<FONT ";zt=F.get_fontName();cN+="FACE="+"\""+zt+"\" ";vw=F.stampSize.toString();cN+="SIZE= \""+vw+"\" ";jU="\""+F.get_textColor()+"\" ";cN+="COLOR="+jU+" ";cN+="LETTERSPACING=\"0\" ";cN+="KERNING=\"0\" ";cN+=">";ay=IPCC.R.xs(F.get_text());cN+=ay;cN+="</FONT>";cN+="</P>";cN+="</TEXTFORMAT>";}else{K=F.get_rectangle();var HF=F.stampSize;var qN;if(!F.Mt|| !F.qN){var apP=IPCC.R.aiS(F.get_text(),F.get_fontName(),K.width,K.height,{wD:"pre",dB:HF+"px"});qN=apP;F.Mt=true;F.qN=qN;}else{qN=F.qN;}HF=qN.fontSize;var iM=qN.width/K.width,bX=1.0,MIN_BUFFER=0.85;if(/mono/i.test(F.get_fontName())){MIN_BUFFER=0.75;}if(iM>MIN_BUFFER){bX=MIN_BUFFER*K.width/qN.width;HF=HF*bX;}var acF=K.width,asi=qN.height*bX,acV=K.height-(K.height-asi)/2,ady=K.x,adG=K.y+(K.height-qN.height)/2+(qN.height*(1-bX));aS.bo.x=ady;aS.bo.y=adG;aS.bo.x_percent=ady/da;aS.bo.y_percent=adG/cf;aS.bo.height_percent=acV/cf;aS.bo.width_percent=acF/da;aS.bo.height=acV;aS.bo.width=acF;aS.bo.opacity=0;aS.bo.drawType='text_redact';cN='';cN="<TEXTFORMAT>";cN+="<P ALIGN=\"left\" ";cN+=">";cN+="<FONT ";zt=F.get_fontName();cN+="FACE="+"\""+zt+"\" ";if(F.alW){vw=(HF/F.alW).toString();}else{vw=HF.toString();}cN+="SIZE= \""+vw+"\" ";jU="\""+F.get_textColor()+"\" ";cN+="COLOR="+jU+" ";cN+="LETTERSPACING=\"0\" ";cN+="KERNING=\"0\" ";cN+=">";ay=IPCC.R.xs(F.get_text());cN+=ay;cN+="</FONT>";cN+="</P>";cN+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:aS.bo.drawType=(bH===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';K=F.get_rectangle();aS.bo.x=K.x;aS.bo.y=K.y;aS.bo.height=K.height;aS.bo.width=K.width;aS.bo.lineWidth=F.get_lineWidth();aS.bo.x_percent=K.x/da;aS.bo.y_percent=K.y/cf;aS.bo.height_percent=K.height/cf;aS.bo.width_percent=K.width/da;aS.bo.imageStampId=F.rQ;break;case IPCC.Web.UI.MarkType.Strikethrough:K=F.get_rectangle();aS.bo.x=K.x;aS.bo.y=K.y;aS.bo.height=K.height;aS.bo.width=K.width;aS.bo.drawType='strikethrough';aS.bo.startIndex=F.aM;aS.bo.selectedText=F.ck;aS.bo.textLength=F.cY;aS.bo.highlightGroupID=F.bZ;aS.bo.isHighlight=F.lz;aS.cv.push(Xo(F.bk,da,cf));break;}if(ir){aS.bo.lineWidth=F.get_lineWidth();var aK=F.get_boundingRectangle();aS.bo.x=aK.x;aS.bo.y=aK.y;aS.bo.x_percent=aK.x/da;aS.bo.y_percent=aK.y/cf;aS.bo.height_percent=aK.height/cf;aS.bo.width_percent=aK.width/da;aS.bo.height=aK.height;aS.bo.width=aK.width;if(bH===IPCC.Web.UI.MarkType.Line){if(F.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){aS.bo.drawType='line';}else{aS.bo.drawType='arrow';}}else{aS.bo.drawType='polyline';}aS.bo.lineWidth=F.get_lineWidth();var aX=F.get_points();if(bH===IPCC.Web.UI.MarkType.Line){if((aX.getPoint(0).x<aX.getPoint(1).x)&&(aX.getPoint(0).y>aX.getPoint(1).y)){aS.bo.dragDirection='tr';}else if((aX.getPoint(0).x>aX.getPoint(1).x)&&(aX.getPoint(0).y>aX.getPoint(1).y)){aS.bo.dragDirection='tl';}else if((aX.getPoint(0).x>aX.getPoint(1).x)&&(aX.getPoint(0).y<aX.getPoint(1).y)){aS.bo.dragDirection='bl';}else if((aX.getPoint(0).x<aX.getPoint(1).x)&&(aX.getPoint(0).y<aX.getPoint(1).y)){aS.bo.dragDirection='br';}else{aS.bo.dragDirection='br';}}else{var AB=[];var bd=aX.get_length(),aP;if(bd>1){for(var bB=0;bB<aX.get_length();bB++){aP=aX.getPoint(bB);AB.push({x:aP.x,y:aP.y});}cN=IPCC.dh.aac(AB);}}if(DU){aS.bo.fillColor=DU;}else{aS.bo.fillColor="";}}else{aS.bo.lineWidth=F.get_lineWidth();aS.bo.dragDirection='br';}if(F.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){aS.bo.meta='';}aS.bo.label='';var fE=new Date();aS.bo.saveDate=IPCC.R.atS(fE);aS.bo.saveTime=IPCC.R.att(fE);aS.bo.uuid='';aS.bo.formUser='';aS.bo.created=IPCC.R.ajy(F.get_dateCreated());aS.bo.modified=IPCC.R.ajy(F.get_dateModified());if(F.get_type()===IPCC.Web.UI.MarkType.Text||F.get_type()===IPCC.Web.UI.MarkType.Freehand||F.get_type()===IPCC.Web.UI.MarkType.SignaturePath||F.get_type()===IPCC.Web.UI.MarkType.SignatureText||F.get_type()===IPCC.Web.UI.MarkType.Polyline||F.get_type()===IPCC.Web.UI.MarkType.TextLine){aS.cv.push('<![CDATA['+cN+']]>');}else{aS.cv.push('');}return aS;};this.azL=function(aY,da,cf,aa){var C=this;var kr={gd:'documentAnnotations',cv:[],bo:{}};var cI={gd:'pages',cv:[],bo:{}};kr.cv.push(cI);var mk={gd:'highlights',cv:[],bo:{}};kr.cv.push(mk);var vr={},uC=[];var bq={gd:'page',cv:[],bo:{id:(aY+1).toString(),pageWidth:da,pageHeight:cf}};cI.cv.push(bq);aa=aa||{};var ahM=(aa.includeAnnotations!==undefined)? ! !aa.includeAnnotations:true,ajn=(aa.includeRedactions!==undefined)? ! !aa.includeRedactions:true,aii=(aa.includeSignatures!==undefined)? ! !aa.includeSignatures:false,ww=(aa.ww!==undefined)? ! !aa.ww:false,VO=(aa.Do!==undefined)?aa.Do:false,ase= ! !ww,alo=VO?VO:ac;function awo(K){var strikethroughY=K.y+(K.height/2);var CK=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var aX=CK.pA();aX.setPoint(1,new IPCC.Web.UI.Point(K.x,strikethroughY));aX.setPoint(0,new IPCC.Web.UI.Point(K.x+K.width,strikethroughY));CK.set_lineColor(F.he);CK.set_lineWidth(F.ef);bq.cv.push(C.aol(CK,da,cf));};for(var G=0;G<alo.length;G++){var F=alo[G];var bH=F.get_type();if(F.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(ase&& !F.get_visible()){continue;}if(!VO){if(ahM===false&&ajn===false&&aii===false){break;}if(ahM===false){if(bH===IPCC.Web.UI.MarkType.Rectangle||bH===IPCC.Web.UI.MarkType.Ellipse||bH===IPCC.Web.UI.MarkType.Line||bH===IPCC.Web.UI.MarkType.Text||bH===IPCC.Web.UI.MarkType.Stamp||bH===IPCC.Web.UI.MarkType.Highlight||bH===IPCC.Web.UI.MarkType.Strikethrough||bH===IPCC.Web.UI.MarkType.HighlightText||bH===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||bH===IPCC.Web.UI.MarkType.Freehand||bH===IPCC.Web.UI.MarkType.ImageStampAnnotation||bH===IPCC.Web.UI.MarkType.Polyline){if(F.jg()===false){continue;}}}if(ajn===false){if(F.jg()===true){continue;}if(bH===IPCC.Web.UI.MarkType.RectangleRedaction||bH===IPCC.Web.UI.MarkType.TextSelectionRedaction||bH===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(aii===false){if(bH===IPCC.Web.UI.MarkType.SignaturePath||bH===IPCC.Web.UI.MarkType.SignatureText||bH===IPCC.Web.UI.MarkType.SignatureImage||bH===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(bH){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:vr[F.rQ]={gd:'stampImage',cv:[],bo:{imageStampId:F.rQ,base64format:F.dj()}};break;case IPCC.Web.UI.MarkType.Strikethrough:if(ww){IPCC.R.forEach(F.bk,awo);}break;}bq.cv.push(this.aol(F,da,cf,ww));}for(var LF in vr){if(vr.hasOwnProperty(LF)){uC.push(vr[LF]);}}return{kr:kr,uC:uC};};this.aAa=function(){var eC={m:[]};var G;for(G=0;G<ac.length;G++){eC.m.push(ac[G].azK());}C.aH('marksSaved',{});var ali="";ali=IPCC.dh.aac(eC);return ali;};this.yH=function(T){al.addHandler('markAdded',T);};this.xP=function(T){al.removeHandler('markAdded',T);};this.Ez=function(T){al.addHandler('markChanged',T);};this.ER=function(T){al.removeHandler('markChanged',T);};this.AF=function(T){al.addHandler('markRemoved',T);};this.xS=function(T){al.removeHandler('markRemoved',T);};this.Eu=function(T){al.addHandler('markReordered',T);};this.Gz=function(T){al.removeHandler('markReordered',T);};this.OY=function(T){al.addHandler('marksLoaded',T);};this.Sp=function(T){al.removeHandler('marksLoaded',T);};this.axy=function(T){al.addHandler('marksSaved',T);};this.aBy=function(T){al.removeHandler('marksSaved',T);};this.CY=function(T){al.addHandler('markSelectionChanged',T);};this.Gm=function(T){al.removeHandler('markSelectionChanged',T);};this.Ln=function(T){al.addHandler('markTextSelectionChanged',T);};this.LC=function(T){al.removeHandler('markTextSelectionChanged',T);};this.xw=function(T){al.addHandler('commentAdded',T);};this.Fl=function(T){al.removeHandler('commentAdded',T);};this.xv=function(T){al.addHandler('commentRemoved',T);};this.Fk=function(T){al.removeHandler('commentRemoved',T);};this.wV=function(T){al.addHandler('commentChanged',T);};this.wK=function(T){al.removeHandler('commentChanged',T);};this.ij=function(T){al.addHandler('propertyChanged',T);};this.mr=function(T){al.removeHandler('propertyChanged',T);};this.aH=function(bE,H){var T=al.getHandler(bE);if(T!==null){T(this,H);}};this.bS=function(dK){var T=al.getHandler("propertyChanged");if(T){T(this,new IPCC.pQ(dK));}};return this;};IPCC.Web.UI.ArtPage.prototype={get_markCount:function(){return this.Xy();},get_selectedMarks:function(){return this.zY();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.Pz(mark,mouseLocation);},forEachMark:function(method,context){this.EZ(method,context);},getMark:function(zIndex){return this.Sf(zIndex);},getZIndexOfMark:function(mark){return this.nN(mark);},loadFromJson:function(json){this.aFE(json);},removeAllMarks:function(){this.VI();},removeMark:function(mark){this.wj(mark);},reorderMark:function(mark,zIndex){this.age(mark,zIndex);},saveToJson:function(){return this.aAa();},add_markAdded:function(handler){this.yH(handler);},remove_markAdded:function(handler){this.xP(handler);},add_markChanged:function(handler){this.Ez(handler);},remove_markChanged:function(handler){this.ER(handler);},add_markRemoved:function(handler){this.AF(handler);},remove_markRemoved:function(handler){this.xS(handler);},add_markReordered:function(handler){this.Eu(handler);},remove_markReordered:function(handler){this.Gz(handler);},add_marksLoaded:function(handler){this.OY(handler);},remove_marksLoaded:function(handler){this.Sp(handler);},add_markSelectionChanged:function(handler){this.CY(handler);},remove_markSelectionChanged:function(handler){this.Gm(handler);},add_markTextSelectionChanged:function(handler){this.Ln(handler);},remove_markTextSelectionChanged:function(handler){this.LC(handler);},add_commentAdded:function(handler){this.xw(handler);},remove_commentAdded:function(handler){this.Fl(handler);},add_commentRemoved:function(handler){this.xv(handler);},remove_commentRemoved:function(handler){this.Fk(handler);},add_commentChanged:function(handler){this.wV(handler);},remove_commentChanged:function(handler){this.wK(handler);}};IPCC.Web.UI.ArtPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ArtPage.registerClass('IPCC.Web.UI.ArtPage');IPCC.Web.UI.aEI=function(){this.gd=undefined;this.cv=[];this.bo={};};IPCC.GO=function(){};IPCC.GO.prototype.nS=function(V){this.V=V;this.aN=V.am();this.ix=this.aN.get_cursor();this.aN.set_cursor(IPCC.aO.RunMarks);this.aN.Ed(IPCC.aO.Link);};IPCC.GO.prototype.ht=function(){this.aN.set_cursor(this.ix);this.aN.Ed(IPCC.aO.Default);this.V=false;};IPCC.GO.prototype.az=function(){};IPCC.oq=function(){this.bO=false;this.V=false;};IPCC.oq.prototype.nS=function(V){this.V=V;this.V.acl(true);this.aN=V.am();this.ix=this.aN.get_cursor();this.aN.set_cursor(IPCC.aO.EditMarks);this.aN.Ed(IPCC.aO.Move);};IPCC.oq.prototype.ht=function(){this.aN.set_cursor(this.ix);this.aN.Ed(IPCC.aO.Default);if(arguments[0]){if(arguments[0]===true){this.V=false;return;}}this.V.acl(false);this.V=false;};IPCC.oq.prototype.az=function(){if(this.bO){this.aN.set_cursor(IPCC.aO.EditMarks);this.aN.Ed(IPCC.aO.Move);this.V.Dp(true);this.aN.re();this.bO=false;this.V.cg();}};IPCC.oq.prototype.wq=function(H){this.az();var F=H.mark;if(F&&F.kI()===IPCC.Web.UI.MarkType.Text){this.V.yJ(F);this.V.cg();}};IPCC.oq.prototype.jK=function(H){this.az();var hZ=H.domEvent;if(hZ.button===0){var dR=hZ.target;this.cL=dR.ImGearMarkHandle;if(this.cL){this.vD=this.cL.bP;this.nY=this.cL.bC;}else{this.vD=null;this.nY=null;}while(!(dR.ImGearMarkRelation)&&dR.parentNode&&dR!==document.body){dR=dR.parentNode;}this.J=dR.ImGearMarkRelation;if(this.J){this.F=this.J.F;}else{this.F=null;}this.bO=true;this.OM=H.imagePoint;this.HI=H.imagePoint;var F=this.F;if(!F||F.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!hZ.shiftKey){this.V.et().zY().removeAllMarks();}this.aN.GS(H.imagePoint);}else{var gz,K;switch(this.vD){case IPCC.ag.aG.prototype.VM:this.jc=F.eo();this.abX=Math.abs(this.jc.width);this.GP=Math.abs(this.jc.height);gz={x:this.jc.x,y:this.jc.y};this.OO={x:this.jc.x+this.jc.width,y:this.jc.y+this.jc.height};if(this.nY>0&&this.nY<3){gz.x+=this.jc.width;this.OO.x-=this.jc.width;}if(this.nY>1){gz.y+=this.jc.height;this.OO.y-=this.jc.height;}this.aEW=gz;break;case IPCC.ag.aG.prototype.UJ:K=F.eo();this.jc=K;gz={x:K.x+K.width/2,y:K.y+K.height/2};switch(this.nY){case 0:this.Dy=K.y+K.height;gz.y=K.y;break;case 1:this.Dy=K.x;gz.x=K.x+K.width;break;case 2:this.Dy=K.y;gz.y=K.y+K.height;break;case 3:this.Dy=K.x+K.width;gz.x=K.x;break;}break;case IPCC.ag.aG.prototype.KI:this.aX=F.pA();if(this.nY<0||this.nY>this.aX.dY()){this.az();}gz=this.aX.getPoint(this.nY);break;case IPCC.ag.aG.prototype.Hc:break;case IPCC.ag.aG.prototype.ZT:K=F.eo();gz={x:K.x+F.ow.x,y:K.y+F.ow.y};break;default:var zj=F.get_selected();if(hZ.ctrlKey||hZ.shiftKey){zj= !zj;F.set_selected(zj);}else{if(!zj){zj=true;this.V.et().zY().removeAllMarks();if(F.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var G=0;G<this.V.et().get_markCount();G++){var WS=this.V.et().getMark(G);if(WS.kI()===608&&WS.bZ===F.bZ){WS.set_selected(zj);}}}else{F.set_selected(zj);}}}if(!zj){this.az();}break;}if(this.bO&&gz){this.asj=gz.x-this.OM.x;this.asT=gz.y-this.OM.y;if(this.cL){this.aN.set_cursor(this.cL.dG);this.aN.Ed(this.cL.dG);}}}if(this.bO){this.V.Dp(false);}}this.V.cg();};IPCC.oq.prototype.kZ=function(H){var hZ=H.domEvent;var HI;function awT(aBT){aBT.Me(H.imagePoint.x-HI.x,H.imagePoint.y-HI.y);};if(hZ.button!==0){this.az();}if(this.bO){var F=this.F;if(!F||F.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.aN.De(H.imagePoint);}else{var gz={x:H.imagePoint.x+this.asj,y:H.imagePoint.y+this.asT};var K;switch(this.vD){case IPCC.ag.aG.prototype.VM:var qg={x:gz.x,y:gz.y};var kU={x:this.OO.x,y:this.OO.y};if(hZ.ctrlKey){kU.x=this.jc.x+this.jc.width/2;kU.y=this.jc.y+this.jc.height/2;}if(hZ.shiftKey){var tI=Math.abs(qg.x-kU.x);var tp=Math.abs(qg.y-kU.y);if(tI*this.GP<tp*this.abX){if(this.GP>0.001){tI=tp*this.abX/this.GP;}}else{if(this.GP>0.001){tp=tI*this.GP/this.abX;}}if(qg.x<kU.x){tI= -tI;}if(qg.y<kU.y){tp= -tp;}qg.x=kU.x+tI;qg.y=kU.y+tp;}if(hZ.ctrlKey){kU={x:kU.x-(qg.x-kU.x),y:kU.y-(qg.y-kU.y)};}K={};K.x=Math.min(kU.x,qg.x);K.width=Math.max(kU.x,qg.x)-K.x;K.y=Math.min(kU.y,qg.y);K.height=Math.max(kU.y,qg.y)-K.y;F.set_rectangle(K);break;case IPCC.ag.aG.prototype.UJ:K=F.eo();var FJ;if(this.nY&1){if(hZ.ctrlKey){FJ=this.jc.x+this.jc.width/2;K.width=Math.abs(gz.x-FJ)*2;K.x=FJ-K.width/2;}else{K.x=Math.min(gz.x,this.Dy);K.width=Math.max(gz.x,this.Dy)-K.x;}}else{if(hZ.ctrlKey){FJ=this.jc.y+this.jc.height/2;K.height=Math.abs(gz.y-FJ)*2;K.y=FJ-K.height/2;}else{K.y=Math.min(gz.y,this.Dy);K.height=Math.max(gz.y,this.Dy)-K.y;}}F.set_rectangle(K);break;case IPCC.ag.aG.prototype.KI:this.aX=F.pA();gz=this.aX.setPoint(this.nY,gz);break;case IPCC.ag.aG.prototype.Hc:break;case IPCC.ag.aG.prototype.ZT:K=F.eo();F.set_calloutPoint({x:gz.x-K.x,y:gz.y-K.y});break;default:HI=this.HI;this.HI=H.imagePoint;this.V.et().zY().mq(awT);break;}}this.V.cg();}};IPCC.oq.prototype.it=function(){function ayM(F){var Kp=F.apk();if(ada.contains(Kp)&&ada.contains({x:Kp.x+Kp.width,y:Kp.y+Kp.height})){F.set_selected(true);}};if(this.bO){if(!this.F){var ada=this.aN.zS();this.V.et().EZ(ayM);this.aN.re();}this.az();}};IPCC.oq.prototype.nZ=function(H){var aL=this.V.eN();if(H.windowPoint.x<=0||H.windowPoint.x>=aL.width-2){this.az();}if(H.windowPoint.y<=0||H.windowPoint.y>=aL.height-2){this.az();}};IPCC.oq.prototype.mP=function(){this.az();};IPCC.Web.UI.Comment=function(text){var al=new IPCC.Web.UI.gj();var df=new IPCC.Web.UI.Data();this.aaJ=IPCC.R.AS(new Date());this.ay=text;this.aqC=function(ay){if(ay===this.ay){return;}this.ay=ay;var H=new IPCC.Web.UI.CommentEventArgs();H.comment=this;H.length=1;this.aH('commentChanged',H);};this.aum=function(){return this.ay;};this.aDS=function(aBl){this.aaJ=aBl;};this.auQ=function(){return this.aaJ;};this.wV=function(T){al.addHandler('commentChanged',T);};this.wK=function(T){al.removeHandler('commentChanged',T);};this.aH=function(bE,H){var T=al.getHandler(bE);if(T!==null){T(this,H);}};this.yT=function(){return df;};return this;};IPCC.Web.UI.Comment.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.wV(handler);},remove_commentChanged:function(handler){this.wK(handler);},get_text:function(){return this.aum();},set_text:function(text){this.aqC(text);},get_creationTime:function(){return this.auQ();},set_creationTime:function(isoTimeString){this.aDS(isoTimeString);},get_data:function(){return this.yT();}};IPCC.Web.UI.Comment.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Comment.registerClass('IPCC.Web.UI.Comment');IPCC.Web.UI.Conversation=function(ayw){var gm=[];var al=new IPCC.Web.UI.gj();var df=new IPCC.Web.UI.Data();var F=ayw;var C=this;function OG(aj,H){C.aH('commentChanged',H);};this.Ld=function(cU){cU.add_commentChanged(OG);gm.push(cU);var H=new IPCC.Web.UI.CommentEventArgs();H.comment=cU;H.length=1;H.index=gm.length-1;this.aH('commentAdded',H);};this.aBm=function(cU){var YO= -1;IPCC.R.forEach(gm,function(el,idx){if(el===cU){YO=idx;}});if(YO=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var afS=gm.splice(YO,1)[0];afS.wK(OG);var H=new IPCC.Web.UI.CommentEventArgs();H.comment=afS;H.length=1;this.aH('commentRemoved',H);};this.mq=function(jv,cQ){var G;for(G=0;G<gm.length;G++){jv.call(cQ,gm[G],G,this);}};this.dY=function(){return gm.length;};this.xw=function(T){al.addHandler('commentAdded',T);};this.Fl=function(T){al.removeHandler('commentAdded',T);};this.wV=function(T){al.addHandler('commentChanged',T);};this.wK=function(T){al.removeHandler('commentChanged',T);};this.xv=function(T){al.addHandler('commentRemoved',T);};this.Fk=function(T){al.removeHandler('commentRemoved',T);};this.yT=function(){return df;};this.MK=function(){return F;};this.aH=function(bE,H){var T=al.getHandler(bE);if(T!==null){T(this,H);}};return this;};IPCC.Web.UI.Conversation.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.Ld(comment);},removeCommentInstance:function(comment){this.aBm(comment);},forEach:function(method,context){this.mq(method,context);},get_length:function(){return this.dY();},add_commentAdded:function(handler){this.xw(handler);},remove_commentAdded:function(handler){this.Fl(handler);},add_commentChanged:function(handler){this.wV(handler);},remove_commentChanged:function(handler){this.wK(handler);},add_commentRemoved:function(handler){this.xv(handler);},remove_commentRemoved:function(handler){this.Fk(handler);},get_data:function(){return this.yT();},get_mark:function(){return this.MK();}};IPCC.Web.UI.Conversation.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Conversation.registerClass('IPCC.Web.UI.Conversation');IPCC.Web.UI.Data=function(){this.df={};this.yT=function(key){if(typeof key==='undefined'){return IPCC.R.extend({},this.df);}else if(typeof key==='string'){return this.df[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aDk=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.df[key]=value;}else if(typeof value==='undefined'){delete this.df[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.atw=function(){var keys=[];IPCC.R.forEach(this.df,function(value,key){keys.push(key);});return keys;};return this;};IPCC.Web.UI.Data.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.yT(key);},set_data:function(key,value){return this.aDk(key,value);},get_dataKeys:function(){return this.atw();}};IPCC.Web.UI.Data.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Data.registerClass('IPCC.Web.UI.Data');IPCC.ag={};IPCC.Ik=function(V){var aE=this;this.agF='filter';this.agW=function(cs){return 'progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(cs*100)+');';};this.Tz=true;this.Yy=function(af,cE,mW,ar,nA,oZ){if(af.HV){af.tc.afM(cE,mW,ar,af.ke);}};this.aen=function(){};this.aik(V);this.anX=function(aQ){return new IPCC.Fn(aQ.clientWidth,aQ.clientHeight,window.screen.deviceXDPI,window.screen.deviceYDPI);};this.aaG=function(bD){aE.jK(bD);};this.alk=function(bD){aE.wq(bD);};this.SG=function(bD){aE.kZ(bD);};this.Ds=function(bD){aE.mP(bD);};this.Sz=function(bD){aE.it(bD);};this.YK=function(bD){bD.returnValue=false;aE.jK(bD);};this.Yr=function(bD){bD.returnValue=false;aE.kZ(bD);};this.Zi=function(bD){bD.returnValue=false;aE.it(bD);};this.ZL=function(bD){aE.Qb(bD);};this.WZ=function(bD){if(bD.target!==document.activeElement){aE.ahm(bD);}};this.Wf=function(bD){if(bD.target!==document.activeElement){aE.aiI(bD);}};this.agu=function(){var eh=V.jS().igElements.lT;IPCC.Web.UI.aT.addHandler(eh,"mousewheel",this.Ds);IPCC.Web.UI.aT.addHandler(eh,"dblclick",this.alk);};this.ama=function(){var eh=V.jS().igElements.lT;IPCC.Web.UI.aT.removeHandler(eh,"mousewheel",this.Ds);IPCC.Web.UI.aT.removeHandler(eh,"dblclick",this.alk);};this.aoI=function(af,hi,oz,zg){var G,bm,aQ;for(G=0;G<oz.fu.length;G++){bm=oz.fu[G];aQ=document.createElement('div');bm.pool.parentElementID=zg+G.toString();aQ.id=bm.pool.parentElementID;aQ.style.width='0px';aQ.style.height='0px';aQ.setAttribute('tabindex','-1');hi.appendChild(aQ);}};this.ahJ=function(fm){var OQ=this.Yz();var FD=fm.pool;var hi=document.getElementById(FD.parentElementID);var aQ;aQ=document.createElement('img');aQ.id=OQ;if(V.am().get_presentationQuality()>49){aQ.style.msInterpolationMode='bicubic';}else{aQ.style.msInterpolationMode='nearest-neighbor';}aQ.style.position='absolute';aQ.style.display='none';aQ.setAttribute('tabindex','-1');aQ.setAttribute('hidefocus','true');hi.appendChild(aQ);fm.elementID=OQ;aQ.poolItem=fm;};this.agM=function(fm){var aQ=document.getElementById(fm.elementID);this.sA(aQ.style,'display','none');};this.YF=function(fm){var aQ=document.getElementById(fm.elementID);if(aQ===null){fm.elementID='';return;}aQ.src='';aQ.parentElement.removeChild(aQ);fm.elementID='';};var CW=function(bD){try{IPCC.Web.UI.aT.removeHandler(bD.target,'load',CW);bD.target.onabort=null;bD.target.onerror=null;var fm=bD.target.poolItem;fm.loaded=true;aE.xh();}catch(ex){V.h('downloadImage',ex);var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=ex;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}};var azX=function(){try{var bD=window.event;IPCC.Web.UI.aT.removeHandler(bD.srcElement,'load',CW);bD.srcElement.onabort=null;bD.srcElement.onerror=null;var fm=bD.srcElement.poolItem;fm.loaded=false;var cj='An image download was aborted by the user';if(typeof(V.jS)==='function'){cj+='Div Id = '+V.jS().id;}throw new IPCC.Web.UI.ImGearException(cj,{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){V.h('downloadImage',ex);var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=ex;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}};var aAH=function(){try{var bD=window.event;IPCC.Web.UI.aT.removeHandler(bD.srcElement,'load',CW);bD.srcElement.onabort=null;bD.srcElement.onerror=null;var fm=bD.srcElement.poolItem;fm.loaded=false;var cj='An image failed to load. Error status ';if(typeof(V.jS)==='function'){cj+='Div Id = '+V.jS().id;}throw new IPCC.Web.UI.ImGearException(cj,{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){V.h('downloadImage',ex);var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=ex;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}};this.Wa=function(aQ,dk,rs){var pj=true;var ng=0;if(V.iR()===0){pj=false;}function fe(ao){var ad;try{var ap,dg;if(ao.status===200){ap=null;try{var mJ=ao.getResponseHeader("Accusoft-Data-Encrypted");if(mJ==='true'){var sk=IPCC.Web.hG.pq.rN(ao.getResponseHeader("Accusoft-Data-SK"));var aq=IPCC.Web.HK(sk,gk);var dM=IPCC.Web.Ep(ao);var sL=IPCC.Web.Bd(dM,aq,gk);var Jl=IPCC.Web.hG.pq.mZ(sL,0,0);aQ.setAttribute('src','data:'+rs+';base64,'+Jl);}else{aQ.setAttribute('src',dk);}}catch(ex){dg="Image error, Error message = "+ex.message;ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=ex;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);throw new IPCC.Web.UI.ImGearArgumentException(null,dg);}}}catch(e){V.h('openPage',e);if(typeof(V.aH)==='function'){ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}}};function fg(ap){var hj=ap.response.status,lb,km,dg,ad;try{if(!ap.response){throw new IPCC.Web.UI.ImGearHttpException(hj,"Client Image load timeout");}if(hj===403){ng++;if(ap.response.statusText&&ap.response.statusText!==""){dg="Expired viewer session ID, error message from the server: "+ap.response.statusText;}else{dg="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hj,dg);}lb=ap.response.getResponseHeader('Accusoft-Status-Message');if(lb){var nz;km=ap.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vt(km)){nz=parseInt(km,10);}throw new IPCC.Web.UI.ImGearHttpException(hj,lb,nz);}else{if(ap.response.statusText&&ap.response.statusText!==""){dg=ap.response.statusText;}else{dg="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hj,dg);}}catch(e){V.h('openPage',e);if(typeof(V.aH)==='function'){ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}}};var gZ={method:'GET'};if(V.XS()&&V.ed()===true){var gk=IPCC.Web.qP.RS(4);var nF=IPCC.Web.hG.FT.mZ(gk);var ZI=dk+'&iv='+nF;gZ.url=ZI;}else{gZ.url=dk;}if(pj===true){gZ.timeout=V.iR();}IPCC.R.mB.es(gZ).then(fe,fg);};this.ajP=function(jN){var G;for(G=0;G<jN.length;G++){var aQ=document.getElementById(jN[G].poolItem.elementID);aQ.style.visibility='hidden';IPCC.Web.UI.aT.addHandler(aQ,'load',CW);aQ.onabort=azX;aQ.onerror=aAH;if(V.XS()&&V.ed()===true){this.Wa(aQ,jN[G].url,'image/png');}else{aQ.setAttribute('src',jN[G].url);}}};this.UN=function(hd,asq,SD,ws){var mw=document.getElementById(hd.poolItem.elementID);if(SD){this.sA(mw,'width',Math.round(ws.height));this.sA(mw,'height',Math.round(ws.width));}else{this.sA(mw,'width',Math.round(ws.width));this.sA(mw,'height',Math.round(ws.height));}this.sA(mw.style,'left',ws.x.toString());this.sA(mw.style,'top',ws.y.toString());this.sA(mw.style,'filter',asq);this.sA(mw.style,'visibility','visible');this.sA(mw.style,'display','block');};this.Vk=function(jN,cs,cE){var G;if(jN.length<1){return;}var DX='';if(cs<1){DX='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(cs*100).toString()+')';}var eY=cE.clone();var AW=1/jN[0].level.bX;var Ft=IPCC.fq(AW,0,0,AW,0,0);eY.Cf(Ft);var oY=eY.Mf();if(oY){Ft=new IPCC.fq(-1,0,0,1,0,0);eY.append(Ft);}var rv=Math.round(eY.Dh()/90);Ft=new IPCC.fq(1,0,0,1,0,0);Ft.rotate(rv*90);eY.Cf(Ft);var ahv='';if(oY||rv!==0){ahv+='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(oY?'1':'0')+', rotation='+rv.toString()+')';}var SD=(rv===1||rv===3);var hL,Fi,ws;for(G=0;G<jN.length;G++){hL=jN[G];AW=1/hL.level.bX;Fi={x:hL.x*AW,y:hL.y*AW};Fi.width=hL.right*AW-Fi.x;Fi.height=hL.bottom*AW-Fi.y;ws=cE.wh(Fi);this.UN(jN[G],DX+ahv,SD,ws);}};};IPCC.Ik.prototype=new IPCC.aG();IPCC.ag.Ik=function(){};IPCC.ag.Ik.prototype={alM:function(V,af,ar){this.V=V;this.aN=V.am();this.af=af;this.da=ar.width;this.cf=ar.height;this.Cd=ar.gy;this.aDa=ar.hc;if(!document.namespaces.igvml){document.namespaces.add('igvml','urn:schemas-microsoft-com:vml');var style=document.createStyleSheet();style.addRule('igvml\\:group','behavior: url(#default#VML); display:inline-block;position:absolute;');style.addRule('igvml\\:oval','behavior: url(#default#VML); display:inline-block;position:absolute;');style.addRule('igvml\\:rect','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:fill','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:polyline','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:shape','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:skew','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:stroke','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:fill','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:textpath','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:roundrect','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:textbox','behavior: url(#default#VML); display:inline-block;');}af.nP=document.createElement('div');af.XP.insertBefore(af.nP,af.xj);},Jd:function(J){var cn='vmltextmark-'+J.F.gU();var oU=document.createElement('div');oU.style.position='absolute';oU.style.top=oU.style.left='0';oU.style.width=oU.style.height='100%';oU.style.background='blue';oU.style['filter']="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";oU.setAttribute('data-pcc-mark',cn);return oU;},amB:function(J){J.oi=[];J.iw=[];var cn='vmlmark-'+J.F.gU(),C=this,ug,nk,ib,eu,QH;switch(J.F.get_type()){case IPCC.Web.UI.MarkType.Rectangle:J.bg=this.as('rect');J.lk=this.as('fill');J.bg.appendChild(J.lk);if(J.F.jg()&&J.F.get_opacity()===255){IPCC.Web.UI.aT.addHandler(J.bg,"mouseover",function(){J.bg.style.filter='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(127/2.55)+')';});IPCC.Web.UI.aT.addHandler(J.bg,"mouseout",function(){J.bg.style.filter='';});}break;case IPCC.Web.UI.MarkType.HighlightText:cn="highlighttextannotation-"+J.F.gU();J.bg=this.as('group');J.bg.setAttribute('data-pcc-mark',cn);this.fj(J.bg,{width:this.da*100+'px',height:this.cf*100+'px'});J.ei=this.as('group');J.bg.appendChild(J.ei);this.fj(J.ei,{width:this.da*100+'px',height:this.cf*100+'px'});J.kW=this.as('shape');J.oi.push(J.kW);J.qy=this.as('stroke');this.ba(J.qy,{on:'true'});J.kW.appendChild(J.qy);J.qy.imgearUnstyled=true;J.bg.appendChild(J.kW);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:cn="texthyperlinkannotation-"+J.F.gU();J.bg=this.as('group');J.bg.setAttribute('data-pcc-mark',cn);this.fj(J.bg,{width:this.da*100+'px',height:this.cf*100+'px'});J.ei=this.as('group');J.bg.appendChild(J.ei);this.fj(J.ei,{width:this.da*100+'px',height:this.cf*100+'px'});J.kW=this.as('shape');J.oi.push(J.kW);this.fj(J.kW,{cursor:IPCC.aO.ek(IPCC.aO.Link)});J.qy=this.as('stroke');this.ba(J.qy,{on:'true'});J.kW.appendChild(J.qy);J.qy.imgearUnstyled=true;J.bg.appendChild(J.kW);J.yn=this.as('shape');J.oi.push(J.yn);this.fj(J.yn,{cursor:IPCC.aO.ek(IPCC.aO.Link)});J.IR=this.as('stroke');J.iw.push(J.IR);this.ba(J.IR,{on:'true'});J.yn.appendChild(J.IR);J.IR.imgearUnstyled=true;J.bg.appendChild(J.yn);IPCC.Web.UI.aT.addHandler(J.bg,"mouseover",function(){J.yn.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ag.aG.ys(true,J.F.get_selected())*100+")";});IPCC.Web.UI.aT.addHandler(J.bg,"mouseout",function(){J.yn.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ag.aG.ys(false,J.F.get_selected())*100+")";});break;case IPCC.Web.UI.MarkType.DocumentHyperlink:cn="documenthyperlink-"+J.F.gU();J.bg=this.as('group');J.bg.setAttribute('data-pcc-mark',cn);J.K=this.as('roundrect');J.WE=this.as('fill');J.tm=this.as('stroke');J.K.appendChild(J.WE);J.K.appendChild(J.tm);J.bg.appendChild(J.K);this.fj(J.K,{cursor:IPCC.aO.ek(IPCC.aO.Link)});if(J.F.xO==='Underline'&&J.F.ef>0){J.kX=this.as('rect');J.afI=this.as('stroke');J.YB=this.as('fill');J.kX.appendChild(J.afI);J.kX.appendChild(J.YB);J.bg.appendChild(J.kX);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:J.bg=this.as('shape');J.gx=document.createElement('img');J.gx.setAttribute('data-pcc-mark',cn);J.gx.setAttribute("src",J.F.get_image());J.gx.setAttribute("class",'pcc-image-stamp-img');J.gx.removeAttribute('height');J.gx.removeAttribute('width');var oU=this.Jd(J);oU.setAttribute('data-pcc-mark',cn);J.bg.appendChild(J.gx);J.bg.appendChild(oU);break;case IPCC.Web.UI.MarkType.RectangleRedaction:J.bg=this.as('group');this.fj(J.bg,{width:this.da*100+'px',height:this.cf*100+'px'});J.gF=this.as('rect');J.bg.appendChild(J.gF);this.fj(J.gF,{width:this.da*100+'px',height:this.cf*100+'px'});J.lk=this.as('fill');J.gF.appendChild(J.lk);J.mo=this.as('stroke');J.gF.appendChild(J.mo);J.iw.push(J.mo);J.tx=document.createTextNode('');J.Sn=document.createElement('div');J.Sn.setAttribute('class','pcc-valign-mid');J.ts=document.createElement('div');J.ts.setAttribute('class','pcc-cell-content');J.ts.style.height='1px';J.ts.style.width='1px';J.de=document.createElement('div');J.de.style.position='absolute';J.de.style.overflow='hidden';J.de.style.display='table';if(document.documentMode>=8){J.de.style.whiteSpace='pre-wrap';}J.ts.appendChild(J.tx);J.de.appendChild(J.Sn);J.Sn.appendChild(J.ts);cn='vmltextmark-'+J.F.gU();J.lk.setAttribute('data-pcc-mark',cn);J.gF.setAttribute('data-pcc-mark',cn);J.mo.setAttribute('data-pcc-mark',cn);J.de.setAttribute('data-pcc-mark',cn);J.Sn.setAttribute('data-pcc-mark',cn);J.ts.setAttribute('data-pcc-mark',cn);IPCC.Web.UI.aT.addHandler(J.de,"mouseover",function(){if(C.V.lO()===false&&J.F.get_selected()===false){J.lk.opacity=0.5;J.mo.opacity=0.5;J.de.style.filter='progid:DXImageTransform.Microsoft.Alpha(opacity=0);';}});IPCC.Web.UI.aT.addHandler(J.de,"mouseout",function(){if(C.V.lO()===false&&J.F.get_selected()===false){J.lk.opacity=1;J.mo.opacity=1;J.de.style.filter='progid:DXImageTransform.Microsoft.Alpha(opacity=100);';}});break;case IPCC.Web.UI.MarkType.Ellipse:J.bg=this.as('oval');J.lk=this.as('fill');J.bg.appendChild(J.lk);break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:J.bg=this.as('group');this.fj(J.bg,{width:this.da*100+'px',height:this.cf*100+'px'});J.bg.setAttribute('data-pcc-mark',cn);J.jn=this.as('shape');this.ba(J.jn,{filled:'f'});J.oi.push(J.jn);J.wS=this.as('stroke');J.iw.push(J.wS);this.ba(J.wS,{on:'true'});J.jn.appendChild(J.wS);J.wS.setAttribute('joinstyle','miter');J.wS.setAttribute('miterlimit','4');J.wS.setAttribute('endcap','flat');J.wZ=this.as('shape');J.oi.push(J.wZ);J.IC=this.as('stroke');J.iw.push(J.IC);this.ba(J.IC,{on:'true'});J.wZ.appendChild(J.IC);J.IC.imgearUnstyled=true;J.wB=this.as('shape');J.oi.push(J.wB);J.He=this.as('stroke');J.iw.push(J.He);this.ba(J.He,{on:'true'});J.wB.appendChild(J.He);J.He.imgearUnstyled=true;J.bg.appendChild(J.jn);J.bg.appendChild(J.wZ);J.bg.appendChild(J.wB);break;case IPCC.Web.UI.MarkType.Polygon:J.bg=this.as('shape');J.oi.push(J.bg);break;case IPCC.Web.UI.MarkType.Text:J.bg=this.as('group');this.fj(J.bg,{width:this.da*100+'px',height:this.cf*100+'px'});J.qR=this.as('shape');J.oi.push(J.qR);J.Kt=this.as('stroke');J.iw.push(J.Kt);J.qR.appendChild(J.Kt);J.bg.appendChild(J.qR);J.Kt.imgearUnstyled=true;J.lk=this.as('fill');J.qR.appendChild(J.lk);J.jn=this.as('shape');this.ba(J.jn,{filled:'f'});J.oi.push(J.jn);J.wS=this.as('stroke');J.iw.push(J.wS);this.ba(J.wS,{on:'true'});J.jn.appendChild(J.wS);J.bg.appendChild(J.jn);J.ri=this.as('shape');this.ba(J.ri,{filled:'f'});J.oi.push(J.ri);J.xE=this.as('stroke');J.iw.push(J.xE);this.ba(J.xE,{on:'true'});J.ri.appendChild(J.xE);J.bg.appendChild(J.ri);J.xE.imgearUnstyled=true;J.tx=document.createTextNode('');J.de=document.createElement('div');J.de.style.position='absolute';J.de.style.overflow='hidden';if(document.documentMode>=8){J.de.style.whiteSpace='pre-wrap';}J.de.appendChild(J.tx);cn='vmltextmark-'+J.F.gU();J.qR.setAttribute('data-pcc-mark',cn);J.Kt.setAttribute('data-pcc-mark',cn);J.jn.setAttribute('data-pcc-mark',cn);J.ri.setAttribute('data-pcc-mark',cn);J.xE.setAttribute('data-pcc-mark',cn);J.de.setAttribute('data-pcc-mark',cn);break;case IPCC.Web.UI.MarkType.Highlight:J.bg=this.as('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:J.bg=this.as('group');J.ei=J.bg;this.fj(J.bg,{width:this.da*100+'px',height:this.cf*100+'px'});break;case IPCC.Web.UI.MarkType.Stamp:J.bg=this.as('roundrect');J.ut=document.createTextNode('');J.en=document.createElement('div');ib=J.F.ay;J.F.zB=false;J.F.he=J.F.dP;eu={};eu.color=J.F.dP;eu.fontFamily="Arial";this.fj(J.en,eu);if(!ib){ib=J.F.cv[0];J.F.ay=ib;if(!ib){ib="APPROVED";}}oU=this.Jd(J);oU.setAttribute('data-pcc-mark',cn);J.ut.data=ib;J.en.appendChild(J.ut);J.bg.appendChild(J.en);J.bg.appendChild(oU);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var F=J.F;var uf=F.get_pathWidth();var tY=F.get_pathHeight();var rZ=F.get_pathString();var dm=IPCC.R.xz.Path(rZ,{width:uf,height:tY,multiplier:100,thickness:(F.Lx>0)?F.Lx:F.get_lineWidth(),color:F.get_lineColor()});J.bg=dm;var aAj=this.Jd(J);J.bg.appendChild(aAj);break;case IPCC.Web.UI.MarkType.SignatureText:J.bg=this.as('rect');J.ut=document.createTextNode('');J.en=document.createElement('div');J.en.setAttribute('data-pcc-mark',cn);ug=J.F.ay;J.F.zB=false;J.F.he="none";J.F.cs=255;nk={};nk.color=J.F.dP;nk.fontFamily=J.F.get_fontName();nk.textAlign="center";this.fj(J.en,nk);if(nk.fontFamily){J.en.style.fontFamily='"'+nk.fontFamily+'", cursive';}if(!ug){ug=J.F.cv[0];J.F.ay=ug;}QH=this.Jd(J);J.ut.data=ug;J.en.appendChild(J.ut);J.bg.appendChild(J.en);J.bg.appendChild(QH);break;case IPCC.Web.UI.MarkType.TextLine:J.bg=this.as('rect');J.ut=document.createTextNode('');J.en=document.createElement('div');J.en.setAttribute('data-pcc-mark',cn);ug=J.F.ay;nk={};nk.color=J.F.dP;nk.fontFamily=J.F.get_fontName();nk.whiteSpace="pre";nk.textAlign="left";this.fj(J.en,nk);if(nk.fontFamily){J.en.style.fontFamily='"'+nk.fontFamily+'", cursive';}if(!ug){ug=J.F.cv[0];J.F.ay=ug;}QH=this.Jd(J);J.ut.data=ug;J.en.appendChild(J.ut);J.bg.appendChild(J.en);J.bg.appendChild(QH);break;case IPCC.Web.UI.MarkType.Strikethrough:cn="strikethroughannotation-"+J.F.gU();J.bg=this.as('group');J.bg.setAttribute('data-pcc-mark',cn);this.fj(J.bg,{width:this.da*100+'px',height:this.cf*100+'px'});J.ei=this.as('group');J.bg.appendChild(J.ei);this.fj(J.ei,{width:this.da*100+'px',height:this.cf*100+'px'});J.kW=this.as('shape');J.oi.push(J.kW);J.qy=this.as('stroke');this.ba(J.qy,{on:'true'});J.kW.appendChild(J.qy);J.qy.imgearUnstyled=true;J.bg.appendChild(J.kW);J.ED=this.as('shape');J.oi.push(J.ED);J.Lc=this.as('stroke');J.iw.push(J.Lc);this.ba(J.Lc,{on:'true'});J.ED.appendChild(J.Lc);J.Lc.imgearUnstyled=true;J.bg.appendChild(J.ED);break;}if(!J.lk&&J.bg){J.lk=J.bg;}if(J.bg&&J.bg.tagName!=='group'){J.mo=this.as('stroke');J.iw.push(J.mo);this.ba(J.mo,{on:'true'});J.bg.appendChild(J.mo);}var bB;for(bB=0;bB<J.oi.length;bB++){this.ba(J.oi[bB],{coordorigin:'0,0',coordsize:this.da*100+','+this.cf*100});this.fj(J.oi[bB],{width:this.da*100+'px',height:this.cf*100+'px'});}for(bB=0;bB<J.iw.length;bB++){this.ba(J.iw[bB],{joinstyle:'miter'});}J.sO=this.as('group');this.Qd(J);this.fj(J.sO,{left:'0px',top:'0px',width:'300px',height:'300px',position:'absolute'});this.ba(J.sO,{coordorigin:'0,0',coordsize:this.da*100+','+this.cf*100});J.sO.ImGearMarkRelation=J;J.sO.setAttribute('data-pcc-mark','vmlmark-'+J.F.gU());if(J.bg){J.sO.appendChild(J.bg);}this.af.nP.appendChild(J.sO);if(J.de){J.de.ImGearMarkRelation=J;this.af.nP.appendChild(J.de);}},lC:function(aod,jX,nl){var dm=this.PK(jX,nl);this.ba(aod,{path:dm});},PK:function(jX,nl){var dm='m';if(jX.length<1){dm='';}else{dm='m'+Math.round(jX[0].x*100)+','+Math.round(jX[0].y*100);var G;for(G=1;G<jX.length;G++){if(G>1){dm+=',';}else{dm+='l';}dm+=Math.round(jX[G].x*100)+','+Math.round(jX[G].y*100);}if(nl&&jX.length>2){dm+='x';}dm+='e';}return dm;},arU:function(kF,sv){var dm='';IPCC.R.forEach(kF,function(K){var kS=this.asB(K,sv);dm=dm+this.PK(kS,false)+", ";},this);return dm;},arV:function(kF,sv){var dm='';IPCC.R.forEach(kF,function(K){var kS=this.asl(K,sv);dm=dm+this.PK(kS,false)+", ";},this);return dm;},arM:function(kF){var dm='';IPCC.R.forEach(kF,function(K){var kS=this.asp(K);dm=dm+this.PK(kS,true)+", ";},this);return dm;},asp:function(K){var kS=[];kS.push({x:K.x,y:K.y});kS.push({x:K.x+K.width,y:K.y});kS.push({x:K.x+K.width,y:K.y+K.height});kS.push({x:K.x,y:K.y+K.height});return kS;},asB:function(K,sv){sv=sv||0;var kS=[];kS.push({x:K.x,y:K.y+K.height+sv});kS.push({x:K.x+K.width,y:K.y+K.height+sv});return kS;},asl:function(K,sv){sv=sv||0;var kS=[];var strikethroughY=K.y+(K.height/2);kS.push({x:K.x,y:strikethroughY});kS.push({x:K.x+K.width,y:strikethroughY});return kS;},LH:function(fH,kh,wv,pG,sq,Ee,pU,aDp){var cG=this.aev(fH,kh,wv,pG,sq);var bJ={display:'block'},bo={fillcolor:Ee,filled:false},lW={color:Ee};switch(sq){case IPCC.Web.UI.LineHeadType.None:bJ.display='none';break;case IPCC.Web.UI.LineHeadType.Pointer:this.lC(pU,[cG.uK,fH,cG.vq],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.lC(pU,[cG.uK,fH,cG.vq],true);bo.filled=true;break;case IPCC.Web.UI.LineHeadType.Open:this.lC(pU,[cG.uK,fH,cG.vq],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:bo.filled=true;this.lC(pU,[cG.uK,fH,cG.vq,cG.AH],true);break;}if(sq!==IPCC.Web.UI.LineHeadType.None){this.fj(pU,bJ);this.ba(pU,bo);this.ba(aDp,lW);}return cG;},Zl:function(J){var F=J.F;var er,Kg,Ic,pJ;er=this.KU(F);if(er.length<2||F.nl){this.fj(J.wZ,{display:'none'});this.fj(J.wB,{display:'none'});}else{F.va=F.he;pJ=this.Ty(er,true);Kg=this.LH(pJ.fH,pJ.kh,F.GH,F.Ga,F.EA,F.va,J.wZ,J.IC);pJ=this.Ty(er,false);Ic=this.LH(pJ.fH,pJ.kh,F.Fc,F.Gj,F.mc,F.va,J.wB,J.He);er[0]=Kg.AH;er[er.length-1]=Ic.AH;}this.lC(J.jn,er,F.nl);},Yk:function(J){var qp=this.aff(J);this.lC(J.qR,qp.Yl,true);var Mp={},Fq={};var F=J.F;if(qp.QZ||F.he==='transparent'){Fq.on=false;}else{Fq.color=F.he;Fq.dashstyle=this.zc(F.gY);Fq.on=true;Fq.opacity=F.cs/255;}if(qp.Hi){this.lC(J.jn,qp.Hi,false);J.jn.style.visibility='visible';}else{J.jn.style.visibility='hidden';}if(qp.Hu){this.lC(J.ri,qp.Hu,false);J.ri.style.visibility='visible';}else{J.ri.style.visibility='hidden';}if(F.CR){Mp.color=F.Gl;Mp.dashstyle=this.zc(F.tf);J.xE.imgearCalloutSized=true;}else{Mp.color=F.he;Mp.dashstyle=this.zc(F.gY);J.xE.imgearCalloutSized=false;}this.ba(J.xE,Mp);this.ba(J.Kt,Fq);},aqo:function(J,cE,bX){var F=J.F;var K=F.eo();var hu=1;if(F.gM){hu+=F.ef/2;}K.width-=2*hu;K.height-=2*hu;K.x+=hu;K.y+=hu;K=cE.wh(K);var Xb=K.x,UD=K.y;var eY=new IPCC.fq(1,0,0,1,0,0);switch(F.AJ){case IPCC.Web.UI.Orientation.TopLeft:break;case IPCC.Web.UI.Orientation.TopRight:eY.scale(-1,1);break;case IPCC.Web.UI.Orientation.BottomRight:eY.rotate(180);break;case IPCC.Web.UI.Orientation.BottomLeft:eY.rotate(180);eY.scale(-1,1);break;case IPCC.Web.UI.Orientation.LeftTop:eY.scale(-1,1);eY.rotate(270);break;case IPCC.Web.UI.Orientation.RightTop:eY.rotate(90);break;case IPCC.Web.UI.Orientation.RightBottom:eY.scale(-1,1);eY.rotate(90);break;case IPCC.Web.UI.Orientation.LeftBottom:eY.rotate(270);break;}eY.append(cE);var eu={};var mF;if(F.get_type()===IPCC.Web.UI.MarkType.TextLine){mF=F.dB*bX;}else{mF=F.dB*this.Cd/72*bX;}eu.fontSize=Math.round(mF)+'px';var oY=eY.Mf();var ci=eY.Dh();if(oY){ci=(360-ci)%360;}var rv=Math.round(ci/90);var zu='';if(oY||rv){zu='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(oY?'1':'0')+', rotation='+rv.toString()+');';}if(F.vh<255){zu+='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(F.vh/255*100)+');';}J.en.style.filter=zu;var dX;if((ci>45&&ci<135)||(ci>225&&ci<315)){dX=K.width;K.width=K.height;K.height=dX;}eu.left=Xb+'px';eu.top=UD+'px';eu.width=K.width+'px';eu.height=K.height+'px';J.en.style.width=K.width+'px';J.en.style.height=K.height+'px';J.en.style.lineHeight=J.en.style.height;J.en.style.fontSize=Math.round(mF)+'px';},aqO:function(J,cE,bX){var F=J.F;var K=F.eo();var hu=1;if(F.gM){hu+=F.ef/2;}K.width-=2*hu;K.height-=2*hu;K.x+=hu;K.y+=hu;K=cE.wh(K);var Xb=K.x,UD=K.y;var eY=new IPCC.fq(1,0,0,1,0,0);switch(F.AJ){case IPCC.Web.UI.Orientation.TopLeft:break;case IPCC.Web.UI.Orientation.TopRight:eY.scale(-1,1);break;case IPCC.Web.UI.Orientation.BottomRight:eY.rotate(180);break;case IPCC.Web.UI.Orientation.BottomLeft:eY.rotate(180);eY.scale(-1,1);break;case IPCC.Web.UI.Orientation.LeftTop:eY.scale(-1,1);eY.rotate(270);break;case IPCC.Web.UI.Orientation.RightTop:eY.rotate(90);break;case IPCC.Web.UI.Orientation.RightBottom:eY.scale(-1,1);eY.rotate(90);break;case IPCC.Web.UI.Orientation.LeftBottom:eY.rotate(270);break;}eY.append(cE);var eu={};var mF=F.dB*this.Cd/72*bX;F.mF=mF;eu.fontSize=Math.round(mF)+'px';var oY=eY.Mf();var ci=eY.Dh();if(oY){ci=(360-ci)%360;}var rv=Math.round(ci/90);var zu='';if(oY||rv){zu='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(oY?'1':'0')+', rotation='+rv.toString()+');';}if(this.V.lO()===true){J.lk.opacity=0.5;J.mo.opacity=0.5;zu+=' progid:DXImageTransform.Microsoft.Alpha(opacity=0);';}else if(F.vh<255){zu+=' progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(F.vh/255*100)+');';}J.de.style.filter=zu;var dX;if((ci>45&&ci<135)||(ci>225&&ci<315)){dX=K.width;K.width=K.height;K.height=dX;}eu.left=Xb+'px';eu.top=UD+'px';eu.width=K.width+'px';eu.height=K.height+'px';this.fj(J.de,eu);if(J.ts!==undefined){J.ts.style.width=K.width+'px';}},HT:function(J){var F=J.F;var aqG={},eu={};eu.lineHeight=1;eu.backgroundColor='transparent';eu.color=F.oQ;eu.fontFamily=F.gp;if(F.eR&IPCC.Web.UI.FontStyle.Italic){eu.fontStyle='italic';}else{eu.fontStyle='';}if(F.eR&IPCC.Web.UI.FontStyle.Bold){eu.fontWeight='bold';}else{eu.fontWeight='';}if((F.eR&IPCC.Web.UI.FontStyle.Underline)&&(F.eR&IPCC.Web.UI.FontStyle.Strikeout)){eu.textDecoration='underline line-through';}else if(F.eR&IPCC.Web.UI.FontStyle.Underline){eu.textDecoration='underline';}else if(F.eR&IPCC.Web.UI.FontStyle.Strikeout){eu.textDecoration='line-through';}else{eu.textDecoration='';}switch(F.rk){case IPCC.Web.UI.HorizontalAlignment.Center:eu.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:eu.textAlign='right';break;default:eu.textAlign='left';break;}if(document.documentMode<8){var aDr=F.ay.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br/>');J.de.innerHTML=aDr;}else{this.acS(J);}this.ba(J.de,aqG);this.fj(J.de,eu);if(J.F.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){if(F.dP==="#000000"){F.dP='#ffffff';}if(F.jg()===true){F.dP='white';}else{F.set_opacity(F.cs);}}},Qd:function(J){var F=J.F,C=this;if(!F){return;}var bg=J.bg;var G,K,er,bJ={},bo={},mh={},lW={},gM=true,FM,uR,acW,Za,Ns,Ha,ib,To,nV,pa,yp,eu;var ir=false;switch(F.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:ir=true;this.Zl(J);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Highlight:K=F.get_rectangle();if(K.x===0&&K.y===0){var ho=this.V.cT().fI();if(ho.dY()>0){var fn=ho.jY(F.aM);K=fn.aD;}F.lz='y';}bJ.left=K.x*100+'px';bJ.top=K.y*100+'px';bJ.width=K.width*100+'px';bJ.height=K.height*100+'px';break;case IPCC.Web.UI.MarkType.HighlightText:this.Bf(J);bJ={display:(F.get_visible())?'block':'none',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(F.cs/2.55)+")",color:F.dP};bo={fillcolor:F.dP,filled:true};lW={color:F.dP};this.fj(J.kW,bJ);this.ba(J.kW,bo);this.ba(J.qy,lW);this.wC(J);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.Bf(J);bJ={display:(F.get_visible())?'block':'none',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ag.aG.Iz(false,J.F.get_selected())*100+")",color:F.dP};bo={fillcolor:F.dP,filled:true};lW={color:F.dP};var aee={filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ag.aG.ys(false,J.F.get_selected())*100+")",weight:0};this.fj(J.kW,bJ);this.ba(J.kW,bo);this.ba(J.qy,lW);this.fj(J.yn,aee);this.ba(J.IR,lW);this.wC(J);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:K=F.get_rectangle();bJ.left=K.x*100+'px';bJ.top=K.y*100+'px';bJ.width=K.width*100+'px';bJ.height=K.height*100+'px';J.K.style.width='100%';J.K.style.height='100%';var agT=0;if(J.F.xO!=='Underline'&&(J.F.FI>0||J.F.Fz>0)){agT=0.4;}J.K.setAttribute('arcsize',agT);if(J.kX){J.kX.style.width='100%';J.kX.style.top='100%';J.kX.style.height='10000px';J.kX.setAttribute('fill',true);J.kX.setAttribute('fillcolor',J.F.he);J.afI.setAttribute('on',false);J.YB.setAttribute('type','solid');J.YB.setAttribute('opacity',J.F.nD/255);}J.WE.setAttribute('type','solid');J.WE.setAttribute('opacity',IPCC.ag.aG.Iz());if(J.F.xO==='Underline'||J.F.ef===0){J.tm.setAttribute('on',false);}else if(J.F.xO==='Dashed'){J.tm.setAttribute('dashstyle','dash');J.tm.setAttribute('color',J.F.he);J.tm.setAttribute('weight',J.F.ef+'px');J.tm.setAttribute('opacity',J.F.nD/255);}else{J.tm.setAttribute('on',true);J.tm.setAttribute('color',J.F.he);J.tm.setAttribute('weight',J.F.ef+'px');J.tm.setAttribute('opacity',J.F.nD/255);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:K=F.get_rectangle();bJ.left=K.x*100+'px';bJ.top=K.y*100+'px';bJ.width=K.width*100+'px';bJ.height=K.height*100+'px';J.gx.src=J.F.bK;var Hd=J.bg.getBoundingClientRect();var iY=J.gx.getBoundingClientRect();if(iY.bottom!==undefined&&Hd.bottom!==undefined){var HL=Hd.bottom-Hd.top;var arK=Hd.right-Hd.left;var cf=iY.bottom-iY.top;var da=iY.right-iY.left;J.gx.style['position']='relative';if(HL===cf&&arK===da){J.gx.style['max-height']='100%';J.gx.style['height']='auto';J.gx.style['max-width']='100%';J.gx.style['width']='auto';J.gx.style['top']='0';}else if(HL<=cf){J.gx.style['max-height']='100%';J.gx.style['height']='100%';J.gx.style['max-width']='available';J.gx.style['width']='auto';J.gx.style['top']='0';}else{J.gx.style['max-height']='available';J.gx.style['height']='auto';J.gx.style['max-width']='100%';J.gx.style['width']='100%';J.gx.style['top']='';}if(HL>cf){var aEL=100*((HL/2-cf/2)/HL);J.gx.style.top=aEL+'%';}}break;case IPCC.Web.UI.MarkType.RectangleRedaction:K=F.get_rectangle();bJ.left=K.x*100+'px';bJ.top=K.y*100+'px';bJ.width=K.width*100+'px';bJ.height=K.height*100+'px';if(C.V.lO()===true){J.lk.opacity=0.5;J.mo.opacity=0.5;J.de.style.filter='progid:DXImageTransform.Microsoft.Alpha(opacity=0);';}else{J.lk.opacity=1;J.mo.opacity=1;J.de.style.filter='progid:DXImageTransform.Microsoft.Alpha(opacity=100);';}this.HT(J);setTimeout(function(){FM=J.de.cloneNode(true);FM.style.visibility='hidden';document.body.appendChild(FM);uR=FM.getElementsByTagName('div');acW=uR[0];Za=uR[1];Za.style.height='inherit';Ns=Za.getBoundingClientRect();Ha=acW.getBoundingClientRect();if(Ns.top!==0){if(Ns.top===Ha.top&&Ns.bottom===Ha.bottom&&J.de.style.height!==''){J.ts.style.height=J.de.style.height;}else{J.ts.style.height='inherit';}}document.body.removeChild(FM);FM=undefined;},0);break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.wC(J);return;case IPCC.Web.UI.MarkType.Ellipse:K=F.get_rectangle();bJ.left=K.x*100+'px';bJ.top=K.y*100+'px';bJ.width=K.width*100+'px';bJ.height=K.height*100+'px';break;case IPCC.Web.UI.MarkType.Polygon:er=this.KU(F);this.lC(bg,er,true);break;case IPCC.Web.UI.MarkType.Text:this.Yk(J);this.HT(J);break;case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:K=F.get_rectangle();bJ.left=K.x*100+'px';bJ.top=K.y*100+'px';bJ.width=K.width*100+'px';bJ.height=K.height*100+'px';ib=F.get_text();if(!ib){if(F.get_type()===IPCC.Web.UI.MarkType.Stamp){ib="APPROVED";}else{ib="";}}J.ut.data=ib;To=this.auA(K.width,K.height);J.en.style.textAlign='center';J.en.style.fontSize=To+'px';if(F.get_type()===IPCC.Web.UI.MarkType.SignatureText){nV=12*K.width/(F.vx||1);pa=12*K.height/(F.vp||1);yp=Math.min(nV,pa)/2;if(F.get_visible()){J.bg.style.display='block';}else{J.bg.style.display='none';}}F.dB=yp||To;F.stampSize=Math.floor(yp||To);J.en.style.width=K.width/3.25;J.en.style.height=K.height/3.25;J.en.style.lineHeight=J.en.style.height;if(J.F.get_type()===IPCC.Web.UI.MarkType.SignatureText){J.en.style.fontFamily=J.F.get_fontName()+', cursive';}if(F.get_type()===IPCC.Web.UI.MarkType.Stamp){J.F.he=J.F.dP;}else{F.gM=false;}eu={};eu.color=J.F.dP;this.fj(J.en,eu);break;case IPCC.Web.UI.MarkType.TextLine:K=F.get_rectangle();bJ.left=K.x*100+'px';bJ.top=K.y*100+'px';bJ.width=K.width*100+'px';bJ.height=K.height*100+'px';ib=F.get_text()||"";J.ut.data=ib;nV=12*K.width/(F.vx||1);pa=12*K.height/(F.vp||1);yp=Math.min(nV,pa);var bX=0.9;yp*=bX;F.dB=yp;F.mF=yp;F.alW=this.Cd/72;F.stampSize=yp;J.en.style.width=K.width;J.en.style.height=K.height;J.en.style.lineHeight=J.en.style.height;J.en.style.fontFamily=J.F.get_fontName()+', sans-serif';eu={};eu.color=J.F.oQ;this.fj(J.en,eu);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:try{bg.setAttribute('stroke',F.get_lineColor());if(F.Nz===true){F.Nz=false;bg.setAttribute("d",F.get_pathString());var uf=F.get_pathWidth();var tY=F.get_pathHeight();bg.setAttribute('width',uf*100);bg.setAttribute('height',tY*100);bg.coordsize=[uf,tY].join(', ');}if(F.get_visible()===false){bg.style.display='none';}else{bg.style.display='';}var KK;var LO;var YQ;var Zb;var UZ=F.get_pathWidth()/F.get_pathHeight();K=F.get_rectangle();var azc=K.width/K.height;if(azc>UZ){LO=K.height;KK=K.height*UZ;YQ=K.x-(KK-K.width)/2;Zb=K.y;F.Lx=F.ef*KK/F.get_pathWidth();}else{KK=K.width;LO=K.width/UZ;Zb=K.y-(LO-K.height)/2;YQ=K.x;F.Lx=F.ef*LO/F.get_pathHeight();}bJ.left=YQ*100+'px';bJ.top=Zb*100+'px';bJ.width=KK*100+'px';bJ.height=LO*100+'px';}catch(e){}break;case IPCC.Web.UI.MarkType.Strikethrough:this.Bf(J);bJ={display:(F.get_visible())?'block':'none',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ag.aG.Iz(false,J.F.get_selected())*100+")",color:F.he};bo={fillcolor:F.he,filled:true};lW={color:F.he};this.fj(J.ED,aee);this.ba(J.Lc,lW);this.wC(J);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',F.get_type());}if(F.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&F.get_type()!==IPCC.Web.UI.MarkType.Freehand&&F.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&F.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&F.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){if(ir){mh.filled=false;}else{if(F.zB&&F.dP!=='transparent'){if(J.lk.tagName==='fill'){mh.on=true;mh.opacity=F.cs/255;mh.color=F.dP;}else{mh.filled=true;mh.fillColor=F.dP;}}else{if(J.lk.tagName==='fill'){mh.on=true;mh.opacity=0.01;mh.color='white';}else{mh.filled=false;}}gM=F.gM;}if(gM&&F.get_lineColor()!=='transparent'){lW.color=F.get_lineColor();lW.dashstyle=this.zc(F.gY);lW.on=true;}else{lW.on=false;}}var DX='';switch(F.kI()){case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:break;default:var Pu={};Pu[IPCC.Web.UI.MarkType.Rectangle]=true;Pu[IPCC.Web.UI.MarkType.Ellipse]=true;Pu[IPCC.Web.UI.MarkType.Text]=true;if(Pu[F.kI()]===true){lW.opacity=F.cs/255;}else{if(F.cs<255){DX='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(F.cs/2.55)+')';}var uY=bg.firstChild;if(uY&&uY.nodeName==='shape'){while(uY){uY.style.filter=DX;uY=uY.nextSibling;}}else{bg.style.filter=DX;}}break;}if(F.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&F.get_type()!==IPCC.Web.UI.MarkType.Freehand){if(F.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&F.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&F.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){if(F.ge){bJ.visibility='visible';if(J.de){J.de.style.visibility='visible';}}else{bJ.visibility='hidden';if(J.de){J.de.style.visibility='hidden';}}}bJ.cursor=IPCC.aO.ek(this.aN.ES());if(J.de){J.de.style.cursor=IPCC.aO.ek(this.aN.ES());}this.fj(bg,bJ);this.ba(J.lk,mh);this.ba(bg,bo);for(G=0;G<J.iw.length;G++){if(!J.iw[G].imgearUnstyled){this.ba(J.iw[G],lW);}}}else{this.fj(bg,bJ);}},wC:function(J){var F=J.F,G,bJ={},mh={};var ei=J.ei;while(ei.firstChild){ei.removeChild(ei.firstChild);}var hl;for(G=0;G<F.fi.length;G++){for(var bB=0;bB<F.fi[G].length;bB++){var HD=this.V.cT().fI();if(HD.dY()>0){var ZA=HD.jY(F.fi[G].startIndex+bB);hl=ZA.aD;}var aK=this.as('rect');bJ.left=hl.x*100+'px';bJ.top=hl.y*100+'px';bJ.width=hl.width*100+'px';bJ.height=hl.height*100+'px';bJ.filter='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(F.fi[G].opacity/2.55)+')';this.fj(aK,bJ);mh.fillColor=F.fi[G].color;mh.filled=true;this.ba(aK,mh);var mo=this.as('stroke');this.ba(mo,{on:'f'});aK.appendChild(mo);ei.appendChild(aK);}}},Bf:function(J){var F=J.F;if(F.bk===null||F.bk===undefined){return;}if(F.bk.length===0&&F.cY>0&&this.V.cT().nj()){F.bk=IPCC.R.Pg(this.V.cT().fI(),F.aM,F.aM+F.cY-1);}if(!J.aM|| !J.cY||J.aM!==F.aM||F.ge===false||F.ge===true||J.cY!==F.cY){var dm,drawRectangles=true;if(J.yn){dm=this.arU(F.bk,F.ef/ -2);this.ba(J.yn,{path:dm});}if(J.ED){drawRectangles=false;dm=this.arV(F.bk,F.ef);this.ba(J.ED,{path:dm});}if(drawRectangles){dm=this.arM(F.bk);this.ba(J.kW,{path:dm});}J.aM=F.aM;J.cY=F.cY;}},auA:function(IU,aAJ){var lE=0;if(IU>=aAJ){lE=(IU/14)/2;}else{lE=IU/15;}if(lE*15>=IU){lE=(IU/15)/2;}return lE;},zc:function(gY){switch(gY){case IPCC.Web.UI.LineStyle.Dash:return 'dash';case IPCC.Web.UI.LineStyle.Dot:return 'dot';case IPCC.Web.UI.LineStyle.DashDot:return 'dashdot';case IPCC.Web.UI.LineStyle.DashDotDot:return 'shortdashdotdot';default:break;}return 'solid';},HX:function(J){var WT=IPCC.R.find(this.af.nP.children,function(uY){return uY===J.sO;});if(WT){this.af.nP.removeChild(J.sO);if(J.de){WT=IPCC.R.find(this.af.nP.children,function(uY){return uY===J.de;});if(WT){this.af.nP.removeChild(J.de);}}}delete J.sO;},afM:function(cE,mW,ar,ke){var nL=cE.transform({x:0,y:0});var kv=cE.transform({x:1,y:0});var od=nL.x-kv.x;var Hx=od*od;od=nL.y-kv.y;Hx+=od*od;var bX=Math.sqrt(Hx);var CX={width:ar.width*bX+'px',height:ar.height*bX+'px'};var oY=cE.Mf();if(oY){CX.flip='x';}else{CX.flip='';}var ci=cE.Dh();if((ci>45&&ci<135)||(ci>225&&ci<315)){CX.left=(ar.height-ar.width)*bX/2+'px';CX.top=(ar.width-ar.height)*bX/2+'px';}else{CX.left='0px';CX.top='0px';}var G,bB,J;for(G=0;G<ke.length;G++){J=ke[G];this.ba(J.sO,{rotation:oY? -ci:ci});this.fj(J.sO,CX);if(J.iw&&J.iw.length){for(bB=0;bB<J.iw.length;bB++){if(J.iw[bB].imgearCalloutSized){this.ba(J.iw[bB],{weight:J.F.Fs*bX});}else{if(J.F.get_type()!==IPCC.Web.UI.MarkType.SignaturePath){this.ba(J.iw[bB],{weight:J.F.ef*bX});}else{this.ba(J.iw[bB],{weight:(J.F.Lx>0)?J.F.Lx:J.F.ef*bX});}}}}if(J.de){this.aqO(J,cE,bX);}if(J.en){this.aqo(J,cE,bX);}}},amU:function(){this.af=undefined;},as:function(bP){return document.createElement('igvml:'+bP);},fj:function(bg,jJ){if(!bg|| !jJ){return;}var G;for(G in jJ){if(jJ.hasOwnProperty(G)){if(bg.style[G]!==jJ[G]){bg.style[G]=jJ[G];}}}},ba:function(bg,bo){if(!bg|| !bo){return;}var G,dA;if(document.documentMode===8){for(G in bo){if(bo.hasOwnProperty(G)){dA=bo[G];if(dA===undefined||dA===null){continue;}var str=dA.toString();if(bg[G]!==str){bg[G]=str;}}}}else{for(G in bo){if(bo.hasOwnProperty(G)){dA=bo[G];if(dA===undefined||dA===null){continue;}bg.setAttribute(G,bo[G].toString());}}}}};IPCC.akF=function(V,pO){var aE=this;this.agF='opacity';this.agW=function(cs){return cs.toString();};var afv=function afv(af,cE,mW,ar,nA,oZ){var ld;if(this.V.uV()===true){af.EE.setAttribute('width',mW.width);af.EE.setAttribute('height',mW.height);af.vM.setAttribute('width',mW.width);af.vM.setAttribute('height',mW.height);ld=cE.sU().toString()+','+cE.sI().toString()+','+cE.rO().toString()+','+cE.uN().toString()+','+(cE.yE()+nA).toString()+','+(cE.ye()+oZ).toString();this.kd(af.Km,'transform','matrix('+ld+')');}else{af.EE.setAttribute('width',mW.width);af.EE.setAttribute('height',mW.height);af.vM.setAttribute('width',mW.width);af.vM.setAttribute('height',mW.height);ld=cE.sU().toString()+','+cE.sI().toString()+','+cE.rO().toString()+','+cE.uN().toString()+','+(cE.yE()+nA).toString()+','+(cE.ye()+oZ).toString();this.kd(af.Km,'transform','matrix('+ld+')');}};var abU,aas;this.Yy=function(af,cE,mW,ar,nA,oZ){if(af.aaV.match('maglevel')){afv.apply(this,arguments);return;}var aD=af.hi.parentElement.getBoundingClientRect();var jV=aD.width/ar.width;var alx=function(val){return Math.abs(val)<1.0e-14;};var fl=0,fc=0;var auH=function(){var ru=cE.sI();if(alx(ru)){ru=0;}var sY=cE.rO();if(alx(sY)){sY=0;}var azF=cE.sU();var ci=(ru>=0&&sY<0)?90:(ru<0&&sY>=0)?270:(azF<0)?180:(ru>=0&&sY>=0)?0:0;switch(ci){case 90:fl=aD.width;break;case 180:fl=aD.width;fc=aD.height;break;case 270:fc=aD.height;break;}return ci*(Math.PI/180);};var ci=auH();if(parseInt(ci,10)===1||parseInt(ci,10)===4){jV=aD.height/ar.width;}if(jV===abU&&ci===aas){return;}else{abU=jV;aas=ci;}var eL=1,hQ=0;if(ci!==0){eL=Math.cos(ci);hQ=Math.sin(ci);}var ak={jV:eL*jV,sx:eL*jV,ru:hQ*jV,sY:hQ* -1*jV,fl:fl,fc:fc};var aEA=new IPCC.fq(ak.jV,ak.ru,ak.sY,ak.sx,ak.fl,ak.fc);cE.TJ(aEA);V.am().kg(cE);var ld='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';ld=ld.replace('{scaleX}',ak.jV).replace('{scaleY}',ak.sx).replace('{skewX}',ak.ru).replace('{skewY}',ak.sY).replace('{moveX}',ak.fl).replace('{moveY}',ak.fc);this.kd(af.Km,'transform',ld);};this.aen=function(){abU=undefined;aas=undefined;};this.aik(V);this.anX=function(aQ){var aL=new IPCC.Fn(aQ.clientWidth,aQ.clientHeight,96,96);return aL;};this.YK=function(bD){bD.preventDefault();aE.jK(bD);};this.Yr=function(bD){bD.preventDefault();aE.kZ(bD);};this.Zi=function(bD){bD.preventDefault();aE.it(bD);};this.aaG=function(bD){aE.jK(bD);};this.alX=function(bD){aE.wq(bD);};this.SG=function(bD){aE.kZ(bD);};this.Ds=function(bD){aE.mP(bD);};this.OD=0;this.Sz=function(bD){if(bD.rawEvent.detail>1){if(window.navigator.msPointerEnabled){var Xl=false;if(! !(navigator.userAgent.match('6.1'))&&document.documentMode===11){Xl=true;}if(!this.OD){if(bD.target instanceof SVGPolylineElement&&Xl===true){aE.wq(bD);}else{aE.it(bD);}this.OD=bD.rawEvent.timeStamp;return;}var akS=500;if(Xl){akS=8000;}if(bD.rawEvent.timeStamp-this.OD>akS){aE.it(bD);}else{aE.wq(bD);}this.OD=bD.rawEvent.timeStamp;}else{aE.wq(bD);}}else{aE.it(bD);}};this.ZL=function(bD){aE.Qb(bD);};this.WZ=function(bD){if(bD.target!==document.activeElement){aE.ahm(bD);}};this.Wf=function(bD){if(bD.target!==document.activeElement){aE.aiI(bD);}};this.nZ=function(bD){try{bD.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bD;aE.rH(H);V.aBq(H);}catch(ex){V.h('mouseOut',ex);}};this.QR=function(bD){try{bD.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bD;aE.rH(H);V.aAI(H);}catch(ex){V.h('touchStart',ex);}};this.Sb=function(bD){try{bD.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bD;aE.rH(H);V.aAi(H);}catch(ex){V.h('touchMove',ex);}};this.QT=function(bD){try{bD.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bD;aE.rH(H);V.aAg(H);}catch(ex){V.h('touchEnd',ex);}};this.HE=function(bD){try{bD.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bD;aE.rH(H);V.aCI(H);}catch(ex){V.h('touchCancel',ex);}};this.ajw=function(bD){try{bD.preventDefault();}catch(ex){V.h('dragStart',ex);}};this.agu=function(){var eh=V.jS().igElements.lT;IPCC.Web.UI.aT.addHandler(eh,"mousewheel",this.Ds);IPCC.Web.UI.aT.addHandler(eh,"DOMMouseScroll",this.Ds);if(pO){IPCC.Web.UI.aT.addHandler(eh,"touchstart",this.QR);IPCC.Web.UI.aT.addHandler(eh,"touchmove",this.Sb);IPCC.Web.UI.aT.addHandler(eh,"touchend",this.QT);IPCC.Web.UI.aT.addHandler(eh,"touchcancel",this.HE);}IPCC.Web.UI.aT.addHandler(eh,"mouseout",this.nZ);IPCC.Web.UI.aT.addHandler(eh,"dragstart",this.ajw);};this.ama=function(){var eh=V.jS().igElements.lT;IPCC.Web.UI.aT.removeHandler(eh,"DOMMouseScroll",this.Ds);IPCC.Web.UI.aT.removeHandler(eh,"mouseout",this.nZ);if(pO){IPCC.Web.UI.aT.removeHandler(eh,"touchstart",this.QR);IPCC.Web.UI.aT.removeHandler(eh,"touchmove",this.Sb);IPCC.Web.UI.aT.removeHandler(eh,"touchend",this.QT);IPCC.Web.UI.aT.removeHandler(eh,"touchcancel",this.HE);}IPCC.Web.UI.aT.removeHandler(eh,"dragstart",this.ajw);};this.aoI=function(af,hi,oz,zg){var G,bm,aQ,abq;var Ob=function(bP,ct,bo){var aQ=document.createElementNS('http://www.w3.org/2000/svg',bP);var G;if(ct){aQ.setAttribute('id',ct);}for(G in bo){if(bo.hasOwnProperty(G)){aQ.setAttribute(G,bo[G]);}}return aQ;};var gf=Ob('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});af.vM=Ob('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});gf.appendChild(af.vM);var ZP=Ob('g',null,{});af.Km=ZP;gf.appendChild(ZP);var bd;if(V.uV()===false){bd=oz.fu.length;}else{bd=1;}for(G=0;G<bd;G++){bm=oz.fu[G];bm.pool.parentElementID=zg+G.toString();abq=1/bm.bX;aQ=Ob('g',bm.pool.parentElementID,{transform:'matrix('+abq.toString()+',0,0,'+abq.toString()+',0,0)'});ZP.appendChild(aQ);}af.EE=gf;hi.appendChild(gf);};this.ahJ=function(fm){var OQ=this.Yz();fm.elementID=OQ;};this.agM=function(fm){var aQ=document.getElementById(fm.elementID);this.kd(aQ,'display','none');};this.YF=function(fm){var aQ=document.getElementById(fm.elementID);if(aQ===null){fm.elementID='';return;}aQ.setAttributeNS('http://www.w3.org/1999/xlink','href','');aQ.parentNode.removeChild(aQ);fm.elementID='';};var CW=function(bD){try{bD.target.onload=undefined;bD.target.onerror=undefined;bD.target.onabort=undefined;var fm=bD.target.poolItem;fm.loaded=true;aE.xh();}catch(ex){V.h('downloadImage',ex);}};var aie=function(bD){try{bD.target.onload=undefined;bD.target.onerror=undefined;bD.target.onabort=undefined;bD.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');bD.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){V.h('downloadImage',ex);var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=ex;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}};this.ajP=function(jN){var G;var bd=jN.length;if(V.uV()===false){bd=jN.length;}else{bd=1;}for(G=0;G<bd;G++){var hd=jN[G];var aQ=document.getElementById(hd.poolItem.elementID);if(aQ===null){var fm=hd.poolItem;var FD=fm.pool;var hi=document.getElementById(FD.parentElementID);aQ=document.createElementNS('http://www.w3.org/2000/svg','image');this.kd(aQ,'id',fm.elementID);this.kd(aQ,'externalResourcesRequired','true');aQ.poolItem=fm;aQ.onload=CW;aQ.onerror=aie;aQ.onabort=aie;if(document.documentMode>8||IPCC.R.JJ.QL){fm.loaded=true;}aQ.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.Wa(aQ,hd.url,'image/'+hd.contentType);hi.appendChild(aQ);this.kd(aQ,'display','block');var av=hd.right-hd.x;var dc=hd.bottom-hd.y;this.kd(aQ,'x',hd.x);this.kd(aQ,'y',hd.y);this.kd(aQ,'width',av);this.kd(aQ,'height',dc);}this.kd(aQ,'display','block');}if((document.documentMode>8||IPCC.R.JJ.QL)&&jN.length>0){aE.xh();}};this.Wa=function(aQ,dk,rs){var pj=true;var ng=0;if(V.iR()===0){pj=false;}function fe(ao){var dg,ad;try{var dM=IPCC.Web.Ep(ao),Jl;var mJ=ao.getResponseHeader("Accusoft-Data-Encrypted");if(mJ==='true'&&V.ed()===true){var sk=IPCC.Web.hG.pq.rN(ao.getResponseHeader("Accusoft-Data-SK"));var aq=IPCC.Web.HK(sk,gk);var sL=IPCC.Web.Bd(dM,aq,gk);Jl=IPCC.Web.hG.pq.mZ(sL,0,0);}else{Jl=IPCC.Web.hG.pq.mZ(dM,0,0);}aQ.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+rs+';base64,'+Jl);}catch(ex){dg="Image error, Error message = "+ex.message;ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=ex;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);throw new IPCC.Web.UI.ImGearArgumentException(null,dg);}};function fg(ap){var hj=ap.response.status,dg,lb,km;if(!ap.response){throw new IPCC.Web.UI.ImGearHttpException(hj,"Client Image load timeout");}if(hj===403){ng++;if(ap.response.statusText&&ap.response.statusText!==""){dg="Expired viewer session ID, error message from the server: "+ap.response.statusText;}else{dg="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hj,dg);}lb=ap.response.getResponseHeader('Accusoft-Status-Message');if(lb){var nz;km=ap.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vt(km)){nz=parseInt(km,10);}throw new IPCC.Web.UI.ImGearHttpException(hj,lb,nz);}else{if(ap.response.statusText&&ap.response.statusText!==""){dg=ap.response.statusText;}else{dg="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hj,dg);}};var gZ={method:'GET'};if(pj===true){gZ.timeout=V.iR();}if(V.XS()&&V.ed()===true){var gk=IPCC.Web.qP.RS(4);var nF=IPCC.Web.hG.FT.mZ(gk);var ZI=dk+'&iv='+nF;gZ.url=ZI;}else{if(typeof(VBArray)==='undefined'){gZ.mimeType='text/plain; charset=x-user-defined';}gZ.url=dk;}IPCC.R.mB.es(gZ).then(fe,fg);};this.aFd=function(af){if(af.SM){return;}var ng=0;var hd=af.oz.fu[0].tiles[0];if(!hd){return;}var FD=hd.level.pool;var hi=document.getElementById(FD.parentElementID);var pj=true;if(V.iR()===0){pj=false;}var xH=V.Ma();if(af.KA){if(xH===2){delete af.KA;if(hi.childNodes.length>0){hi.removeChild(hi.childNodes[0]);}}else if(xH===1){if(hi.childNodes.length>0){hi.removeChild(hi.childNodes[0]);}}else{if(hi.childNodes.length===0){hi.appendChild(af.app);}}V.zv=true;return;}if(xH>0){return;}function fe(ao){var ad,dg;af.SM=false;try{try{var tP;var mJ=ao.getResponseHeader("Accusoft-Data-Encrypted");if(mJ==='true'&&V.ed()===true){var sk=IPCC.Web.hG.pq.rN(ao.getResponseHeader("Accusoft-Data-SK"));var aq=IPCC.Web.HK(sk,gk);var dM=IPCC.Web.Ep(ao);var sL=IPCC.Web.Bd(dM,aq,gk);tP=IPCC.Web.hG.En.mZ(sL);}else{tP=ao.responseText;}aCv(tP);}catch(ex){dg="SVG image error, Error message = "+ex.message;ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=ex;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);throw new IPCC.Web.UI.ImGearArgumentException(null,dg);}}catch(e){V.h('openPage',e);if(typeof(V.aH)==='function'){ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}}};function fg(ap){var ad,dg,lb,km;af.SM=false;try{if(!ap.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var hj=ap.response.status;if(hj===480){ng++;if(ap.response.statusText&&ap.response.statusText!==""){dg=dg="PDF file password required, error message from the server: "+ap.response.statusText;}else{dg="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(hj,dg);}if(hj===403){ng++;if(ap.response.statusText&&ap.response.statusText!==""){dg="Expired viewer session ID, error message from the server: "+ap.response.statusText;}else{dg="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hj,dg);}lb=ap.response.getResponseHeader('Accusoft-Status-Message');if(lb){var nz;km=ap.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vt(km)){nz=parseInt(km,10);}throw new IPCC.Web.UI.ImGearHttpException(hj,lb,nz);}else{if(ap.response.statusText&&ap.response.statusText!==""){dg=ap.response.statusText;}else{dg="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hj,dg);}}catch(e){V.h('openPage',e);if(typeof(V.aH)==='function'){ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;ad.pageNumber=V.ai;V.aH('pageOpenFailed',ad);}}};var aqp=function(){V.zv=true;V.aH('pageDisplayed',{aY:V.ai});};var aCv=function(hD){var wI=FD.parentElementID.toString();var Jg=(IPCC.R.RI||IPCC.R.ajH)?'':window.location.href.replace(window.location.hash,'');var aDo=Jg.replace(/"/g,'\\$&');var apm=Jg.replace(/[()]/g,'\\$&');hD=hD.replace(/href="#/g,'href="'+aDo+'#'+wI);hD=hD.replace(/="url\(#/g,'="url('+apm+'#'+wI);hD=hD.replace(/fill:url\(#/g,'fill:url('+apm+'#'+wI);hD=hD.replace(/ id="/g,' id="'+wI);hD=hD.replace(/<use([^>]+)\/>/g,' <use$1></use>');var WM=document.createElement('div');WM.innerHTML=hD;var sr=WM.querySelectorAll('style');IPCC.R.forEach(sr,function(bn){var aoQ=(bn.styleSheet)?bn.styleSheet.cssText:bn.textContent;if(bn.styleSheet){bn.styleSheet.cssText=aoQ;}else{bn.appendChild(document.createTextNode(aoQ));}});var kq=null;var HU=WM.firstChild;while(HU!==null){if(HU.nodeName==='svg'){kq=HU;break;}HU=HU.nextSibling;}if(kq===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!af.KA){af.app=kq;hi.appendChild(kq);af.KA=true;if(!V.zv&&af.KA){setTimeout(aqp,1);}}};var dk;var gk,nF;V.zv=false;if(V.ed()===true){gk=IPCC.Web.qP.WY(4,IPCC.Web.Qa());nF=IPCC.Web.hG.FT.mZ(gk);dk=hd.url+'&iv='+nF;}else{dk=hd.url;}var gZ={method:'GET',url:dk,headers:{'Content-Type':IPCC.R.MT}};if(pj===true){gZ.timeout=V.iR();}af.SM=true;IPCC.R.mB.es(gZ).then(fe,fg);};this.UN=function(hd,cs){if(!hd){return;}var mw=document.getElementById(hd.poolItem.elementID);this.kd(mw,'x',hd.x);this.kd(mw,'y',hd.y);this.kd(mw,'width',hd.right-hd.x);this.kd(mw,'height',hd.bottom-hd.y);this.kd(mw,'opacity',cs);this.kd(mw,'display','block');};this.Vk=function(jN,cs,cE){var G;if(V.uV()===false){for(G=0;G<jN.length;G++){this.UN(jN[G],cs);}}};return this;};IPCC.akF.prototype=new IPCC.aG();IPCC.ag.akh=function(){};IPCC.ag.EI=1;IPCC.ag.akh.prototype={alM:function(V,af,ar){this.V=V;this.aN=V.am();this.af=af;this.da=ar.width;this.cf=ar.height;this.Cd=ar.gy;this.aDa=ar.hc;af.nP=this.as('g');this.ba(af.nP,{'fill-opacity':1});af.Km.appendChild(af.nP);},amB:function(J){var cn='',K,C=this;switch(J.F.get_type()){case IPCC.Web.UI.MarkType.Rectangle:J.bg=this.as('rect');if(J.F.jg()&&J.F.get_opacity()===255){J.bg.addEventListener("mouseover",function(H){if(J.F.get_selected()===false&&J.bg&&(H.which===0||H.buttons===0)){J.bg.style.opacity=127/255;}},false);J.bg.addEventListener("mouseout",function(H){if(J.bg&&(H.which===0||H.buttons===0)){J.bg.style.opacity=J.F.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:cn="highlighttextannotation-"+J.F.gU();J.bg=this.as('g');J.ei=this.as('g');J.bg.appendChild(J.ei);J.mQ=this.as('g');J.mQ.setAttribute('data-pcc-mark',cn);J.bg.appendChild(J.mQ);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:cn="texthyperlinkannotation-"+J.F.gU();J.bg=this.as('g');J.bg.style.cursor=IPCC.aO.ek(IPCC.aO.Link);J.ei=this.as('g');J.bg.appendChild(J.ei);J.mQ=this.as('g');J.mQ.style.opacity=IPCC.ag.aG.Iz();J.mQ.style.fill="blue";J.mQ.setAttribute('data-pcc-mark',cn);J.bg.appendChild(J.mQ);J.np=this.as('g');J.np.style.stroke="blue";J.np.style.opacity=IPCC.ag.aG.ys(false);J.np.setAttribute('data-pcc-mark',cn);J.bg.appendChild(J.np);J.bg.addEventListener("mouseover",function(H){if(J.np){J.np.style.opacity=IPCC.ag.aG.ys(true,J.F.get_selected());}},false);J.bg.addEventListener("mouseout",function(H){if(J.np){J.np.style.opacity=IPCC.ag.aG.ys(false,J.F.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:cn="documenthyperlink-"+J.F.gU();J.bg=this.as('g');J.bg.style.cursor=IPCC.aO.ek(IPCC.aO.Link);J.K=this.as('rect');J.K.style['fill-opacity']=IPCC.ag.aG.Iz();if(J.F.xO!=='Underline'){J.K.style.stroke=J.F.he;J.K.style['stroke-width']=J.F.ef+'px';J.K.style['stroke-opacity']=(J.F.ef===0)?0:J.F.nD/255;if(J.F.xO==='Dashed'){J.K.style['stroke-dasharray']=J.F.Cc.join(', ');}J.K.setAttribute('rx',J.F.FI);J.K.setAttribute('ry',J.F.Fz);}else{J.kX=this.as('line');J.kX.style.stroke=J.F.he;J.kX.style['stroke-opacity']=J.F.nD/255;J.kX.style['stroke-width']=J.F.ef+'px';J.bg.appendChild(J.kX);}J.K.style.fill='transparent';J.K.setAttribute('data-pcc-mark',cn);J.bg.appendChild(J.K);break;case IPCC.Web.UI.MarkType.RectangleRedaction:cn="textmark-"+J.F.gU();J.bg=this.as('g');J.gF=this.as('rect');J.iH=this.as('g');J.iH.setAttribute('data-pcc-mark',cn);if(IPCC.R.JJ.aAX){J.iH.style.cursor='pointer';}J.tx=document.createTextNode('');if(document.documentMode>8){J.eb=this.as('text');J.eb.setAttribute('data-pcc-mark',cn);J.eb.appendChild(J.tx);J.Zm=0;J.zb=this.as('clipPath');J.DW=this.as('rect');J.iH.appendChild(J.zb);J.zb.appendChild(J.DW);J.iH.appendChild(J.eb);J.LZ="PCC"+IPCC.ag.EI;IPCC.ag.EI++;this.ba(J.zb,{id:J.LZ,clipPathUnits:"userSpaceOnUse"});K=J.F.get_rectangle();this.ba(J.DW,{x:0,y:0,width:K.width,height:K.height,"data-pcc-mark":cn});var agA=function(H){if(J.F.get_selected()===false&&J.gF&&(H.which===0||H.buttons===0)){if(C.V.lO()===false){J.bg.style.opacity=0.5;J.eb.style.opacity=0;}}};J.bg.addEventListener("mouseover",function(H){agA(H);},false);J.iH.addEventListener("mouseover",function(H){agA(H);},false);J.bg.addEventListener("mouseout",function(H){if(J.gF&&(H.which===0||H.buttons===0)){if(C.V.lO()===false){J.bg.style.opacity=1;J.eb.style.opacity=1;}}},false);}else{J.de=document.createElement('div');this.ba(J.de,{"data-pcc-mark":cn});J.de.appendChild(J.tx);J.NB=document.createElement('div');this.ba(J.NB,{"data-pcc-mark":cn});J.NB.appendChild(J.de);J.uZ=document.createElement('body');this.ba(J.uZ,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":cn});J.uZ.appendChild(J.NB);J.Fh=this.as('foreignObject');J.Fh.appendChild(J.uZ);J.iH.appendChild(J.Fh);J.uZ.addEventListener("mouseover",function(H){if(J.F.get_selected()===false&&J.gF&&(H.which===0||H.buttons===0)){J.gF.style.opacity=0.5;J.de.style.opacity=0;}},false);J.uZ.addEventListener("mouseout",function(H){if(J.gF&&(H.which===0||H.buttons===0)){if(C.V.lO()===false){J.gF.style.opacity=1;J.de.style.opacity=1;}}},false);}J.bg.appendChild(J.gF);break;case IPCC.Web.UI.MarkType.Ellipse:J.bg=this.as('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:J.bg=this.as('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:J.bg=this.as('g');J.ei=J.bg;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:J.bg=this.as('g');J.jn=this.as('polyline');J.wZ=this.as('path');J.wB=this.as('path');J.bg.appendChild(J.jn);J.bg.appendChild(J.wZ);J.bg.appendChild(J.wB);J.jn.setAttribute('stroke-linejoin','miter');J.jn.setAttribute('stroke-linecap','butt');J.jn.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:J.bg=this.as('polygon');break;case IPCC.Web.UI.MarkType.Text:cn="textmark-"+J.F.gU();J.bg=this.as('g');J.qR=this.as('polygon');J.jn=this.as('path');J.ri=this.as('path');J.iH=this.as('g');J.bg.appendChild(J.qR);J.bg.appendChild(J.jn);J.bg.appendChild(J.ri);this.ba(J.qR,{style:'stroke:none;'});J.iH.setAttribute('data-pcc-mark',cn);J.tx=document.createTextNode('');if(document.documentMode>8){J.eb=this.as('text');J.eb.setAttribute('data-pcc-mark',cn);J.eb.appendChild(J.tx);J.Zm=0;J.zb=this.as('clipPath');J.DW=this.as('rect');J.iH.appendChild(J.zb);J.zb.appendChild(J.DW);J.aeQ=this.as('g');J.iH.appendChild(J.aeQ);J.iH.appendChild(J.eb);J.LZ="PCC"+IPCC.ag.EI;IPCC.ag.EI++;this.ba(J.zb,{id:J.LZ,clipPathUnits:"userSpaceOnUse"});K=J.F.get_rectangle();this.ba(J.DW,{x:0,y:0,width:K.width,height:K.height,"data-pcc-mark":cn});}else{J.de=document.createElement('div');J.de.appendChild(J.tx);J.uZ=document.createElement('body');this.ba(J.uZ,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":cn});J.uZ.appendChild(J.de);J.Fh=this.as('foreignObject');J.Fh.appendChild(J.uZ);J.iH.appendChild(J.Fh);}J.qR.setAttribute('data-pcc-mark',cn);break;case IPCC.Web.UI.MarkType.Stamp:J.bg=this.as('g');J.wa=this.as('rect');J.wa.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.gF=this.as('rect');J.IO=this.YR(J);J.bg.appendChild(J.wa);J.bg.appendChild(J.gF);J.bg.appendChild(J.IO);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:J.bg=this.as('g');J.wa=this.as('rect');J.wa.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.gF=this.as('rect');J.aiQ=this.arO(J);J.aiQ.setAttribute('data-pcc-mark',"mark-"+J.F.gU());J.bg.appendChild(J.wa);J.bg.appendChild(J.gF);J.bg.appendChild(J.aiQ);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var F=J.F;var apl=F.eo();var av=apl.width;var dc=apl.height;var uf=F.get_pathWidth();var tY=F.get_pathHeight();var rZ=F.get_pathString();var dm=IPCC.R.xz.Path(rZ,{width:av,height:dc,multiplier:100,thickness:F.get_lineWidth(),color:F.get_lineColor()});var gf=IPCC.R.xz.SVG('0 0 '+uf+' '+tY,100);var aK=IPCC.R.xz.Rect(uf,tY,'fill:rgba(255, 255, 255, 0);stroke:none;');gf.appendChild(aK);gf.appendChild(dm);J.bg=gf;J.aAP=dm;J.ahj=aK;break;case IPCC.Web.UI.MarkType.SignatureText:J.bg=this.as('g');J.gF=this.as('rect');J.gF.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.IO=this.YR(J);J.bg.appendChild(J.gF);J.bg.appendChild(J.IO);J.F.gM=false;break;case IPCC.Web.UI.MarkType.TextLine:J.bg=this.as('g');J.gF=this.as('rect');J.gF.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.IO=this.YR(J,{alignment:"start"});J.bg.appendChild(J.gF);J.bg.appendChild(J.IO);break;case IPCC.Web.UI.MarkType.Strikethrough:cn="strikethroughannotation-"+J.F.gU();J.bg=this.as('g');J.ei=this.as('g');J.bg.appendChild(J.ei);J.mQ=this.as('g');J.mQ.setAttribute('data-pcc-mark',cn);J.bg.appendChild(J.mQ);J.zs=this.as('g');J.zs.setAttribute('data-pcc-mark',cn);J.bg.appendChild(J.zs);break;}J.bg.ImGearMarkRelation=J;J.bg.setAttribute('data-pcc-mark',"mark-"+J.F.gU());this.af.nP.appendChild(J.bg);if(J.iH){J.iH.ImGearMarkRelation=J;this.af.nP.appendChild(J.iH);}this.Qd(J);},YR:function(J,options){options=options||{};var alignment=options.alignment?options.alignment.toLowerCase():"middle";var F=J.F;var ib=F.ay;if(!ib){ib=F.cv[0];if(!ib){if(F.get_type()===IPCC.Web.UI.MarkType.Stamp){ib="APPROVED";}else{ib="";}}}var K=F.eo();J.eb=this.as('text');J.LZ="PCC"+IPCC.ag.EI;IPCC.ag.EI++;var un=document.createTextNode(ib);J.eb.setAttribute("font-size","22px");J.eb.setAttribute("text-anchor",alignment);if(F.get_type()===IPCC.Web.UI.MarkType.TextLine){J.eb.setAttribute("style",'white-space:pre;');}if(alignment==="middle"){J.eb.setAttribute("x",K.x+(K.width/2));J.eb.setAttribute("y",K.y+(K.height/2));}else if(alignment==="start"){J.eb.setAttribute("x",K.x);J.eb.setAttribute("y",K.y+(K.height/2));}else if(alignment==="end"){J.eb.setAttribute("x",K.x+K.width);J.eb.setAttribute("y",K.y+(K.height/2));}J.eb.appendChild(un);return J.eb;},arO:function(J){var F=J.F;J.gx=document.createElementNS('http://www.w3.org/2000/svg','svg');J.zV=document.createElementNS('http://www.w3.org/2000/svg','image');J.zV.setAttribute('id','childimg');J.zV.setAttributeNS('http://www.w3.org/1999/xlink','href',F.get_image());J.gx.appendChild(J.zV);return J.gx;},auM:function(J,rk){var F=J.F;var K=F.eo();var ay=F.ay.trim().replace(/ {2,}/g,' ');var LN,gv,na,aao;var Dr=J.eb;var yl=[];var bd=Dr.childNodes.length;if(bd>1){var axS=Dr.parentNode;var Um=this.as('text');Um.setAttribute('data-pcc-mark',J.iH.getAttribute('data-pcc-mark'));axS.replaceChild(Um,Dr);J.eb=Um;J.eb.appendChild(J.tx);J.iH.appendChild(J.eb);Dr={};Dr=J.eb;}var Qe=2;if(rk){switch(rk){case IPCC.Web.UI.HorizontalAlignment.Center:Qe=K.width/2;break;case IPCC.Web.UI.HorizontalAlignment.Right:Qe=K.width-8.4;break;}}var abo=0;abo=K.height;var ape;var acN=0;var fM=this.Cd/72;var afK=0;var ZY=F.dB*fM;var dc=K.height;var UC=0;var wG=0;var Hg=ay.split('\n');for(var G=0;G<Hg.length;G++){var BA='';var akL=2;if(Hg[G].length>0){na=Hg[G].split(' ');aao=na[0];gv=this.as('tspan');if(G>0){gv.setAttributeNS(null,"x",Qe);gv.setAttributeNS(null,"dy",ZY*(UC+1));}LN=window.document.createTextNode(na[0]);gv.appendChild(LN);Dr.appendChild(gv);for(var bB=1;bB<na.length;bB++){if(na[bB].length>aao.length){aao=na[bB];}bd=gv.firstChild.data.length;var Ug=na[bB];if(na[bB].length>0){if(gv.firstChild.data[gv.firstChild.data.length-1]!==' '){gv.firstChild.data+=" "+na[bB];}else{gv.firstChild.data+=na[bB];}}if(gv.firstChild.data[gv.firstChild.data.length-1]!==' '&&bB!==na.length-1){gv.firstChild.data+=' ';Ug+=' ';}BA=BA+Ug;ape=BA.length*(F.dB*fM);try{acN=gv.getComputedTextLength();}catch(e){}var acY=acN*fM;if(acY===0){afK=ape;}else{afK=acY;}var Zm=gv.firstChild.data.length*(F.dB/2);if(Zm>=K.width){akL++;BA='';gv.firstChild.data=gv.firstChild.data.slice(0,bd);BA=BA+Ug;if(BA.length>1){if(gv.firstChild.data[gv.firstChild.data.length-1]!==' '){gv.firstChild.data+=' ';bd+=1;}yl.push({aM:wG,aoC:gv});wG+=bd;gv=this.as('tspan');gv.setAttributeNS(null,"x",Qe);gv.setAttributeNS(null,"dy",ZY);if(bB===na.length-1){LN=window.document.createTextNode(na[bB]);}else{LN=window.document.createTextNode(Ug);}gv.appendChild(LN);Dr.appendChild(gv);}}abo=ZY*akL;if(abo>=dc){break;}}if(gv.firstChild.data.length>0){yl.push({aM:wG,aoC:gv});}wG+=gv.firstChild.data.length+1;UC=0;}else{UC++;}}return yl;},aEv:function(jL,gv,ei,wG){if(jL.length>0){var ajG=gv.getNumberOfChars();if(jL[0].aM>wG+ajG){return;}for(var G=Math.max(jL[0].aM-wG,0);G<ajG;G++){var K=gv.getExtentOfChar(G);var aK=this.as('rect');this.ba(aK,{x:K.x,y:K.y,width:K.width,height:K.height,fill:jL[0].FE});ei.appendChild(aK);if(jL[0].ea===G+wG){jL.shift();if(jL.length===0){return;}G=jL[0].aM-wG-1;}}}},lC:function(aQ,jX,nl){var dm='M',G;for(G=0;G<jX.length;G++){if(G>0){dm+=' L';}dm+=jX[G].x+','+jX[G].y;}if(nl){dm+='Z';}this.ba(aQ,{d:dm});},Vf:function(aQ,jX,nl){var QE='',G;for(G=0;G<jX.length;G++){if(G>0){QE+=' ';}QE+=jX[G].x+','+jX[G].y;}if(nl&&jX.length>2){QE+=' '+jX[0].x+','+jX[0].y;}this.ba(aQ,{points:QE});},LH:function(fH,kh,wv,pG,sq,Ee,pU){var cG=this.aev(fH,kh,wv,pG,sq);var bJ='';bJ+='stroke:'+Ee+';';switch(sq){case IPCC.Web.UI.LineHeadType.None:bJ='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.lC(pU,[cG.uK,fH,cG.vq],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.lC(pU,[cG.uK,fH,cG.vq],true);bJ+='fill:'+Ee+';';break;case IPCC.Web.UI.LineHeadType.Open:this.lC(pU,[cG.uK,fH,cG.vq],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.lC(pU,[cG.uK,fH,cG.vq,cG.AH],true);bJ+='fill:'+Ee+';';break;}this.ba(pU,{style:bJ});return cG;},Zl:function(J){var F=J.F;var aX,er,G,Kg,Ic,gY='',pJ;aX=F.get_points();er=[];for(G=0;G<aX.get_length();G++){er.push(aX.getPoint(G));}if(er.length<2||F.nl){this.ba(J.wZ,{style:'display:none;'});this.ba(J.wB,{style:'display:none;'});}else{F.va=F.he;pJ=this.Ty(er,true);Kg=this.LH(pJ.fH,pJ.kh,F.GH,F.Ga,F.EA,F.va,J.wZ);pJ=this.Ty(er,false);Ic=this.LH(pJ.fH,pJ.kh,F.Fc,F.Gj,F.mc,F.va,J.wB);er[0]=Kg.AH;er[er.length-1]=Ic.AH;}this.Vf(J.jn,er,F.nl);var yU=this.zc(F.gY);if(yU!==''){gY+='stroke-dasharray:'+yU+';';}this.ba(J.jn,{style:gY});},Yk:function(J){var qp=this.aff(J);this.Vf(J.qR,qp.Yl,false);var agJ='',gY='fill:none;',tf='fill:none;';if(qp.QZ){agJ='stroke:none;';}if(qp.Hi){this.lC(J.jn,qp.Hi,false);}else{gY+='display:none;';}if(qp.Hu){this.lC(J.ri,qp.Hu,false);}else{tf+='display:none;';}var F=J.F;if(F.CR){tf+='stroke:'+F.Gl+';stroke-width:'+F.Fs+';';var yU=this.zc(F.tf);if(yU!==''){tf+='stroke-dasharray:'+yU+';';}}this.ba(J.jn,{style:gY});this.ba(J.ri,{style:tf});this.ba(J.qR,{style:agJ});},HT:function(J){var F=J.F,Gc;if(!F){return;}var K=F.eo();var mF=F.dB*this.Cd/72;F.mF=mF;var vS=K.width,rV=K.height,IW=false,dX;var ld,fv=0,ep=0;var hu=1;if(F.gM){hu+=F.ef/2;}switch(F.AJ){case IPCC.Web.UI.Orientation.TopLeft:ld='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:ld='-1,0,0,1';fv=vS-hu;break;case IPCC.Web.UI.Orientation.BottomRight:ld='-1,0,0,-1';fv=vS-hu;ep=rV-hu;break;case IPCC.Web.UI.Orientation.BottomLeft:ld='1,0,0,-1';ep=rV-hu;break;case IPCC.Web.UI.Orientation.LeftTop:ld='0,1,1,0';IW=true;break;case IPCC.Web.UI.Orientation.RightTop:ld='0,1,-1,0';fv=vS-hu;IW=true;break;case IPCC.Web.UI.Orientation.RightBottom:ld='0,-1,-1,0';fv=vS-hu;ep=rV-hu;IW=true;break;case IPCC.Web.UI.Orientation.LeftBottom:ld='0,-1,1,0';ep=rV-hu;IW=true;break;}if(F.dP==="#c0c0c0"){F.dP='#ffffff';}if(F.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){if(F.jg()===true){F.dP='#ffffff';}else{F.set_opacity(F.cs);}}if(IW){dX=vS;vS=rV;rV=dX;}vS-=2*hu;rV-=2*hu;if(vS<0){vS=0;}if(rV<0){rV=0;}var Yc='normal';var eR='normal';var oP='';var tQ;oP+='word-wrap:break-word;background-color:transparent;line-height:1;';var BQ=0;if(F.oQ.length===7&&F.oQ.charAt(0)==='#'){BQ=parseInt(F.oQ.slice(1),16);}var cs=Math.min(1,Math.max(0,F.vh/255));if(document.documentMode>8){eR='normal';if(F.eR&IPCC.Web.UI.FontStyle.Italic){eR='italic';}Yc='normal';if(F.eR&IPCC.Web.UI.FontStyle.Bold){Yc='bold';}tQ='none';if((F.eR&IPCC.Web.UI.FontStyle.Underline)&&(F.eR&IPCC.Web.UI.FontStyle.Strikeout)){tQ='underline line-through';}else if(F.eR&IPCC.Web.UI.FontStyle.Underline){tQ='underline';}else if(F.eR&IPCC.Web.UI.FontStyle.Strikeout){tQ='line-through';}}else{oP+='color:rgba('+(BQ>>16)+','+((BQ>>8)&255)+','+(BQ&255)+','+cs+');';oP+='font-family:'+F.gp+';';oP+='font-size:'+mF+'px;';if(F.eR&IPCC.Web.UI.FontStyle.Italic){oP+='font-style:italic;';}if(F.eR&IPCC.Web.UI.FontStyle.Bold){oP+='font-weight:bold;';}if((F.eR&IPCC.Web.UI.FontStyle.Underline)&&(F.eR&IPCC.Web.UI.FontStyle.Strikeout)){oP+='text-decoration:underline line-through;';}else if(F.eR&IPCC.Web.UI.FontStyle.Underline){oP+='text-decoration:underline;';}else if(F.eR&IPCC.Web.UI.FontStyle.Strikeout){oP+='text-decoration:line-through;';}}var Fj={x:2,anchor:'start'};switch(F.rk){case IPCC.Web.UI.HorizontalAlignment.Left:oP+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:oP+='text-align:center;';Fj.x=(K.width/2)-3;Fj.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:oP+='text-align:right;';Fj.x=K.width-8;Fj.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'){switch(F.zy){case IPCC.Web.UI.VerticalAlignment.Center:if(F.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.ba(J.NB,{style:'display:table; width: 100%;'});oP+='display: table-cell; white-space: normal; vertical-align: middle; height:'+rV+'px';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.ba(J.de,{style:oP});this.ba(J.iH,{transform:'matrix('+ld+','+(fv+K.x+hu)+','+(ep+K.y+hu)+')'});this.ba(J.Fh,{x:0,y:0,width:vS,height:rV});this.acS(J);}else{var yl=this.auM(J,F.rk);var aln=yl.length;switch(F.zy){case IPCC.Web.UI.VerticalAlignment.Center:if(F.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){Gc=(K.height/2)+(F.dB/4);if(aln>1){Gc-=(aln-1)*(F.dB/2);}if(Gc<0){Gc=F.dB;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.ba(J.DW,{x:0,y:0,width:K.width-5,height:K.height-5});var asP="url(#"+J.LZ+")";var WF={x:Fj.x,y:(this.Cd/72)*F.dB,width:K.width,height:K.height,'font-family':F.gp,'font-size':mF,fill:'rgba('+(BQ>>16)+', '+((BQ>>8)&255)+', '+(BQ&255)+', '+cs+')','font-weight':Yc,'font-style':eR,'text-decoration':tQ,'text-anchor':Fj.anchor};if(typeof Gc!=='undefined'){delete WF.y;WF.dy=Gc;}this.ba(J.eb,WF);J.eb.style.opacity=cs;this.ba(J.iH,{transform:'matrix('+ld+','+(fv+K.x+hu)+','+(ep+K.y+hu)+')','clip-path':asP});var ei=J.aeQ;while(ei&&ei.firstChild){ei.removeChild(ei.firstChild);}if(F.fi){var jL=this.aot(F.fi);for(var G=0;G<yl.length;G++){this.aEv(jL,yl[G].aoC,ei,yl[G].aM);}}}},Bf:function(J){var F=J.F;if(F.bk===null||F.bk===undefined){return;}if(F.bk.length===0&&F.cY>0&&this.V.cT().nj()){F.bk=IPCC.R.Pg(this.V.cT().fI(),F.aM,F.aM+F.cY-1);}if(!J.aM|| !J.cY||J.aM!==F.aM||J.cY!==F.cY||F.ge===false||F.ge===true){while(J.mQ.firstChild){J.mQ.removeChild(J.mQ.firstChild);}if(J.np){while(J.np.firstChild){J.np.removeChild(J.np.firstChild);}}if(J.zs){while(J.zs.firstChild){J.zs.removeChild(J.zs.firstChild);}}if(F.ge===false){return;}IPCC.R.forEach(J.F.bk,function(hJ){var aaP=this.as('rect');J.mQ.appendChild(aaP);this.ba(aaP,{x:hJ.x,y:hJ.y,width:hJ.width,height:hJ.height});if(J.np){var kX=this.as('line');this.ba(kX,{x1:hJ.x,y1:hJ.y+hJ.height-1,x2:hJ.x+hJ.width,y2:hJ.y+hJ.height-1,"stroke-width":2});J.np.appendChild(kX);}if(J.zs){aaP.setAttribute('fill','transparent');var CK=this.as('line');var strikethroughY=hJ.y+(hJ.height/2);this.ba(CK,{x1:hJ.x,y1:strikethroughY,x2:hJ.x+hJ.width,y2:strikethroughY,stroke:J.F.he,"stroke-width":J.F.ef});J.zs.appendChild(CK);}},this);J.aM=F.aM;J.cY=F.cY;}},Qd:function(J){var F=J.F;if(!F){return;}var bg=J.bg;var K,bJ='',aX,gM=true,pg,nV,pa,aae,wo,FV;var ir=false;switch(F.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:ir=true;this.Zl(J);break;case IPCC.Web.UI.MarkType.Rectangle:K=F.get_rectangle();this.ba(bg,{x:K.x,y:K.y,width:K.width,height:K.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.Bf(J);J.mQ.style.fill=F.dP;J.mQ.style.opacity=(F.cs/255);this.wC(J);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.Bf(J);J.mQ.style.fill=F.dP;J.np.style.stroke=F.dP;if(J.F.get_selected()){J.np.style.opacity=IPCC.ag.aG.ys(false,J.F.get_selected());}else{J.np.style.opacity=IPCC.ag.aG.ys(false,J.F.get_selected());}this.wC(J);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:K=F.get_rectangle();this.ba(J.K,{x:K.x,y:K.y,width:K.width,height:K.height});if(J.kX){this.ba(J.kX,{x1:K.x,y1:K.y+K.height,x2:K.x+K.width,y2:K.y+K.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof J.gF!=='undefined'){if(this.V.lO()===true){J.gF.style.opacity=0.5;if(typeof J.de!=='undefined'){J.de.style.opacity=0;}else{J.eb.style.opacity=0;}}else{J.gF.style.opacity=1;if(typeof J.de!=='undefined'){J.de.style.opacity=1;}}}K=F.get_rectangle();this.ba(bg,{x:K.x,y:K.y,width:K.width,height:K.height});this.ba(J.gF,{x:K.x,y:K.y,width:K.width,height:K.height});if(this.V.lO()===false){this.HT(J);}break;case IPCC.Web.UI.MarkType.Ellipse:K=F.get_rectangle();this.ba(bg,{cx:K.x+K.width/2,cy:K.y+K.height/2,rx:K.width/2,ry:K.height/2});break;case IPCC.Web.UI.MarkType.Polygon:aX=this.KU(F);this.Vf(bg,aX,false);bJ+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.Yk(J);this.HT(J);if(typeof document.documentMode==='undefined'){J.uZ.style.cursor=IPCC.aO.ek(this.aN.ES());}break;case IPCC.Web.UI.MarkType.Stamp:K=F.get_rectangle();this.ba(bg,{x:K.x,y:K.y,width:K.width,height:K.height});this.ba(J.wa,{x:K.x,y:K.y,width:K.width,height:K.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});J.wa.style.opacity=1;this.ba(J.gF,{x:K.x,y:K.y,width:K.width,height:K.height,'stroke':F.dP,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(K.width/6);if(textFontSize>K.height){textFontSize=(K.height-(K.height/6));}pg=J.F.get_text();if(!pg){pg='APPROVED';}J.eb.childNodes[0].data=pg;var lE=pg.length*textFontSize;if(lE>K.width){textFontSize=((K.width/pg.length));}FV=Math.round(textFontSize);F.stampSize=FV.toString();this.ba(J.eb,{x:K.x+(K.width/2),y:K.y+(K.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':F.dP,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:K=F.get_rectangle();this.ba(bg,{x:K.x,y:K.y,width:K.width,height:K.height});this.ba(J.wa,{x:K.x,y:K.y,width:K.width,height:K.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});J.wa.style.opacity=1;this.ba(J.gF,{x:K.x,y:K.y,width:K.width,height:K.height,'stroke':F.dP,'stroke-width':'0','fill':'none'});J.zV.setAttribute('height',K.height);J.zV.setAttribute('width',K.width);J.zV.setAttribute('x',K.x);J.zV.setAttribute('y',K.y);J.zV.setAttributeNS('http://www.w3.org/1999/xlink','href',F.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.wC(J);break;case IPCC.Web.UI.MarkType.Highlight:K=F.get_rectangle();if(K.x===0&&K.y===0){var ho=this.V.cT().fI();if(ho.dY()>0){var fn=ho.jY(F.aM);K=fn.aD;}F.lz='y';}this.ba(bg,{x:K.x,y:K.y,width:K.width,height:K.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:K=F.get_rectangle();this.ba(bg,{x:K.x,y:K.y,width:K.width,height:K.height});var Pq=J.aAP;if(F.Nz===true){F.Nz=false;Pq.setAttribute("d",F.get_pathString());var uf=F.get_pathWidth();var tY=F.get_pathHeight();bg.setAttribute('viewBox','0 0 '+uf+' '+tY);J.ahj.setAttribute('width',uf);J.ahj.setAttribute('height',tY);}if(F.get_visible()){J.bg.style.display='block';}else{J.bg.style.display='none';}Pq.style.stroke=F.get_lineColor();Pq.style.strokeWidth=F.get_lineWidth()+'px';Pq.style.opacity=F.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:K=F.get_rectangle();this.ba(bg,{x:K.x,y:K.y,width:K.width,height:K.height});this.ba(J.gF,{x:K.x,y:K.y,width:K.width,height:K.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});J.gF.style.opacity=1;var apO=J.F.get_text()||"";J.eb.childNodes[0].data=apO;nV=12*K.width/(F.vx||1);pa=12*K.height/(F.vp||1);wo=Math.min(nV,pa);var aoA=Math.floor(wo);F.stampSize=aoA.toString();this.ba(J.eb,{x:K.x+(K.width/2),y:K.y+(K.height/2+(wo/3)),'font-size':wo,'stroke':"none",'fill':F.get_fillColor(),'font-family':F.get_fontName()});if(F.get_visible()){J.bg.style.display='block';}else{J.bg.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.ba(bg,{style:'fill:none;opacity:1;'+F.ge?'display:block;':'display:none;'});K=F.get_rectangle();this.ba(bg,{x:K.x,y:K.y,width:K.width,height:K.height});bJ='stroke:'+(F.gM?'black':'none')+';stroke-width:1;';this.ba(J.gF,{x:K.x,y:K.y,width:K.width,height:K.height,'stroke':F.gM?'black':'none','fill':'rgba(255, 255, 255, 0)','style':bJ});J.eb.style.opacity=1;pg=J.F.get_text()||"";J.eb.childNodes[0].data=pg;aae=IPCC.R.aiS(pg,F.get_fontName(),K.width,K.height,{wD:"pre",gf:J.bg});wo=aae.fontSize;F.mF=wo;F.stampSize=wo;F.Mt=true;F.qN=aae;this.ba(J.eb,{x:K.x,y:K.y+(K.height/2+(wo/3)),'font-size':wo,'stroke':"none",'fill':F.get_textColor(),'font-family':F.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.Bf(J);this.wC(J);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',F.get_type());}if(F.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&F.get_type()!==IPCC.Web.UI.MarkType.Freehand&&F.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&F.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&F.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&F.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&F.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&F.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(ir){bJ+='fill:none;';}else{if(F.zB){bJ+='fill:'+F.dP+';';}else{bJ+='fill:none;';}gM=F.gM;var yU=this.zc(F.gY);if(yU!==''){bJ+='stroke-dasharray:'+yU+';';}}if(gM){bJ+='stroke:'+F.get_lineColor()+';';bJ+='stroke-width:'+F.ef+';';}else{bJ+='stroke:none;';}if(F.get_type()===IPCC.Web.UI.MarkType.SignatureText){bJ+='opacity:'+1+';';}else{bJ+='opacity:'+(F.cs/255)+';';}if(!F.ge){bJ+='display:none;';if(J.iH){J.iH.style.display='none';}}else{if(J.iH){J.iH.style.display='block';}}bJ+='cursor:'+IPCC.aO.ek(this.aN.ES())+';';this.ba(bg,{style:bJ});}if(F.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!F.ge){bJ+='display:none;';}else{bJ+='display:block;';}bJ+='cursor:'+IPCC.aO.ek(this.aN.ES())+';';this.ba(bg,{style:bJ});}},wC:function(J){var F=J.F,aBs=F.get_visible();var K=F.get_rectangle();if(K.x===0&&K.y===0){return;}var ei=J.ei;while(ei.firstChild){ei.removeChild(ei.firstChild);}var hl;for(var G=0;G<F.fi.length;G++){for(var bB=0;bB<F.fi[G].length;bB++){var HD=this.V.cT().fI();if(HD.dY()>0){var ZA=HD.jY(F.fi[G].startIndex+bB);hl=ZA.aD;}var aK=this.as('rect');this.ba(aK,{x:hl.x,y:hl.y,width:hl.width,height:hl.height,fill:F.fi[G].color,display:(aBs)?'block':'none'});aK.style.opacity=(F.fi[G].opacity)?(F.fi[G].opacity)/255.0:0.5;ei.appendChild(aK);}}},zc:function(gY){switch(gY){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},HX:function(J){if(J.bg){this.af.nP.removeChild(J.bg);}if(J.iH){this.af.nP.removeChild(J.iH);}delete J.bg;},afM:function(){},amU:function(){this.af=undefined;},as:function(bP){return document.createElementNS('http://www.w3.org/2000/svg',bP);},ba:function(bg,bo){var G;for(G in bo){if(bo.hasOwnProperty(G)){var attr=bo[G];bg.setAttribute(G,attr!==undefined&&attr!==null?attr.toString():'');}}}};IPCC.ag.wb={AU:function(){var vl=IPCC.ag.wb;if(vl.vB===null){
/*@cc_on@if(@_jscript)vl.vB=document.documentMode>8;@else@*/ vl.vB=true;/*@end@*/}return vl.vB;},vB:null};if(IPCC.wb.AU()){IPCC.ag.aG=IPCC.ag.akh;}else{IPCC.ag.aG=IPCC.ag.Ik;}IPCC.ag.aG.ys=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};IPCC.ag.aG.Iz=function(){return 39/255;};IPCC.ag.aG.aGt=function(isSelected){return isSelected?"purple":"blue";};IPCC.ag.aG.prototype.aev=function(fH,kh,wv,pG,sq){var cG={fH:fH,kh:kh,wv:wv,pG:pG,sq:sq};if(fH.x===kh.x&&fH.y===kh.y){cG.sq=IPCC.Web.UI.LineHeadType.None;}var PL=Math.atan2(fH.x-kh.x,-(fH.y-kh.y))+Math.PI/2;wv*=Math.PI/180;var iB=PL+wv;cG.uK={x:fH.x+Math.cos(iB)*pG,y:fH.y+Math.sin(iB)*pG};iB=PL-wv;cG.vq={x:fH.x+Math.cos(iB)*pG,y:fH.y+Math.sin(iB)*pG};switch(cG.sq){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:cG.AH={x:(cG.uK.x+cG.vq.x)/2,y:(cG.uK.y+cG.vq.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:cG.AH={x:fH.x+Math.cos(PL)*pG/2,y:fH.y+Math.sin(PL)*pG/2};break;default:cG.AH=fH;break;}return cG;};IPCC.ag.aG.prototype.aff=function(J){var F=J.F;var K=F.get_rectangle();var KT={x:F.ow.x+K.x+0.00001,y:F.ow.y+K.y+0.00001};var ap={};var fT=[{x:K.x,y:K.y},{x:K.x+K.width,y:K.y},{x:K.x+K.width,y:K.y+K.height},{x:K.x,y:K.y+K.height}];if(!F.Bx){ap.Yl=fT;ap.QZ= !F.gM;return ap;}var G,afe=[];for(G=0;G<4;G++){afe.push({x:(fT[G].x+fT[(G+3)%4].x)/2,y:(fT[G].y+fT[(G+3)%4].y)/2,azi:true});}for(G=3;G>=0;G--){fT.splice(G,0,afe[G]);}function agr(QD){var od,Hx;od=(KT.x-(fT[QD].x+fT[(QD+1)%8].x)/2)*K.height;Hx=od*od;od=(KT.y-(fT[QD].y+fT[(QD+1)%8].y)/2)*K.width;return Hx+od*od;};var Ui=0,ajr=agr(0),hU;for(G=1;G<8;G++){hU=agr(G);if(hU<ajr){ajr=hU;Ui=G;}}fT=fT.slice(Ui+1).concat(fT.slice(0,Ui+1));var Dg=fT[0],Df=fT[7];for(G=fT.length-1;G>=0;G--){if(fT[G].azi){fT.splice(G,1);}}switch(F.LQ){case IPCC.Web.UI.CalloutType.Triangle:fT.splice(0,0,{x:(Dg.x*3+Df.x)/4,y:(Dg.y*3+Df.y)/4});fT.push({x:(Dg.x+Df.x*3)/4,y:(Dg.y+Df.y*3)/4});if(F.CR){ap.QZ=true;ap.Hi=[].concat(fT);ap.Hu=[fT[0],KT,fT[fT.length-1]];}fT.push(KT);break;default:case IPCC.Web.UI.CalloutType.Line:ap.Hu=[{x:(Dg.x+Df.x)/2,y:(Dg.y+Df.y)/2},KT];break;}ap.Yl=fT;if(!F.gM){ap.QZ=true;delete ap.Hi;delete ap.Hu;}return ap;};IPCC.ag.aG.prototype.KU=function(F){var aX=F.get_points();var er=[],G;for(G=0;G<aX.get_length();G++){er.push(aX.getPoint(G));}return er;};IPCC.ag.aG.prototype.Ty=function(er,aDh){var bC=0,PQ=1,ahB=er.length-2,fH,kh;if(!aDh){bC=er.length-1;PQ= -1;}fH=er[bC];bC+=PQ;kh=er[bC];bC+=PQ;while(fH.x===kh.x&&fH.y===kh.y&&ahB>0){kh=er[bC];bC+=PQ;ahB--;}return{fH:fH,kh:kh};};IPCC.ag.aG.prototype.acm=function(V,af,ac,kw){if(!af.mg){af.mg=[];}var mg=af.mg;if(ac.length<1&&mg.length<1){if(af.xj.firstChild){af.xj.innerHTML='';}return;}var bG=V.et();var fB=bG.zY();if(this.gB===undefined){this.gB=40;var Bg=document.createElement("div");Bg.className='pccMarkHandleTopLeft';Bg.visibility='hidden';document.body.appendChild(Bg);if(Bg.currentStyle){this.gB=parseInt(Bg.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aDI=document.defaultView.getComputedStyle(Bg);this.gB=parseInt(aDI.width,10)||0;}document.body.removeChild(Bg);}var G,Jr=[];for(G=0;G<ac.length;G++){if(ac[G].get_visible()===true){if(fB.HH(ac[G])>=0||(ac[G].get_selected()===true&&(ac[G].kc===true||ac[G].mD===true))||ac[G].zH===true){Jr.push(ac[G]);}}}for(G=0;G<mg.length;G++){while(G<mg.length&&(G>=Jr.length||mg[G].F!==Jr[G])){af.xj.removeChild(mg[G].gw);mg.splice(G,1);}if(G<mg.length){this.adA(mg[G],kw);}}for(G=mg.length;G<Jr.length;G++){mg[G]={F:Jr[G]};this.ati(af.xj,mg[G]);this.adA(mg[G],kw);}};IPCC.ag.aG.prototype.yR=function(gw,arw,EL,vD,atE,dG,ct){var dE=[],G,cL;if(ct===undefined){ct='handle';}for(G=0;G<arw;G++){cL={bg:document.createElement('div')};cL.bg.ImGearMarkHandle=cL;cL.dG=dG;cL.bP=vD;cL.bC=atE+G;gw.appendChild(cL.bg);cL.bg.setAttribute('data-pcc-mark',ct+'-'+gw.ImGearMarkRelation.F.gU());dE.push(cL);}return dE;};IPCC.ag.aG.prototype.anV=function(du){if(du.dE===undefined){return;}var G;for(G=0;G<du.dE.length;G++){var cL=du.dE[G];cL.bg.style.cursor=IPCC.aO.ek(cL.dG);}};IPCC.ag.aG.prototype.ati=function(xj,du){du.gw=document.createElement('div');du.gw.style.width='0px';du.gw.style.height='0px';du.gw.style.left='0px';du.gw.style.top='0px';du.gw.style.zIndex='1';var G,F=du.F,cL;du.gw.ImGearMarkRelation=du;switch(F.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:du.dE=this.yR(du.gw,2,this.gB,this.Hc,0,IPCC.aO.Move);du.dE=du.dE.concat(this.yR(du.gw,2,this.gB,this.KI,0,IPCC.aO.Move));break;case IPCC.Web.UI.MarkType.Polygon:du.dE=[];break;case IPCC.Web.UI.MarkType.Freehand:du.dE=[];du.ip=document.createElement('div');du.ip.style.border='1px solid gray';du.ip.style.position='absolute';du.gw.appendChild(du.ip);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(F.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&F.bZ!==undefined){break;}du.ip=document.createElement('div');du.ip.style.border='1px solid gray';du.ip.style.position='absolute';du.gw.appendChild(du.ip);du.dE=this.yR(du.gw,4,this.gB,this.VM,0,-1);du.dE=du.dE.concat(this.yR(du.gw,4,this.gB,this.UJ,0,-1));for(G=4;G<8;G++){cL=du.dE[G];cL.arz=du.dE[G-4];cL.asF=du.dE[(G+1)%4];}if(F.get_type()===IPCC.Web.UI.MarkType.Text){du.dE=du.dE.concat(this.yR(du.gw,1,this.gB,this.ZT,0,IPCC.aO.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:du.dE=this.yR(du.gw,1,this.gB,this.Hc,0,IPCC.aO.Move,'texthandlestart');du.dE=du.dE.concat(this.yR(du.gw,1,this.gB,this.Hc,1,IPCC.aO.Move,'texthandleend'));break;}if(F.kI()===IPCC.Web.UI.MarkType.Text||F.kI()===IPCC.Web.UI.MarkType.TextLine){var ps=document.createElement('div');ps.className='pccEditMarkButton';ps.setAttribute('data-pcc-mark','edit-'+F.gU());ps.onclick=function(bi){bi=bi||{};bi.stopPropagation?bi.stopPropagation():bi.cancelBubble=true;bi.preventDefault?bi.preventDefault():bi.returnValue=false;var qO;var kK=du.gw;while(kK&&(kK.parentNode||kK.ownerSVGElement)){if(kK.parentNode.id&&kK.parentNode.id.indexOf("__pViewId")!== -1){qO=kK.parentNode;}kK=kK.ownerSVGElement||kK.parentNode;}qO&&qO.ax.aBh(bi,F);};du.gw.appendChild(ps);var ayA={bg:ps};du.dE.push(ayA);}xj.appendChild(du.gw);};IPCC.ag.aG.jH={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};IPCC.ag.aG.prototype.VM=0;IPCC.ag.aG.prototype.UJ=1;IPCC.ag.aG.prototype.KI=2;IPCC.ag.aG.prototype.Hc=3;IPCC.ag.aG.prototype.ZT=4;IPCC.ag.aG.prototype.afj=function(cL,aDv){switch(aDv){case IPCC.ag.aG.jH.TopLeft:cL.bg.className='pccMarkHandleTopLeft';break;case IPCC.ag.aG.jH.TopCenter:cL.bg.className='pccMarkHandleTopCenter';break;case IPCC.ag.aG.jH.TopRight:cL.bg.className='pccMarkHandleTopRight';break;case IPCC.ag.aG.jH.MidLeft:cL.bg.className='pccMarkHandleMidLeft';break;case IPCC.ag.aG.jH.MidRight:cL.bg.className='pccMarkHandleMidRight';break;case IPCC.ag.aG.jH.BottomLeft:cL.bg.className='pccMarkHandleBottomLeft';break;case IPCC.ag.aG.jH.BottomCenter:cL.bg.className='pccMarkHandleBottomCenter';break;case IPCC.ag.aG.jH.BottomRight:cL.bg.className='pccMarkHandleBottomRight';break;case IPCC.ag.aG.jH.Point:cL.bg.className='pccMarkHandlePoint';break;case IPCC.ag.aG.jH.TextSelectionStart:cL.bg.className='pccMarkHandleTextSelectionStart';break;case IPCC.ag.aG.jH.TextSelectionEnd:cL.bg.className='pccMarkHandleTextSelectionEnd';break;default:cL.bg.className='pccMarkHandlePoint';break;}};IPCC.ag.aG.prototype.Cv=function(cL,aze,kw,EL,nY){cL.aP=kw.transform(aze);cL.bg.style.left=(cL.aP.x-EL/2)+'px';cL.bg.style.top=(cL.aP.y-EL/2)+'px';cL.bg.style.display='block';cL.bg.style.zIndex='1';this.afj(cL,nY);};IPCC.ag.aG.prototype.adJ=function(cL,EL,nY){cL.bg.style.left=(cL.aP.x-EL/2)+'px';cL.bg.style.top=(cL.aP.y-EL/2)+'px';cL.bg.style.display='block';cL.bg.style.zIndex='1';this.afj(cL,nY);};IPCC.ag.aG.prototype.wX=function(cL){cL.bg.style.display='none';};IPCC.ag.aG.prototype.adA=function(du,kw){du.gw.style.cursor=IPCC.aO.ek(this.aN.ES());var G,F=du.F,dE=du.dE,cL;var er,K,nL,kv,vD,eF;var hU,FX,fv,ep,Rx;switch(F.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:er=this.KU(F);FX=er.length+2-dE.length;if(FX>0){du.dE=du.dE.concat(this.yR(du.gw,FX,this.gB,this.KI,dE.length-2,IPCC.aO.Move));dE=du.dE;}for(G=0;G<er.length;G++){this.Cv(dE[G+2],er[G],kw,this.gB,IPCC.ag.aG.jH.Point);}for(G=er.length+2;G<dE.length;G++){this.wX(dE[G+2]);}break;case IPCC.Web.UI.MarkType.Polygon:er=this.KU(F);FX=er.length-dE.length;if(FX>0){du.dE=du.dE.concat(this.yR(du.gw,FX,this.gB,this.KI,dE.length,IPCC.aO.Move));dE=du.dE;}for(G=0;G<er.length;G++){this.Cv(dE[G],er[G],kw,this.gB,IPCC.ag.aG.jH.Point);}for(G=er.length;G<dE.length;G++){this.wX(dE[G]);}break;case IPCC.Web.UI.MarkType.Freehand:K=F.eo();nL=kw.transform({x:K.x,y:K.y});kv=kw.transform({x:K.x+K.width,y:K.y+K.height});eF={x:Math.min(nL.x,kv.x),y:Math.min(nL.y,kv.y)};eF.width=Math.max(nL.x,kv.x)-eF.x;eF.height=Math.max(nL.y,kv.y)-eF.y;du.ip.style.left=eF.x+'px';du.ip.style.top=eF.y+'px';du.ip.style.width=eF.width+'px';du.ip.style.height=eF.height+'px';du.ip.setAttribute('data-pcc-mark','outline-'+F.gU());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(F.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&F.bZ!==undefined){break;}K=F.eo();dE[0].aP=kw.transform({x:K.x,y:K.y});dE[1].aP=kw.transform({x:K.x+K.width,y:K.y});dE[2].aP=kw.transform({x:K.x+K.width,y:K.y+K.height});dE[3].aP=kw.transform({x:K.x,y:K.y+K.height});eF={x:Math.min(dE[0].aP.x,dE[2].aP.x),y:Math.min(dE[0].aP.y,dE[2].aP.y)};eF.width=Math.max(dE[0].aP.x,dE[2].aP.x)-eF.x;eF.height=Math.max(dE[0].aP.y,dE[2].aP.y)-eF.y;Rx={x:eF.x+eF.width/2,y:eF.y+eF.height/2};for(G=0;G<4;G++){cL=dE[G];vD=(cL.aP.x<Rx.x)?((cL.aP.y<Rx.y)?0:2):((cL.aP.y<Rx.y)?1:3);this.adJ(cL,this.gB,vD);switch(vD){case 0:cL.dG=IPCC.aO.ResizeNW;break;case 1:cL.dG=IPCC.aO.ResizeNE;break;case 2:cL.dG=IPCC.aO.ResizeSW;break;case 3:cL.dG=IPCC.aO.ResizeSE;break;}}du.ip.style.left=eF.x+'px';du.ip.style.top=eF.y+'px';du.ip.style.width=eF.width+'px';du.ip.style.height=eF.height+'px';du.ip.setAttribute('data-pcc-mark','outline-'+F.gU());var aAF=eF.x+eF.width/4;var anC=eF.x+eF.width*3/4;var azT=eF.y+eF.height/4;var apT=eF.y+eF.height*3/4;if(this.aN.zE()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){nL=dE[0].aP;kv=dE[1].aP;var aAc=dE[2].aP;fv=nL.x-kv.x;ep=kv.y-aAc.y;var aqc=fv*fv;var aqe=ep*ep;if(Math.min(aqc,aqe)<this.gB*this.gB*5){this.wX(dE[0]);this.wX(dE[1]);this.wX(dE[2]);this.wX(dE[3]);}}for(G=4;G<8;G++){cL=dE[G];nL=cL.arz.aP;kv=cL.asF.aP;fv=nL.x-kv.x;ep=nL.y-kv.y;hU=fv*fv+ep*ep;if(this.aN.zE()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&hU<this.gB*this.gB*5){this.wX(cL);}else{cL.aP={x:(nL.x+kv.x)/2,y:(nL.y+kv.y)/2};this.adJ(cL,this.gB,G);if(cL.aP.x<aAF){cL.dG=IPCC.aO.ResizeW;}else if(cL.aP.x>anC){cL.dG=IPCC.aO.ResizeE;}else if(cL.aP.y<azT){cL.dG=IPCC.aO.ResizeN;}else if(cL.aP.y>apT){cL.dG=IPCC.aO.ResizeS;}}}if(F.get_type()===IPCC.Web.UI.MarkType.Text){if(F.Bx){this.Cv(dE[8],{x:K.x+F.ow.x,y:K.y+F.ow.y},kw,this.gB,IPCC.ag.aG.jH.Callout);}else{this.wX(dE[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:var fn,hl,CL;var HS=this.V.cT();var ho=HS.fI();if(F.kc===true){CL=F.aM;if(CL>=ho.dY()){fn=ho.jY(ho.dY()-1);hl=fn.vj();this.Cv(dE[0],new IPCC.Web.UI.Point(hl.x+hl.width,hl.y),kw,this.gB,IPCC.ag.aG.jH.TextSelectionStart);break;}fn=ho.jY(F.aM);hl=fn.vj();this.Cv(dE[0],new IPCC.Web.UI.Point(hl.x,hl.y),kw,this.gB,IPCC.ag.aG.jH.TextSelectionStart);}else{this.wX(dE[0]);}if(F.mD===true){CL=F.aM+F.cY-1;if(CL<0){fn=ho.jY(0);hl=fn.vj();this.Cv(dE[1],new IPCC.Web.UI.Point(hl.x,hl.y+hl.height),kw,this.gB,IPCC.ag.aG.jH.TextSelectionEnd);break;}fn=ho.jY(CL);hl=fn.vj();this.Cv(dE[1],new IPCC.Web.UI.Point(hl.x+hl.width,hl.y+hl.height),kw,this.gB,IPCC.ag.aG.jH.TextSelectionEnd);}else{this.wX(dE[1]);}break;}if(F.get_type()===IPCC.Web.UI.MarkType.Text||F.get_type()===IPCC.Web.UI.MarkType.TextLine){var xZ=dE[dE.length-1];if(xZ.bg.className.match(/pcc/)){var VL=du.ip.clientHeight;var Us=du.ip.clientWidth;var ajB=du.ip.offsetTop;var ajl=du.ip.offsetLeft;var ach=xZ.bg.clientHeight;var Yq=xZ.bg.clientWidth;xZ.bg.style.position='absolute';xZ.bg.style.zIndex='2';if(VL>ach+10&&Us>Yq+10){xZ.bg.style.top=(VL-ach)/2+ajB+'px';xZ.bg.style.left=(Us-Yq)/2+ajl+'px';}else{xZ.bg.style.top=VL+ajB+10+'px';xZ.bg.style.left=(Us-Yq)/2+ajl+'px';}}}this.anV(du);};IPCC.ag.aG.prototype.aot=function(hv,vM){var aAo=IPCC.R.amW(hv,vM||'#ffffff'),aCQ=IPCC.R.map(aAo,function(bn){return{aM:bn.startIndex,ea:bn.endIndex,FE:bn.color};});return aCQ;};IPCC.ag.aG.prototype.acS=function(J){var F=J.F;if(F.fi){var jL=this.aot(F.fi);var Iu=F.ay;var Cj='';for(var G=jL.length-1;G>=0;G--){var Yv=jL[G];var aM=Yv.aM;var ea=Yv.ea;var fr=Yv.FE;var ck=IPCC.R.Ia(Iu.substr(aM,ea-aM+1));var arf=IPCC.R.Ia(Iu.substr(ea+1,Iu.length-ea+1));Iu=Iu.substr(0,aM);Cj="<span style='background-color:"+fr+";'>"+ck+'</span>'+arf+Cj;}Cj=IPCC.R.Ia(Iu)+Cj;Cj=Cj.replace(/\n/g,'<br/>');J.de.innerHTML=Cj;}else{J.tx.data=F.ay;}};IPCC.Web.UI.ImGearDocumentHyperlink=function(ni){var aF=0,ey=0,av=0,dc=0,rf=ni.href||"",ayf=ni.borderStyle||"Solid",oX=ni.borderThickness||0,Cc=ni.borderPattern||[1],FI=ni.borderHorizontalRadius||0,Fz=ni.borderHorizontalRadius||0,qQ=ni.borderColor||"#0000FF",nD=ni.borderOpacity||255,K,F;if(typeof nD==='string'){nD=parseInt(nD,10);}if(ni.rectangle){aF=ni.rectangle.x;ey=ni.rectangle.y;av=ni.rectangle.width;dc=ni.rectangle.height;}K=new IPCC.Web.UI.Rectangle(aF,ey,av,dc);this.eo=function(){var abC=new IPCC.Web.UI.Rectangle(K.x,K.y,K.width,K.height);return abC;};this.Dv=function(nx){K.x=nx.x;K.y=nx.y;K.width=nx.width;K.height=nx.height;};this.anF=function(){return rf;};this.auR=function(){return ayf;};this.aus=function(){return oX;};this.atz=function(){return Cc;};this.auB=function(){return FI;};this.auC=function(){return Fz;};this.avd=function(){return qQ;};this.ato=function(){return nD;};this.MK=function(){return F;};this.aqE=function(aDO){F=aDO;};};IPCC.Web.UI.ImGearTextCharacter=function(aF,ey,av,dc,CO,aDE){this.aD=new IPCC.Web.UI.Rectangle(aF,ey,av,dc);this.lc=CO;this.Js=aDE;this.auJ=function(){return CO;};this.vj=function(){var abC=new IPCC.Web.UI.Rectangle(this.aD.x,this.aD.y,this.aD.width,this.aD.height);return abC;};this.aFV=function(){return this.Js;};};IPCC.Web.UI.ImGearTextCharacterCollection=function(){var kH=[];this.awl=function(kA){kH.push(new IPCC.Web.UI.ImGearTextCharacter(kA.aD.x,kA.aD.y,kA.aD.width,kA.aD.height,kA.lc,kA.Js));};this.aHm=function(apy){function nJ(kA){kH.push(kA);};apy.forEach(nJ,{});};this.aGb=function(bC,ajg){var bB;var bd=kH.length;if(bC>kH.length||(bC<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bC,'index of theText Character Collection is out of range');}for(bB=0;bB<bd;bB++){if(kH[bB]===ajg){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same ay Character instance in a kA collection).');}}kH.splice(bC,0,ajg);};this.aAy=function(afw,afd){IPCC.R.forEach(kH,function(lc){lc.aD.width=lc.aD.width*afw;lc.aD.height=lc.aD.height*afd;lc.aD.x=lc.aD.x*afw;lc.aD.y=lc.aD.y*afd;});};this.mq=function(jv,cQ){var XO=[].concat(kH);var G;for(G=0;G<XO.length;G++){jv.call(cQ,new IPCC.Web.UI.ImGearTextCharacter(XO[G].x,XO[G].y),G,this);}};function mb(bC){if(bC>kH.length-1||(bC<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bC);}};this.jY=function(bC){mb(bC);var xW=kH[bC];return new IPCC.Web.UI.ImGearTextCharacter(xW.aD.x,xW.aD.y,xW.aD.width,xW.aD.height,xW.lc,xW.Js);};this.aHh=function(bC,kA){mb(bC);var Dc=kH[bC];if(Dc.aD.x===kA.aD.x&&Dc.aD.y===kA.y&&Dc.aD.width===kA.aD.width&&Dc.aD.height===kA.aD.height&&Dc.lc===kA.lc&&Dc.Js===kA.Js){return;}kH[bC]=kA;};this.dY=function(){return kH.length;};this.aFO=function(bC){mb(bC);kH.splice(bC,1);};this.aHV=function(){if(kH.length<1){return;}kH=[];};return this;};IPCC.Web.UI.ImGearHyperlinkCollection=function(){var Hy=[];this.axL=function(aCT){Hy.push(aCT);};this.dC=function(){return Hy.length;};this.mq=function(jv,cQ){IPCC.R.forEach(Hy,jv,cQ);};this.aCr=function(){if(Hy.length<1){return;}Hy=[];};return this;};IPCC.Web.UI.ImGearHyperlinkPage=function(){var HC=new IPCC.Web.UI.ImGearHyperlinkCollection();this.Mh=function(){return HC;};};IPCC.Web.UI.ImGearTextPage=function(){var aqr=new IPCC.Web.UI.ImGearTextCharacterCollection();var XY=false;var anA=false;var Xu="";var vF=new IPCC.Web.UI.ImGearTextSectionCollection();this.fI=function(){return aqr;};this.nj=function(){return XY;};this.MP=function(L){anA=true;if(L===XY){return;}if((L===true)||(L===false)){XY=L;}};this.zK=function(){return anA;};this.Gk=function(){return Xu;};this.aEg=function(L){if(L===Xu){return;}Xu=L;};this.Xq=function(){return vF;};};IPCC.Web.UI.ImGearTextSection=function(){var K=null;var aM=0;var ea=0;this.eo=function(){return K;};this.Dv=function(L){K=L;};this.ajx=function(){return aM;};this.arj=function(L){aM=L;};this.alI=function(){return ea;};this.aoN=function(L){ea=L;};};IPCC.Web.UI.ImGearTextSectionCollection=function(){var vF=[];this.aeu=function(iK){vF.push(iK);};function mb(bC){if(bC>vF.length-1||(bC<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bC);}};this.ats=function(bC){mb(bC);return vF[bC];};this.dY=function(){return vF.length;};return this;};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.ImGearThumbnailLayout=function(){};IPCC.Web.UI.ImGearThumbnailLayout.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearThumbnailLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.Web.UI.ImGearThumbnailLayout.registerEnum('IPCC.Web.UI.ImGearThumbnailLayout',false);IPCC.Web.UI.ImGearThumbnailSelectionMode=function(){};IPCC.Web.UI.ImGearThumbnailSelectionMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearThumbnailSelectionMode.prototype={Single:1,Multiple:2};IPCC.Web.UI.ImGearThumbnailSelectionMode.registerEnum('IPCC.Web.UI.ImGearThumbnailSelectionMode',false);IPCC.Web.UI.ImGearPageCountStatus=function(){};IPCC.Web.UI.ImGearPageCountStatus.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearPageCountStatus.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};IPCC.Web.UI.ImGearPageCountStatus.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);IPCC.Web.UI.ImGearPageCreateArgs=function(){};IPCC.Web.UI.ImGearPageCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCreateArgs.prototype={};IPCC.Web.UI.ImGearPageCreateArgs.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');IPCC.Web.UI.ImGearPage=function(au){this.aU=undefined;var aY=0;var aR=0,amb=0,amn=0;var bF=0,aiK=0,aiR=0;var GB='';var qC=false;var C=this;var al=new IPCC.Web.UI.gj();this.hh=undefined;this.aGE=undefined;this.fR={uF:0,aoB:false,uz:1000,Xw:false};var iF=new IPCC.Web.UI.ImGearTextPage();var Rc=new IPCC.Web.UI.ImGearHyperlinkPage();var mA=0;var lX=false;var Jw=false,Lo=0,KL=0;function afg(o){return!isNaN(o-0);};if(au.pageNumber!==undefined){if(afg(au.pageNumber)){aY=au.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}if(au.caption!==undefined){IPCC.aV.bP(au.caption,'caption','string');GB=au.caption;}var Db;if(au.Db!==undefined){if(au.textData.text&&au.textData.rectangles){Db=au.textData;}}if(au.selected!==undefined){qC=au.selected;}this.lY=function(){return aY;};this.aGn=function(L){if(afg(au.pageNumber)){aY=L;}};this.lN=function(){return aR;};function aeK(){var aqT=iF.fI();var qn=aR/Lo,pD=bF/KL;aqT.aAy(qn,pD);};function aga(){var HC=Rc.Mh();var qn=aR/Lo,pD=bF/KL;HC.mq(function(ic){ic.Dv(ic.eo().scale(qn,pD));var afT=ic.MK();afT.set_rectangle(afT.get_rectangle().scale(qn,pD));});};this.GN=function(L){aR=L;if(Jw&&aR&&aR!==Lo&&bF&&bF!==KL){aeK();aga();Jw=false;}};this.mN=function(){return bF;};this.Jz=function(L){bF=L;if(Jw&&aR&&aR!==Lo&&bF&&bF!==KL){aeK();aga();Jw=false;}};this.aFa=function(){return amb;};this.ara=function(L){amb=L;};this.aES=function(){return aiK;};this.aqq=function(L){aiK=L;};this.aFf=function(){return amn;};this.aFc=function(L){amn=L;};this.aGz=function(){return aiR;};this.aFA=function(L){aiR=L;};this.Pm=function(){return qC;};this.RZ=function(L){if(qC!==L){qC=L;this.bS('selected');}};this.We=function(){return GB;};this.VU=function(L){IPCC.aV.iZ(L,'caption');GB=L;this.bS('caption');};this.aur=function(){return this.aU;};this.cT=function(){return iF;};this.iR=function(){return mA;};this.sh=function(L){if(mA===L){return;}if(isNaN(L)){return;}mA=L;this.bS('serviceResponseTimeout');};this.ed=function(){return lX;};this.hS=function(L){lX=L;};this.ij=function(T){al.addHandler('propertyChanged',T);};this.mr=function(T){al.removeHandler('propertyChanged',T);};this.wm=function(T){al.addHandler('textPageReady',T);};this.xe=function(T){al.removeHandler('textPageReady',T);};this.anL=function(){return Rc;};this.XR=function(T){al.addHandler('hyperlinkPageReady',T);};this.ahr=function(T){al.removeHandler('hyperlinkPageReady',T);};this.za=function(T){al.dr('textExtractionFailed',T);};this.Gv=function(T){al.dp('textExtractionFailed',T);};this.ait=function(hz){if(aR===0&&bF===0){Jw=true;Lo=hz.width;KL=hz.height;}};this.afX=function(hz){if(iF.fI().dY()>0){return;}else if(hz.errorCode==="1"||hz.errorCode===1){var Qt=new IPCC.Web.UI.ImGearException(hz.errorDescription,{name:'Text Extraction'});var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=Qt;ad.pageNumber=C.get_pageNumber();C.aH('textExtractionFailed',ad);return;}var aoZ=iF.fI();var Sk=false;var aoR;function Ia(ZR){return ZR;};var pD=1;var qn=1;if(hz.height&&hz.height>0&&bF>0){if(hz.height!==bF){pD=bF/hz.height;}}if(hz.width&&hz.width>0&&aR>0){if(hz.width!==aR){qn=aR/hz.width;}}var iK;var amu= -1;var OS;var iV,CO;for(var G=0;G<hz.rectangles.length;G++){iV=hz.rectangles[G];CO=Ia(hz.text[G]);Sk=false;if(iV[2]===0){CO="\n";Sk=true;if(G>0){aoR=hz.rectangles[G-1];iV[2]=aoR[2];}}if(qn===1&&pD===1){OS=new IPCC.Web.UI.ImGearTextCharacter(iV[0],iV[1],iV[2],iV[3],CO,Sk);}else{OS=new IPCC.Web.UI.ImGearTextCharacter(iV[0]*qn,iV[1]*pD,iV[2]*qn,iV[3]*pD,CO,Sk);}if(OS){aoZ.awl(OS);}if(iK===undefined||amu!==iV[1]||iV[0]<iK.eo().x){if(iK){iF.Xq().aeu(iK);}iK=new IPCC.Web.UI.ImGearTextSection();iK.Dv(new IPCC.Web.UI.Rectangle(iV[0],iV[1],iV[2],iV[3]));iK.arj(G);}else{if(iV[0]+iV[2]-iK.eo().x>iK.eo().width){iK.eo().width=iV[0]+iV[2]-iK.eo().x;}}iK.aoN(G);amu=iV[1];}if(iK){iF.Xq().aeu(iK);}iF.aEg(hz.text);if(hz.text.length>0){iF.MP(true);C.aH('textPageReady',{pageNumber:C.lY(),containsText:true});}else{iF.MP(false);C.aH('textPageReady',{pageNumber:C.lY(),containsText:false});}};this.afs=function(ank,SI,TK){if(!ank){return;}Rc.Mh().aCr();var pD=1;var qn=1;if(SI&&SI>0&&bF>0){if(SI!==bF){pD=bF/SI;}}if(TK&&TK>0&&aR>0){if(TK!==aR){qn=aR/TK;}}IPCC.R.forEach(ank,function(amN){var ic;switch(amN.markType){case "DocumentHyperlink":ic=new IPCC.Web.UI.ImGearDocumentHyperlink(amN.properties);ic.Dv(ic.eo().scale(qn,pD));Rc.Mh().axL(ic);break;default:break;}});C.aH('hyperlinkPageReady',{pageNumber:C.lY()});};this.aun=function(){C.zd();};this.zd=function(){if(!C.aU){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(iF.zK()){return;}var agX=true;if(C.iR()===0){agX=false;}function QM(ay){if(ay.pages){var ai;if(ay.pages.length>0){if(ay.pages[0].number!==C.lY()){for(var G=0;G<ay.pages.length;G++){if(ay.pages[G].number===C.lY()){ai=G;break;}}if(!ai){C.fR.Xw=false;return;}}else{ai=0;}var hz=ay.pages[ai];C.fR.Xw=true;if(ay.pages[ai].text&&ay.pages[ai].text.length>0){iF.MP(true);}else{iF.MP(false);}C.fR.uz=1000;setTimeout(function(){C.ait(hz);C.afX(hz);C.afs(hz.markup,hz.height,hz.width);},10);return;}}var rz=C.fR.uz;if(!C.fR.Xw){if(C.fR.uF<6){if(C.fR.uF<2){rz=rz+1000;}else{rz=rz+3000;}C.fR.uF++;C.fR.uz=rz;setTimeout(C.aun,rz);}else{C.fR.aoB=true;}}};function fe(ao){var gk=C.aU.gk,ap;try{var hD;var mJ=ao.getResponseHeader("Accusoft-Data-Encrypted");if(mJ==='true'){var sk=IPCC.Web.hG.pq.rN(ao.getResponseHeader("Accusoft-Data-SK"));var aq=IPCC.Web.HK(sk,gk);var dM=IPCC.Web.Ep(ao);var sL=IPCC.Web.Bd(dM,aq,gk);hD=IPCC.Web.hG.En.mZ(sL);}else{hD=ao.responseText;}if(typeof JSON!=='undefined'){ap=JSON.parse(hD);}else{ap=IPCC.dh.qY(hD);}QM(ap);}catch(e){var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;ad.pageNumber=C.get_pageNumber();C.aH('textExtractionFailed',ad);return;}};function fg(ap){try{if(!ap.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(ap.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(ap.response.status,"Unable to obtain text, Error from the service = "+ap.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(ap.response.status,"Unable to obtain text from the service");}}}catch(e){var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;ad.pageNumber=C.get_pageNumber();C.aH('textExtractionFailed',ad);return;}};var aM=C.get_pageNumber();var kR=C.aU.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(kR))){kR='e'+C.aU.get_encodedDocumentIdentifier();}else{kR='u'+encodeURIComponent(kR);}var fZ=C.aU.pm;var nF=C.aU.nF;var dk;if(C.ed()){dk=fZ+'/Document/q/'+aM.toString()+'-'+aM.toString()+'/Text?DocumentID='+kR+'&iv='+nF;}else{dk=fZ+'/Document/q/'+aM.toString()+'-'+aM.toString()+'/Text?DocumentID='+kR;}var gZ={method:'GET',url:dk,headers:{'accept':'application/json'}};if(agX===true){gZ.timeout=C.iR();}IPCC.R.mB.es(gZ).then(fe,fg);};this.cT=function(){return iF;};this.aqM=function(L){if(typeof L.nj!=='function'){return;}iF=L;};this.Po=function(Bk,Ci){var C=this;function fe(ao){var ap;if(typeof JSON!=='undefined'){ap=JSON.parse(ao.responseText);}else{ap=IPCC.dh.qY(ao.responseText);}if(ap.imageWidth&&ap.imageHeight){Bk(ap.imageWidth,ap.imageHeight);}else{Ci("Unable to obtain document information from the server");}};function fg(ap){Ci("Unable to obtain document information from the server");};if(C.lN()>0||C.mN()>0){Bk(C.lN(),C.mN());}else{var sZ=IPCC.gr.sz(C.aU.get_documentIdentifier());if(!sZ||sZ===""){Ci("Invalid encoded Identifier");}var rs='';if(!IPCC.wb.AU()){rs='&ContentType=png';}var dk;if(!(/^[\x00-\x7F]*$/.test(sZ))){dk=C.aU.pm+'/Page/q/'+(C.get_pageNumber())+'/Attributes?DocumentID=e'+sZ+rs;}else{dk=C.aU.pm+'/Page/q/'+(C.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(C.aU.get_documentIdentifier())+rs;}IPCC.R.mB.es({method:'GET',url:dk,headers:{'Content-Type':'application/json'}}).then(fe,fg);}};this.bS=function(dK){var T=al.getHandler('propertyChanged');if(T){T(this,new IPCC.pQ(dK));}};this.aH=function(bE,H){var T=al.getHandler(bE);if(T!==null){try{T(C,H);}catch(e){IPCC.dZ.NG('event raise, ImGearPage, error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearPage.prototype={get_pageNumber:function(){var bA=this.lY();return bA;},get_pageWidth:function(){var bA=this.lN();return bA;},get_pageHeight:function(){var bA=this.mN();return bA;},get_textPage:function(){var bA=this.cT();return bA;},get_selected:function(){var bA=this.Pm();return bA;},set_selected:function(value){this.RZ(value);},get_caption:function(){var bA=this.We();return bA;},set_caption:function(value){this.VU(value);},get_encryption:function(){var bA=this.ed();return bA;},set_encryption:function(value){this.hS(value);},get_hyperlinkPage:function(){return this.anL();},get_document:function(){var bA=this.aur();return bA;},add_propertyChanged:function(handler){this.ij(handler);},remove_propertyChanged:function(handler){this.mr(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.Po(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};IPCC.Web.UI.ImGearPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPage.registerClass('IPCC.Web.UI.ImGearPage');IPCC.Web.UI.ImGearPageEventArgs=function(){return this;};IPCC.Web.UI.ImGearPageEventArgs.prototype={};IPCC.Web.UI.ImGearPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageEventArgs.registerClass('IPCC.Web.UI.ImGearPageEventArgs');IPCC.Web.UI.ImGearPageCollection=function(){var C=this;var cI=[];var al=new IPCC.Web.UI.gj();this.anl=false;this.alO=true;this.aU=undefined;this.afD=function(bq){this.ajL(cI.length,bq);};function mb(bC){if(bC>cI.length-1||(bC<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bC,'page index is out of range in the page collection');}};this.ajL=function(bC,bq){var bB;var bd=cI.length;if(bC>cI.length||(bC<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bC,'index of the page Collection is out of range');}if(C.alO&&C.anl){if(bd>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(bB=0;bB<bd;bB++){if(cI[bB]===bq){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(C.aU){if(!bq.aU){bq.aU=C.aU;}}bq.add_propertyChanged(BC);cI.splice(bC,0,bq);var H=new IPCC.Web.UI.ImGearPageEventArgs();H.imGearPage=bq;H.length=1;C.aH('pageAdded',H);};this.kj=function(bC){mb(bC);var gO=cI[bC];return gO;};this.apW=function(bC,bq){mb(bC);var TL=cI[bC];if(TL===bq){return;}cI[bC]=bq;var H=new IPCC.Web.UI.ImGearPageEventArgs();H.imGearPage=bq;H.length=1;this.aH('pageAdded',H);TL.remove_propertyChanged(BC);var Cu=new IPCC.Web.UI.ImGearPageEventArgs();Cu.imGearPage=TL;Cu.length=1;this.aH('pageRemoved',Cu);};this.dY=function(){return cI.length;};this.mq=function(jv,cQ){var aib=[].concat(cI);var G;for(G=0;G<aib.length;G++){jv.call(cQ,aib[G],G,this);}};this.agQ=function(bC){mb(bC);var H=new IPCC.Web.UI.ImGearPageEventArgs();H.imGearPage=cI[bC];cI[bC].remove_propertyChanged(BC);H.length=1;cI.splice(bC,1);C.aH('pageRemoved',H);};this.avc=function(bq){var dC=cI.length;for(var G=0;G<dC;G++){if(bq===cI[G]){return G;}}return-1;};this.aCi=function(){var G=0;while(cI.length>0){this.agQ(G);}};function BC(aj,H){var Cu=new IPCC.Web.UI.ImGearPageEventArgs();Cu.imGearPage=aj;Cu.length=1;C.aH('pageChanged',Cu);};this.KF=function(T){al.addHandler('pageAdded',T);};this.La=function(T){al.removeHandler('pageAdded',T);};this.Lw=function(T){al.addHandler('pageChanged',T);};this.Ll=function(T){al.removeHandler('pageChanged',T);};this.KW=function(T){al.addHandler('pageRemoved',T);};this.Lf=function(T){al.removeHandler('pageRemoved',T);};this.aH=function(bE,H){var T=al.getHandler(bE);if(T!==null){try{T(C,H);}catch(e){IPCC.dZ.NG('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearPageCollection.prototype={addPage:function(page){this.afD(page);},insertPage:function(index,page){this.ajL(index,page);},forEach:function(method,context){this.mq(method,context);},getPage:function(index){return this.kj(index);},setPage:function(index,page){this.apW(index,page);},get_length:function(){return this.dY();},removePage:function(index){this.agQ(index);},removeAllPages:function(){this.aCi();},add_pageAdded:function(handler){this.KF(handler);},remove_pageAdded:function(handler){this.La(handler);},add_pageChanged:function(handler){this.Lw(handler);},remove_pageChanged:function(handler){this.Ll(handler);},add_pageRemoved:function(handler){this.KW(handler);},remove_pageRemoved:function(handler){this.Lf(handler);}};IPCC.Web.UI.ImGearPageCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCollection.registerClass('IPCC.Web.UI.ImGearPageCollection');IPCC.Web.UI.ImGearDocumentCreateArgs=function(){return this;};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCreateArgs.prototype={};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');IPCC.Web.UI.ImGearDocument=function(au){var jQ='';var ji='';var C=this;this.cI=new IPCC.Web.UI.ImGearPageCollection();this.nK=undefined;this.cI.aU=this;var OU=false;this.pm=undefined;var fG=0;var Ov=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var GB;var al=new IPCC.Web.UI.gj();this.gk=IPCC.Web.qP.WY(4,IPCC.Web.Qa());this.nF=IPCC.Web.hG.FT.mZ(this.gk);var DE=[];var oK=0;var nB=[];var FB=[];var fR={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var Xs=false;this.aH=function(bE,H){var T=al.getHandler(bE);if(T!==null){try{T(C,H);}catch(e){IPCC.dZ.NG('raise event error in ImGearDocument, error: '+e.message);IPCC.dZ.hY(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function IM(aj,H){if(H.length>0){C.aH('pageAdded',H);}};function Kn(aj,H){if(H.length>0){C.aH('pageRemoved',H);}};function BC(aj,H){C.aH('pageChanged',H);};this.cI.add_pageAdded(IM);this.cI.add_pageRemoved(Kn);this.cI.add_pageChanged(BC);function avY(){function awI(eW,iE){var aI=eW+'() threw an exception ';if(iE.name){aI+='( '+iE.name+" ";}else{aI+=".";}if(iE.message){aI+="  exception message = "+iE.message;}if(iE.statusCode){aI+="  exception statusCode = "+iE.statusCode;}aI=aI.replace(/\n/g," ");IPCC.dZ.hY(aI,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.h=awI;this.aH=function(bE,H){var T=al.getHandler(bE);if(T!==null){T(C,H);}};};if(arguments.length===0){var aI="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',aI);}if(arguments.length>0){if(au.documentIdentifier!==undefined){jQ=au.documentIdentifier;ji=IPCC.gr.sz(jQ);}if(au.encodedDocumentIdentifier!==undefined){var od=au.encodedDocumentIdentifier;if(au.documentIdentifier!==undefined){ji=IPCC.gr.sz(jQ);if(od!==ji){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{jQ=IPCC.gr.Kq(au.encodedDocumentIdentifier);}}if(au.imageServicePath!==undefined){this.pm=au.imageServicePath;if(!IPCC.Web.sS){IPCC.Web.Qy(this.pm);}}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var tK;if(au.includeAllPages!==undefined){OU=au.includeAllPages;if(OU===true){var aEy=new avY();var Xt=0;C.bK=new IPCC.gr(ji,0,0,0,0,0);var lV=function(){fG=C.bK.fG;Ov=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;Xt<fG;Xt++){var cr=new IPCC.Web.UI.ImGearPage({pageNumber:Xt,aU:C});cr.aU=C;C.cI.addPage(cr);}};Ov=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.bK.KM(this.pm,aEy,lV);}catch(e){Ov=IPCC.Web.UI.ImGearPageCountStatus.Failed;var ad=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();ad.exception=e;C.aH('pageOpenFailed',ad);throw e;}}}else if(au.pages!==undefined){if(au.pages.length>0){var G=0;for(G=0;G<au.pages.length;G++){var ds=au.pages[G];ds.document=this;this.cI.addPage(ds);}}}else if(au.pageNumber!==undefined){if(au.pageRangeCount!==undefined){var oc=au.pageRangeCount;if(oc>0){var bN;for(bN=au.pageNumber;bN<=oc;bN++){tK=new IPCC.Web.UI.ImGearPage(bN);tK.aU=C;this.cI.addPage(tK);}}else if(oc===0){tK=new IPCC.Web.UI.ImgearPage({pageNumber:au.pageNumber,aU:C});tK.aU=C;C.cI.addPage(tK);}}else{if(au.selected){tK=new IPCC.Web.UI.ImGearPage({pageNumber:au.pageNumber,aU:C,selected:true});}else{tK=new IPCC.Web.UI.ImGearPage({pageNumber:au.pageNumber,aU:C});}tK.aU=C;C.cI.addPage(tK);}}}this.yq=function(){return jQ;};this.AE=function(){return ji;};this.auZ=function(){return this.cI;};this.auF=function(){return fG;};this.auy=function(){return Ov;};this.atU=function(){return OU;};this.aoj=function(L){OU=L;this.bS('includeAllPages');};var lX=false;this.ed=function(){return lX;};this.hS=function(L){lX=L;};this.KF=function(T){al.addHandler('pageAdded',T);};this.La=function(T){al.removeHandler('pageAdded',T);};this.KW=function(T){al.addHandler('pageRemoved',T);};this.Lf=function(T){al.removeHandler('pageRemoved',T);};this.Ax=function(T){al.addHandler('pageOpenFailed',T);};this.AK=function(T){al.removeHandler('pageOpenFailed',T);};this.ij=function(T){al.addHandler('propertyChanged',T);};this.mr=function(T){al.removeHandler('propertyChanged',T);};this.Lw=function(T){al.addHandler('pageChanged',T);};this.Ll=function(T){al.removeHandler('pageChanged',T);};this.bS=function(dK){var T=al.getHandler('propertyChanged');if(T){T(this,new IPCC.pQ(dK));}};this.We=function(){return GB;};this.VU=function(L){GB=L;this.bS('caption');};this.axN=function(T){al.addHandler('textPagesReceived',T);};this.aBS=function(T){al.removeHandler('textPagesReceived',T);};this.atn=function(){return FB.length;};this.atD=function(){return DE.length;};this.auW=function(){return fR;};this.aji=function(){return Xs;};this.aqn=function(L){Xs=L;};this.ayp=function(fW){if(fR.stopRequests===true){var H={};H.error=0;H.textPagesReceived=MH(fW);if(H.textPagesReceived.length===0){if(oK>0&&oK<fW){for(var cA=oK;cA<fW;cA++){H.textPagesReceived.push(cA);}}}H.length=2;C.aH('textPagesReceived',H);return;}var hO=true;var LJ=false;for(var G=0;G<oK;G++){if(Array.prototype.indexOf){if(DE.indexOf(G)<0){hO=false;LJ=true;break;}}else{if(IPCC.Web.gq(DE,G)<0){LJ=true;break;}}}if(LJ){C.Mw(G,undefined,fW);}else if(oK<fW){for(var bB=0;bB<fW;bB++){if(Array.prototype.indexOf){if(nB.indexOf(bB)<0){hO=false;break;}}else{if(IPCC.Web.gq(nB,bB)<0){hO=false;break;}}}if(!hO){LJ=true;C.Mw(bB,undefined,fW);}else{C.Mw(oK,undefined,fW);}}else{LJ=false;}};function MH(fW){var Uv=[],cA;if(nB.length>0){var hO=true;for(cA=0;cA<fW;cA++){hO=true;if(Array.prototype.indexOf){if(nB.indexOf(cA)<0){hO=false;}}else{if(IPCC.Web.gq(nB,cA)<0){hO=false;}}if(!hO){nB.push(cA);FB.push(cA);Uv.push(cA);}}}else{for(cA=0;cA<fW;cA++){nB.push(cA);FB.push(cA);Uv.push(cA);}}return Uv;};this.Mw=function(ahV,amO,fW){Xs=true;var aM;if(!isNaN(ahV)){aM=ahV;}else{aM=0;}var FK;if(!isNaN(fW)){FK=fW;}var ea;if(!isNaN(amO)){ea=amO;}else if(!isNaN(FK)){ea=FK-1;}else{FK=fW;if(!isNaN(FK)){ea=FK-1;}}if(isNaN(ea)){ea=aM+1;}if(ea-aM>9){ea=aM+9;}function QM(ay){var SB=oK;var Xv=[];var hO=true;var dJ;for(var bq=0;bq<ay.pages.length;bq++){if(Array.prototype.indexOf){if(DE.indexOf(ay.pages[bq].number)<0){hO=false;}}else{if(IPCC.Web.gq(DE,ay.pages[bq].number)<0){hO=false;}}if(!hO){DE.push(ay.pages[bq].number);if(C.cI.kj(ay.pages[bq].number).cT().zK()===false){dJ=C.cI.kj(ay.pages[bq].number);dJ.ait(ay.pages[bq]);dJ.afX(ay.pages[bq]);dJ.afs(ay.pages[bq].markup,ay.pages[bq].height,ay.pages[bq].width);}oK++;Xv.push(ay.pages[bq].number);nB.push(ay.pages[bq].number);if(!ay.pages[bq].text){FB.push(ay.pages[bq].number);}}}var H={};if(ay.hasOwnProperty("errorCode")){H.error=0;C.pageExtractionFailed=true;H.textPagesReceived=Xv;H.length=2;for(var Bc=fR.startPage;Bc<fR.lastPage+1;Bc++){hO=true;if(Array.prototype.indexOf){if(nB.indexOf(Bc)<0){hO=false;}}else{if(IPCC.Web.gq(nB,Bc)<0){hO=false;}}if(!hO){nB.push(Bc);FB.push(Bc);H.textPagesReceived.push(Bc);}}C.aH('textPagesReceived',H);fR.stopRequests=true;return;}if(oK>SB){H.textPagesReceived=Xv;H.length=2;H.error=0;}var rz=fR.lastTimeout;if(fR.startPage===aM&&fR.lastPage===ea&&oK===SB){if(fR.requestCount<25){rz=rz+1000;fR.requestCount++;}else{H.error=0;H.textPagesReceived=[];H.length=2;hO=true;var cA;for(cA=fR.startPage;cA<fR.lastPage+1;cA++){hO=true;if(Array.prototype.indexOf){if(nB.indexOf(cA)<0){hO=false;}}else{if(IPCC.Web.gq(nB,cA)<0){hO=false;}}if(!hO){nB.push(cA);FB.push(cA);H.textPagesReceived.push(cA);}}if(H.textPagesReceived.length===0){if(oK>0&&oK<fW){for(cA=oK;cA<fW;cA++){H.textPagesReceived.push(cA);}}}fR.stopRequests=true;C.aH('textPagesReceived',H);return;}}else{rz=1000;fR.requestCount=0;}fR.lastTimeout=rz;fR.startPage=aM;fR.lastPage=ea;setTimeout(function(){C.ayp(fW);},rz);if(oK>SB){C.aH('textPagesReceived',H);}};function fe(ao){var H={},hD,ap;try{var mJ=ao.getResponseHeader("Accusoft-Data-Encrypted");if(mJ==='true'){var sk=IPCC.Web.hG.pq.rN(ao.getResponseHeader("Accusoft-Data-SK"));var aq=IPCC.Web.HK(sk,C.gk);var dM=IPCC.Web.Ep(ao);var sL=IPCC.Web.Bd(dM,aq,C.gk);hD=IPCC.Web.hG.En.mZ(sL);}else{hD=ao.responseText;}if(typeof JSON!=='undefined'){ap=JSON.parse(hD);}else{ap=IPCC.dh.qY(hD);}QM(ap);}catch(e){H.error= -1;MH(fW);H.textPagesReceived=[];H.length=2;C.aH('textPagesReceived',H);return;}};function fg(ap){var H={},hj;try{hj=ap.response.status;if(ap.response.responseText){if(typeof JSON!=='undefined'){ap=JSON.parse(ap.response.responseText);}else{ap=IPCC.dh.qY(ap.response.responseText);}if(ap.hasOwnProperty("errorCode")){H.error=0;if(oK>0){if(ap.pages){if(ap.pages.length>0){QM(ap);return;}}}else{H.error= -1;}if(nB.length===0){H.error= -1;}C.pageExtractionFailed=true;H.textPagesReceived=[];H.length=2;H.textPagesReceived=MH(fW);C.aH('textPagesReceived',H);return;}else{throw new IPCC.Web.UI.ImGearHttpException(hj,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(hj,"Unable to obtain text");}}catch(e){H.error= -1;MH(fW);H.textPagesReceived=[];H.length=2;C.aH('textPagesReceived',H);return;}};var kR=jQ;var fZ=C.pm;if(!(/^[\x00-\x7F]*$/.test(kR))){kR='e'+ji;}else{kR='u'+kR;}var dk;if(C.ed()){dk=fZ+'/Document/q/'+aM.toString()+'-'+ea.toString()+'/Text?DocumentID='+kR+'&iv='+C.nF;}else{dk=fZ+'/Document/q/'+aM.toString()+'-'+ea.toString()+'/Text?DocumentID='+kR;}IPCC.R.mB.es({method:'GET',url:dk,headers:{'accept':'application/json'}}).then(fe,fg);};return this;};IPCC.Web.UI.ImGearDocument.encodeDocumentIdentifier=function(jQ){var ji;if(jQ!==undefined){ji=IPCC.gr.sz(jQ);}return ji;};IPCC.Web.UI.ImGearDocument.decodeDocumentIdentifier=function(ji){var alq;if(ji!==undefined){alq=IPCC.gr.Kq(ji);}return alq;};IPCC.Web.UI.ImGearDocument.prototype={get_documentIdentifier:function(){var bA=this.yq();return bA;},get_encodedDocumentIdentifier:function(){var bA=this.AE();return bA;},get_pages:function(){return this.auZ();},get_pageCountStatus:function(){var r=this.auy();return r;},set_pageCountStatus:function(value){this.aFn(value);},get_pageCount:function(){var r=this.auF();return r;},get_includeAllPages:function(){try{var bA=this.atU();return bA;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.aoj(value);}catch(e){throw e;}},get_caption:function(){var bA=this.We();return bA;},set_caption:function(value){this.VU(value);},get_encryption:function(){var bA=this.ed();return bA;},set_encryption:function(value){this.hS(value);},add_pageChanged:function(handler){this.Lw(handler);},remove_pageChanged:function(handler){this.Ll(handler);},add_pageRemoved:function(handler){this.KW(handler);},remove_pageRemoved:function(handler){this.Lf(handler);},add_pageAdded:function(handler){this.KF(handler);},remove_pageAdded:function(handler){this.La(handler);},add_pageOpenFailed:function(handler){this.Ax(handler);},remove_pageOpenFailed:function(handler){this.AK(handler);},get_textRequestInfo:function(){try{var bA=this.auW();return bA;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var bA=this.atD();return bA;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var bA=this.atn();return bA;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.axN(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.aBS(handler);}catch(e){this.h('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.ij(handler);},remove_propertyChanged:function(handler){this.mr(handler);}};IPCC.Web.UI.ImGearDocument.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocument.registerClass('IPCC.Web.UI.ImGearDocument');IPCC.Web.UI.ImGearDocumentEventArgs=function(){return this;};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentEventArgs.prototype={};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');IPCC.Web.UI.ImGearDocumentCollection=function(){var lj=[];var al=new IPCC.Web.UI.gj();var C=this;function awc(aj,H){if(H){var RA=new IPCC.Web.UI.ImGearDocumentEventArgs();RA.document=aj;RA.propertyName=H.get_propertyName();RA.length=2;C.aH('documentChanged',RA);}};this.JE=function(asd){this.akp(lj.length,asd);};this.akp=function(bC,aU){var bB;var bd=lj.length;if(bC>lj.length||(bC<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bC,'document index is out of range');}for(bB=0;bB<bd;bB++){if(lj[bB]===aU){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var ahP=al.getHandler('pageAdded');if(ahP){aU.add_pageAdded(ahP);}var aiT=al.getHandler('pageRemoved');if(aiT){aU.add_pageRemoved(aiT);}var ail=al.getHandler('pageChanged');if(ail){aU.add_pageChanged(ail);}aU.add_propertyChanged(awc);lj.splice(bC,0,aU);var H=new IPCC.Web.UI.ImGearDocumentEventArgs();H.imGearDocument=aU;H.index=bC;H.length=1;this.aH('documentAdded',H);};function mb(bC){if(bC>lj.length-1||(bC<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bC,'document index is out of range');}};this.aia=function(bC){mb(bC);return lj[bC];};this.dY=function(){return lj.length;};this.aFR=function(jv,cQ){var ahF=[].concat(lj);var G;for(G=0;G<ahF.length;G++){jv.call(cQ,ahF[G],G,this);}};this.ago=function(bC){mb(bC);var H=new IPCC.Web.UI.ImGearDocumentEventArgs();H.imGearDocument=lj[bC];H.length=1;lj[bC].get_pages().removeAllPages();lj.splice(bC,1);this.aH('documentRemoved',H);};this.azz=function(){var G=0;while(lj.length>0){this.ago(G);}};this.axE=function(T){al.addHandler('documentAdded',T);};this.azJ=function(T){al.removeHandler('documentAdded',T);};this.axQ=function(T){al.addHandler('documentRemoved',T);};this.aCM=function(T){al.removeHandler('documentRemoved',T);};this.axe=function(T){al.addHandler('documentChanged',T);};this.aAY=function(T){al.removeHandler('documentChanged',T);};this.KF=function(T){al.addHandler('pageAdded',T);};this.La=function(T){al.removeHandler('pageAdded',T);for(var bB=0;bB<lj.length;bB++){lj[bB].remove_pageAdded(T);}};this.Lw=function(T){al.addHandler('pageChanged',T);};this.Ll=function(T){al.removeHandler('pageChanged',T);for(var bB=0;bB<lj.length;bB++){lj[bB].remove_pageChanged(T);}};this.KW=function(T){al.addHandler('pageRemoved',T);};this.Lf=function(T){al.removeHandler('pageRemoved',T);for(var bB=0;bB<lj.length;bB++){lj[bB].remove_pageRemoved(T);}};this.aH=function(bE,H){var T=al.getHandler(bE);if(T!==null){try{T(C,H);}catch(e){IPCC.dZ.NG('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearDocumentCollection.prototype={addDocument:function(imGearDocument){this.JE(imGearDocument);},insertDocument:function(index,imGearDocument){this.akp(index,imGearDocument);},forEach:function(method,context){this.mq(method,context);},getDocument:function(index){return this.aia(index);},get_length:function(){return this.dY();},removeDocument:function(imGearDocument){this.ago(imGearDocument);},removeAllDocuments:function(){this.azz();},add_documentAdded:function(handler){this.axE(handler);},remove_documentAdded:function(handler){this.azJ(handler);},add_documentRemoved:function(handler){this.axQ(handler);},remove_documentRemoved:function(handler){this.aCM(handler);},add_documentChanged:function(handler){this.axe(handler);},remove_documentChanged:function(handler){this.aAY(handler);},add_pageAdded:function(handler){this.KF(handler);},remove_pageAdded:function(handler){this.La(handler);},add_pageRemoved:function(handler){this.KW(handler);},remove_pageRemoved:function(handler){this.Lf(handler);},add_pageChanged:function(handler){this.Lw(handler);},remove_pageChanged:function(handler){this.Ll(handler);}};IPCC.Web.UI.ImGearDocumentCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCollection.registerClass('IPCC.Web.UI.ImGearDocumentCollection');IPCC.Web.UI.kx=function(au){this.by=undefined;var al=new IPCC.Web.UI.gj();this.hh=undefined;this.nd=undefined;this.yG=undefined;this.Ah=undefined;this.gl=undefined;this.gA=undefined;this.bG=undefined;this.BM=false;this.Gn=0;this.arQ=undefined;this.iT=false;this.gE=false;if(arguments.length>0){if(au.page!==undefined){this.by=au.page;}}this.bS=function(dK){var T=al.getHandler('propertyChanged');if(T){T(this,new IPCC.pQ(dK));}};return this;};IPCC.Web.UI.aFs=function(){this.gI=new IPCC.Web.UI.ImGearPageCollection();this.aGi=0;return this;};IPCC.Web.UI.Thumbnailcounter=1;IPCC.Web.UI.ImGearThumbnailList=function(element){var C=this;var op='';var GK=IPCC.Web.UI.ImGearArtDataServices.None;var AR='';var qr=null;var SP=null;var aEm;var bV=[];var pm='';var nf=true;var wg;var al=new IPCC.Web.UI.gj();var kM=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var QA=IPCC.Web.UI.ImGearThumbnailSelectionMode.Single;var iy='';var nR='';var sc=0;var sM=IPCC.Web.UI.ImGearThumbnailLayout.VerticalScrollDirection;var Go=140;var vU=124;var vT='gray';var Pi=4;var yS=4;var Nb=2;var NA='#000000';var hT=false;var yO="";var axC=false;this.kV=new IPCC.Web.UI.ImGearDocumentCollection();var gI=new IPCC.Web.UI.ImGearPageCollection();var Ym='#FFDA6A';gI.anl=true;var EV=0;var zL=10;var TG=0;var ahQ=false;var Te=0;var Uh;function je(wt){if(!_debug){return false;}return kM>=wt;};this.h=function(eW,iE){if(!je(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var aI=eW+'() threw an exception ('+iE.name+'), "'+iE.message+'"';aI=aI.replace(/\n/g," ");IPCC.dZ.hY(aI,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearThumbnailList',this.get_igelement().id);};this.bp=function(eW,dU,jA){if(!je(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aI=eW+'(';var G;for(G=0;G<dU.length;G++){if(G>0){aI+=', ';}aI+=IPCC.dZ.im(dU[G],(jA?jA:0));}aI+=')';this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Development);};this.xB=function(eW,dU,jq,jA){if(!je(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aI=eW+'(';var G;for(G=0;G<dU.length;G++){if(G>0){aI+=', ';}aI+=IPCC.dZ.im(dU[G],(jA?jA:0));}aI+=') = ';aI+=IPCC.dZ.im(jq,1);this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Development);};this.bz=function(eW,dU,jq){if(!je(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aI=eW+'(';var G;for(G=0;G<dU.length;G++){if(G>0){aI+=', ';}aI+=IPCC.dZ.im(dU[G],0);}aI+=') = ';aI+=IPCC.dZ.im(jq,1);this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.mX=function(gg,bm){IPCC.dZ.hY(gg,IPCC.Web.UI.DebugItemCause.FunctionCall,bm,'ImGearThumbnailList',this.hb().id);};this.hY=function(gg){IPCC.dZ.hY(gg,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearThumbnailList',this.hb().id);};this.sH=function(){return _debug;};this.BH=function(L){var yk= ! !L;if(_debug===yk){return;}_debug=yk;this.bS('debug');};this.ox=function(){return kM;};this.uJ=function(L){IPCC.aV.iA(L,'value',IPCC.Web.UI.DebugErrorLevel);if(kM===L){return;}kM=L;this.bS('debugErrorLevel');};function dr(bE,T){al.addHandler(bE,T);};function dp(bE,T){al.removeHandler(bE,T);};this.ij=function(T){al.addHandler('propertyChanged',T);};this.mr=function(T){al.removeHandler('propertyChanged',T);};this.aIl=function(T){dr('thumbnailSelectionChanged',T);};this.aIn=function(T){dp('thumbnailSelectionChanged',T);};this.axU=function(T){dr('pageSelectionChanged',T);};this.aCK=function(T){dp('pageSelectionChanged',T);};this.ayz=function(T){dr('pageAddFailed',T);};this.aBr=function(T){dp('pageAddFailed',T);};var nU;this.hb=function(){return nU;};this.pE=function(L){nU=L;};this.rM=0;this.CU=0;this.aH=function(bE,H){try{var T=al.getHandler(bE);if(T!==null){T(C,H);}}catch(e){C.h(bE+'Event',e);}};function rc(){var st,hq;if(op!==''){st=document.getElementById(op);if(st){var JZ=gI.get_length();var G=0;if(JZ>0){hq="{\"selectedPages\":[";for(G=0;G<JZ;G++){if(gI.getPage(G)){var amf=gI.getPage(G).aU.get_encodedDocumentIdentifier();var amF=gI.getPage(G).get_pageNumber();if(amf){if(amF>=0){if(G>0){hq+=",";}hq+='{\"encodedDocumentIdentifier\":"'+amf;hq+='",\"pageNumber\":\"'+amF.toString()+"\"";hq+="}";}}}}hq+=']}';}st.value=hq;}}};this.bS=function(dK){var T=al.getHandler('propertyChanged');if(T){T(this,new IPCC.pQ(dK));}};this.aHy=function(BV){if(IPCC.Web.UI.Thumbnailcounter===undefined||IPCC.Web.UI.Thumbnailcounter===null){IPCC.Web.UI.Thumbnailcounter=1;}var ct=BV+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;return ct;};this.aIx=function(aqi){var ct=aqi+'_'+'_tViewId';return ct;};this.YM=function(){if(sc===undefined||sc===null){sc=1;}var ct=(this.hb().id.toString())+'_'+sc.toString();sc++;return ct;};this.Ww=function(eO){if(IPCC.Web.mO.length>0){if(Array.prototype.indexOf){if(IPCC.Web.mO.indexOf(eO)>=0){return true;}}else{if(IPCC.Web.mO.aGa(eO)>=0){return true;}}}};function BY(){for(var bN=0;bN<bV.length;bN++){if(bV[bN]){if(bV[bN].gl){bV[bN].gl=false;if(bV[bN].by){bV[bN].by.set_selected(false);for(var co=0;co<gI.get_length();co++){if(gI.getPage(co)===bV[bN].by){gI.removePage(co);}}}if(nf===true){document.getElementById(bV[bN].hh).style.backgroundColor=vT;}else{document.getElementById(bV[bN].hh).className='imGearTNItem';}}}}};function rI(Oi,an,bf){if(bf){if(bf.by){if(Oi===true){if(an){an.className='imGearTNSelected';}bf.by.set_selected(true);bf.gl=true;}else{if(an){an.className='imGearTNItem';}bf.by.set_selected(false);bf.gl=false;}}}};function qZ(Oi,an,bf){if(bf){if(bf.by){if(Oi===true){if(an){an.style.backgroundColor=Ym;}bf.by.set_selected(true);bf.gl=true;}else{if(an){an.style.backgroundColor=vT;}bf.by.set_selected(false);bf.gl=false;}}}};function agU(Oi,an,bf,oG){if(nf===true){if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(oG){document.getElementById(oG.hh).style.backgroundColor=vT;}qZ(true,an,bf);gI.removeAllPages();}else if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){qZ(false,an,bf);}}else{if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(oG){document.getElementById(oG.hh).className='imGearTNItem';}rI(true,an,bf);gI.removeAllPages();}else if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){rI(true,an,bf);}}};var fS=0;var aFN=1;var aEY=50;function aax(){Pd();};function Pd(){var G,kx,cd,qT,By;var sD,rS,abY,aeb;var lx,om,pf,yW;var Co=[];var Rk,ZS,Sc,ZC;if(nR===''){return;}sD=nR.scrollTop;rS=nR.scrollLeft;abY=sD+nR.clientHeight;aeb=rS+nR.clientWidth;for(G=0;G<bV.length;G++){kx=bV[G];if(kx&&kx.nd){cd=document.getElementById(kx.hh);lx=cd.offsetTop;om=cd.offsetLeft;pf=lx+cd.offsetHeight;yW=om+cd.offsetWidth;Rk=sD-pf;ZS=rS-yW;Sc=lx-abY;ZC=om-aeb;if(Rk>=0){Co.push({kx:kx,aaE:true,tg:Rk});}else if(Sc<0&&ZS>=0){Co.push({kx:kx,aaE:true,tg:ZS});}else if(Sc>=0){Co.push({kx:kx,aaE:false,tg:Sc});}else if(Rk<0&&ZC>=0){Co.push({kx:kx,aaE:false,tg:ZC});}else{qT=document.getElementById(kx.nd);if(qT){By=qT.ax;By.xM(0);}}}}Co.sort(function(a,b){return a.tg-b.tg;});for(G=0;G<Co.length;G++){kx=Co[G].kx;qT=document.getElementById(kx.nd);if(qT){By=qT.ax;if(By){if(G<aFN){By.xM(0);}else if(G<aEY){By.xM(1);}else{By.xM(2);}}}}};function GI(sender,eventArgs){if(eventArgs){if(eventArgs.domEvent.button!==0){return;}}else if(sender.button!==0){return;}var vK;var Rd="";var an,bN;if(sender.id&&sender.id!==null){vK=sender.id.split('_');if(vK!==undefined){if(C.hb().id===vK[0]){Rd=sender.id;an=sender;}}}else{if(sender.target){if(sender.target.tagName==="DIV"){if(sender.target.firstChild!==null){if(sender.target.firstChild.tagName==="DIV"){an=sender.target;}}}if(!an){if(sender.target.parentNode){if(sender.target.parentNode.id!==undefined&&sender.target.parentNode.id!==""){vK=sender.target.parentNode.id.split('_');if(vK!==undefined){if(C.hb().id===vK[0]){Rd=sender.target.parentNode.id;an=sender.target.parentNode;}else{return;}}else{return;}}else{if(sender.target.parentNode.parentNode){if(sender.target.parentNode.parentNode.id!==undefined&&sender.target.parentNode.parentNode.id!==""){vK=sender.target.parentNode.parentNode.id.split('_');if(vK!==undefined){if(C.hb().id===vK[0]){Rd=sender.target.parentNode.parentNode.id;an=sender.target.parentNode.parentNode;}else{return;}}else{return;}}}}}}}else{var ami=sender.hb();Rd=ami.parentNode.id;an=ami.parentNode;}}var oG;if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){for(bN=0;bN<bV.length;bN++){if(bV[bN].gl===true){if(bV[bN].by){bV[bN].by.set_selected(false);}if(nf===true){document.getElementById(bV[bN].hh).style.backgroundColor=vT;}else{document.getElementById(bV[bN].hh).className='imGearTNItem';}bV[bN].gl=false;oG=bV[bN];break;}}}if(an!==undefined){var xc;var iU;var adg=false;for(bN=0;bN<bV.length;bN++){xc=undefined;if(bV[bN].by){xc=document.getElementById(bV[bN].hh);if(xc===an){adg=true;iU=bV[bN];break;}}}if(adg===true){if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===false){BY();}}else if(sender.ctrlKey){if(sender.ctrlKey===false){BY();}}else{BY();}}if(nf===true){if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(oG){document.getElementById(oG.hh).style.backgroundColor=vT;}qZ(true,an,iU);gI.removeAllPages();}else if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===true){if(iU.gl===true){qZ(false,an,iU);}else{qZ(true,an,iU);}}else{qZ(true,an,iU);}}else if(sender.ctrlKey){if(sender.ctrlKey===true){if(iU.gl===true){qZ(false,an,iU);}else{qZ(true,an,iU);}}else{qZ(true,an,iU);}}else{qZ(true,an,iU);}}}else{if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(oG){document.getElementById(oG.hh).className='imGearTNItem';}rI(true,an,iU);gI.removeAllPages();}else if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===true){if(iU.gl===true){rI(false,an,iU);}else{rI(true,an,iU);}}else{rI(true,an,iU);}}else if(sender.ctrlKey){if(sender.ctrlKey===true){if(iU.gl===true){rI(false,an,iU);}else{rI(true,an,iU);}}else{rI(true,an,iU);}}else{rI(true,an,iU);}}}rc();DG(iU);}}};function awN(aFw,rJ,atb){function T(sender,evnt){GI(sender,evnt);};IPCC.Web.UI.aT.addHandler(atb,"mouseDown",T);rJ.add_mouseDown(T);};function aeD(rJ,vZ){function avE(sender,evnt){awj(vZ);C.scrollToSelectedThumbnail();Pd();vZ.by.GN(rJ.get_pageWidth());vZ.by.Jz(rJ.get_pageHeight());};rJ.add_pageOpened(avE);};function Hh(rJ,vZ){function abK(sender,evnt){var cR=evnt.pageNumber;var BV=evnt.documentIdentifier;function adh(cR){var fG=C.kV.getDocument(0).fG;if(!fG){setTimeout(function(){adh(cR);},2000);return;}TG++;if(TG===1){if(fG<30){zL=Math.floor((fG)/3)+1;}else{zL=10;}}function aeT(){var aY=EV;var aiB=zL;EV+=zL;if(EV+zL>fG){zL=fG-EV;}setTimeout(function(){C.kV.getDocument(0).Mw(aY,aY+aiB-1,aY+aiB);},50);};if(TG===EV+zL){if(EV===0){if(C.kV.getDocument(0).aji()===true){ahQ=true;}else{C.kV.getDocument(0).aqn(true);aeT();}}else{aeT();}}};if(ahQ===false){adh(cR);}vZ.by.GN(rJ.get_pageWidth());vZ.by.Jz(rJ.get_pageHeight());for(var bN=0;bN<bV.length;bN++){if(bV[bN].by.get_pageNumber()===cR&&bV[bN].by.aU.get_documentIdentifier()===BV){bV[bN].gE=false;bV[bN].iT=true;var cP;if(bV[bN].gA===false){if(bV[bN].nd){cP=document.getElementById(bV[bN].nd).ax;}if(cP){cP.display();bV[bN].gA=true;}}if(fS>0){fS=fS-1;}break;}}Pd();if(fS===0){setTimeout(function(){mV();},60);}};rJ.add_pageOpened(abK);if(fS===0&&bV.length>1){if(fS===0){setTimeout(function(){mV();},100);}}};function mV(){var qq;var dA=avo();if(dA>0){qq=dA;}else{qq=awJ(0);}if(qq&&qq>0){if(qq<bV.length){awQ(bV[qq]);}}};function awJ(ou){var abV;for(var co=ou;co<bV.length;co++){if(bV[co].gE===false){if(bV[co].iT===false){abV=co;break;}}}if(abV){return abV;}else{return-1;}};function avo(){var afu=document.getElementById(wg);var bf=bV[0];var bn=document.getElementById(bf.hh);var Iv;if(bV.length>1){var aqF=bV[1];var arx=document.getElementById(aqF.hh);Iv=arx.offsetHeight+(bn.offsetTop*2);}else{Iv=bn.clientHeight+bn.clientTop+(bn.offsetTop*2);}var kl;if(Iv>0){var Aa=Math.ceil(afu.offsetHeight/Iv);var EN=Math.ceil(afu.scrollTop/Iv);var Tw=EN+Aa+2;EN=EN-1;if(EN<0){EN=0;}if(Tw>=bV.length){Tw=bV.length-1;}for(var bN=EN;bN<=Tw;bN++){if(bV[bN].gE===false){if(bV[bN].iT===false){kl=bN;break;}}}}if(kl){return kl;}else{return(-1);}};function Hn(rJ,vZ){function avG(sender,evnt){C.aH('pageAddFailed',evnt);};rJ.add_pageOpenFailed(avG);};function fC(jJ){var tL=document.createElement('div');var G;for(G in jJ){if(jJ.hasOwnProperty(G)){tL.style[G]=jJ[G];}}return tL;};function agp(){var Gu=C.hb().id;var aC=document.getElementById(Gu);var MX;if(iy===''){nR=fC({width:aC.clientWidth+'px',height:aC.clientHeight+'px',position:'relative',margin:'0px',border:'1px solid #000000',overflow:'auto'});if(nf===true){if(sM===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){MX=vU;iy=fC({width:MX+'px',margin:'4px'});nR.style.overflowY='hidden';C.rM=1;if(MX>0){C.CU=aC.clientWidth/MX;}}else{iy=fC({width:aC.clientWidth+'px',height:aC.clientHeight+'px',position:'relative',margin:'4px'});nR.style.overflowX='hidden';C.rM=1;if(vU>0){C.CU=aC.clientWidth/vU;}C.rM=aC.clientHeight/Go;}}else{iy=fC({width:aC.clientWidth+'px',height:aC.clientHeight+'px',position:'relative',margin:'4px'});if(sM===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){nR.style.overflowY='hidden';}else{nR.style.overflowX='hidden';}}nR.onscroll=aax;iy.setAttribute('id',Gu+'_ListContainer');nR.setAttribute('id',Gu+'_ListWrapper');wg=Gu+'_ListWrapper';nR.appendChild(iy);aC.appendChild(nR);}};function Md(bq){var wn;var ajZ='';var kO='';var Ab='';var vA="";var G;if(yO!==""){if(yO.indexOf('{')!== -1){wn=yO.split('{');if(wn.length>0){for(G=0;G<wn.length;G++){kO='';Ab=wn[G];vA="";if(wn[G].indexOf('DC')!== -1){kO=bq.aU.get_caption();if(kO!==undefined){vA=Ab.replace(/DC\}/,bq.aU.get_caption());}else{kO=bq.aU.get_documentIdentifier();vA=Ab.replace(/DC\}/,bq.aU.get_documentIdentifier());}}else if(wn[G].indexOf('PC')!== -1){kO=bq.get_caption();if(kO!==undefined&&kO!==""&&kO!==null){vA=Ab.replace(/PC\}/,bq.get_caption());}else{vA=Ab.replace(/PC\}/,'Page');}}else if(wn[G].indexOf('P#')!== -1){var GQ=bq.aU.get_pages();var bN=GQ.avc(bq);var fM=bN;if(typeof(fM)==='number'){kO=(bN+1).toString();}else if(fM){var eO=parseInt(fM,10);eO++;kO=eO.toString();}if(kO!==null){vA=Ab.replace(/P#\}/,kO);}}else if(wn[G].indexOf('PN')!== -1){kO=(bq.get_pageNumber()+1).toString();if(kO!==null){vA=Ab.replace(/PN\}/,kO);}}else if(wn[G].indexOf('PP')!== -1){kO=bq.aU.get_pages().get_length().toString();if(kO!==null){vA=Ab.replace(/PP\}/,kO);}}ajZ+=vA;}}}}return ajZ;};function adH(au){var bq=au;var Fu=bq.get_pageNumber();var cd;var qT;var aC=document.getElementById(C.hb().id);var dO=null;var qw;var sR=[];var G=0;var bB=0;var bd=C.get_documents().get_length();for(bB=0;bB<bd;bB++){dO=C.get_documents().getDocument(bB);if(dO!==null){qw=dO.nK;if(qw===bq.aU.nK){break;}}}for(var co=0;co<bV.length;co++){if(bV[co].aU){dO=bV[co].aU;if(co===0){sR[G]=dO;G++;continue;}else if(bV[co-1].aU!==dO){sR[G]=dO;G++;continue;}}}for(co=bV.length-1;co>=0;co--){if(bV[co].by){if(bV[co].by===bq){return;}}}var sm=true;var eD;var wR;var cr;var Ap;for(co=0;co<bV.length;co++){eD=bV[co];if(eD.Gn===1){if(bq.aU.nK===eD.Ah){cd=document.getElementById(eD.hh);eD.Gn=0;wR=eD.hh;sm=false;cr=eD;break;}}}var jI=false;for(co=bV.length-1;co>=0;co--){if(bV[co].by){if(bV[co].by.aU===bq.aU){jI=true;break;}}}if(iy===''){agp();}if(nf===false){if(sm){cd=document.createElement('div');cd.className='imGearTNItem';cd.style.styleFloat='left';}Ap=document.createElement('div');Ap.className='imGearTNItemCaption';}if(nf===true){if(sm){cd=cd=fC({width:vU+'px',height:Go+'px',styleFloat:'left',overflow:'hidden',border:Nb+'px solid '+NA,marginRight:yS+'px',marginTop:Pi+'px'});cd.style.cssFloat='left';cd.style.backgroundColor=vT;}Ap=fC({width:vU+'px',height:'30px',overflow:'hidden',padding:'1px',position:'relative',margin:'2px'});}if(sm===true){wR=bq.aU.nK+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;cd.setAttribute('id',wR);}var Ps=wR+'_'+'_tViewId';if(nf===false){qT=document.createElement('div');qT.className='imGearTNImage';}else{qT=fC({width:(vU-4)+'px',height:(Go-40)+'px',overflow:'hidden',padding:'1px'});}qT.setAttribute('id',Ps);var aar=document.createElement("p");if(nf===true){aar.style.cssText="font-family:arial,sans-serif;font-size:10pt;text-align: center;color:#000099;";}var qb="";if(yO!==undefined&&yO!==null&&yO!==""){qb=Md(bq);aar.innerHTML=qb;Ap.appendChild(aar);}IPCC.Web.UI.aT.addHandler(Ap,"mousedown",GI);IPCC.Web.UI.aT.addHandler(cd,"mousedown",GI);cd.appendChild(Ap);cd.appendChild(qT);if(sm===true){cr=new IPCC.Web.UI.kx({page:bq});}bq.hh=wR;cr.nd=Ps;cr.hh=wR;cr.by=bq;cr.Ah=qw;cr.gl=false;cr.gA=false;cr.yG=Ap;cr.bG=undefined;cr.BM=false;cr.aU=bq.aU;cr.iT=false;cr.cR=Fu;var Mv;var dv;if(sm){if(bV.length===0){iy.appendChild(cd);bV.push(cr);}else{for(co=0;co<bV.length;co++){eD=bV[co];if(eD.Ah===qw){if(eD.by){var Zk=eD.by.get_pageNumber();if(Fu<Zk){bV.splice(co,0,cr);dv=document.getElementById(eD.hh);iy.insertBefore(cd,dv);Mv=true;break;}}}}if(!Mv){iy.appendChild(cd);bV.push(cr);}}}var Oe=false;if(sM===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){var ra=cd.clientWidth*(bV.length+1);if(nf===true){ra=cd.clientWidth*(bV.length+1);ra+=((2*yS)*(bV.length+1));iy.style.width=ra+'px';iy.style.height=(cd.clientHeight+(2*yS))+'px';}else{ra=cd.clientWidth*(bV.length+1);iy.style.width=ra+'px';iy.style.height=cd.clientHeight+'px';if(C.rM===0){if(cd.clientWidth>0){C.rM=aC.width/cd.clientWidth;}}if(this.CU===0){if(cd.clientHeight>0){C.rM=aC.height/cd.clientHeight;}}}if((aC.clientWidth+(cd.clientWidth*4))>ra){Oe=true;}}else{if(aC.clientWidth>0){var Gr=aC.clientWidth/(cd.clientWidth+(cd.clientLeft*2));var Aa=aC.clientHeight/(cd.clientHeight+(cd.clientTop*2));C.rM=Aa;C.CU=Gr;if(bV.length<(Gr*Aa)){Oe=true;}}}var jw;jw=new IPCC.Web.UI.ThumbnailView(document.getElementById(Ps));if(jw){jw.pE(document.getElementById(Ps));jw.hS(C.ed());jw.initialize();jw.set_imageHandlerUrl(bq.aU.pm);jw.set_selected(false);jw.set_pageViewClientID(AR);if(C.oJ()){jw.rC(true);}}if(jw){if(mv){jw.set_resourcePath(mv);}Hn(jw,cr);jw.hS(C.ed());var qA=jw.atT();if(!qA){qA=new IPCC.Web.UI.PageViewState();}qA.viewFitType=SP;qA.viewRotationDegreesClockwise=Te;qA.viewZoomFactor=Uh;qA.encryption=C.ed();jw.aqs(qA);}var aDd=C.get_artServiceOption();awN(GI,jw,cd);var JZ=gI.get_length();if(JZ>0){for(G=0;G<JZ;G++){for(co=0;co<bV.length;co++){eD=bV[co];if(eD.by){if(eD.by.aU.get_documentIdentifier()===gI.getPage(G).aU.get_documentIdentifier()){if(gI.getPage(G).get_pageNumber===bq.get_pageNumber()){aeD(jw,cr);break;}}}}}}else{if(bq.get_selected()){aeD(jw,cr);}}Hh(jw,cr);if(bV.length<2){jw.hS(C.ed());jw.openPage({encodedDocumentIdentifier:bq.aU.get_encodedDocumentIdentifier(),pageNumber:bq.get_pageNumber(),artServiceOption:aDd,imGearPage:bq});cr.gE=true;fS++;}var GQ=bq.aU.get_pages();if(GQ.get_length()>1){for(var fV=0;fV<bV.length;fV++){var fs=bV[fV];if(fs.by){if(bq.aU===fs.by.aU){qb=Md(fs.by);var eb=fs.yG.firstChild;if(!eb.igPreviousCaption||eb.igPreviousCaption!==qb){eb.innerHTML=qb;eb.igPreviousCaption=qb;}}}}}qT.ax=jw;return cd;};function awd(amc){var wR=amc.nK+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;var cd;var dO;var sR=[];var Gu=C.hb().id;var aC=document.getElementById(Gu);var qw,bB;var bd=C.get_documents().get_length();for(bB=0;bB<bd;bB++){dO=C.get_documents().getDocument(bB);if(dO){qw=dO.nK;if(qw===amc.nK){break;}}}var G=0;for(var co=0;co<bV.length;co++){if(bV[co].aU){dO=bV[co].aU;if(co===0){sR[G]=dO;G++;continue;}else if(bV[co-1].aU!==dO){sR[G]=dO;G++;continue;}}}if(iy===''){agp();}if(nf===false){cd=document.createElement('div');cd.className='imGearTNItem';cd.style.styleFloat='left';}else if(nf===true){cd=cd=fC({width:vU+'px',height:Go+'px',styleFloat:'left',overflow:'hidden',border:Nb+'px solid '+NA,marginRight:yS+'px',marginTop:Pi+'px'});cd.style.cssFloat='left';cd.style.backgroundColor=vT;}cd.setAttribute('id',wR);var cr=new IPCC.Web.UI.kx();cr.hh=wR;cr.Ah=qw;cr.gl=false;cr.gA=false;cr.bG=undefined;cr.BM=false;cr.Gn=1;cr.aU=dO;cr.iT=false;var abQ;bd=C.get_documents().get_length();for(bB=0;bB<bd;bB++){dO=C.get_documents().getDocument(bB);if(sR[bB]){if(dO===sR[bB]){continue;}else{if(bB+1<bd){var asc=C.get_documents().getDocument(bB+1);if(asc===sR[bB]){abQ=bB;break;}}}}}if(abQ){var oc=0;for(G=0;G<abQ;G++){if(C.get_documents().getDocument(G).get_pages()){oc+=C.get_documents().getDocument(G).get_pages().get_length();}}var apu=bV[oc];var dv=document.getElementById(apu.hh);iy.insertBefore(cd,dv);bV.splice(oc,0,cr);}else{iy.appendChild(cd);bV.push(cr);}if(sM===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){var ra=cd.clientWidth*(bV.length+1);if(nf===true){ra=cd.clientWidth*(bV.length+1);ra+=((2*yS)*(bV.length+1));iy.style.width=ra+'px';iy.style.height=(cd.clientHeight+(2*yS))+'px';}else{ra=cd.clientWidth*(bV.length+1);iy.style.width=ra+'px';iy.style.height=cd.clientHeight+'px';if(this.rM===0){if(cd.clientWidth>0){C.rM=aC.width/cd.clientWidth;}}if(C.CU===0){if(cd.clientHeight>0){C.rM=aC.height/cd.clientHeight;}}}}else{if(aC.clientWidth>0){var Gr=aC.clientWidth/(cd.clientWidth+(cd.clientLeft*2));var Aa=aC.clientHeight/(cd.clientHeight+(cd.clientTop*2));C.rM=Aa;C.CU=Gr;}}return cd;};function IM(aj,H){var bq=H.imGearPage;adH(bq);};function avu(au){var bq=au.imGearPage;var cP;var xc,bN;for(bN=0;bN<bV.length;bN++){xc=undefined;if(bV[bN].by){if(bV[bN].by===bq){xc=document.getElementById(bV[bN].hh);if(xc){if(bV[bN].gA===true){cP=document.getElementById(bV[bN].nd).ax;if(cP.get_selected()){cP.set_selected(false);if(C.get_pageViewClientId()){var pgView=document.getElementById(C.get_pageViewClientId()).ax;pgView.closePage();}}cP.remove_mouseDown(GI);if(cP.get_currentState().documentIdentifier){cP.dispose();}bV[bN].gA=false;}if(bV[bN].yG){IPCC.Web.UI.aT.removeHandler(xc.yG,"mousedown",GI);}xc.style.display='none';bV.splice(bN,1);var GQ=bq.aU.get_pages();if(GQ.get_length()>=1){for(var fV=0;fV<bV.length;fV++){var fs=bV[fV];if(bq.aU===fs.by.aU){if(fs.by){var qb=Md(fs.by);fs.yG.firstChild.innerHTML=qb;}}}}break;}}}}};function Kn(aj,H){avu(H);};function BC(aj,H){if(H){for(var fV=0;fV<bV.length;fV++){var fs=bV[fV];if(H.imGearPage===fs.by){if(fs.by){var oG;if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){for(var bN=0;bN<bV.length;bN++){if(bV[bN].gl===true){if(bV[bN].by){bV[bN].by.set_selected(false);}bV[bN].gl=false;oG=bV[bN];break;}}}var qb=Md(fs.by);fs.yG.firstChild.innerHTML=qb;var cP;var an=document.getElementById(fs.hh);if(fs.by.get_selected()&& !fs.gl){cP=document.getElementById(fs.nd).ax;if(cP){cP.set_imGearPage(fs.by);cP.set_selected(true);C.aH('pageSelectionChanged',{});agU(true,an,fs,oG);}}else if(!fs.by.get_selected()&&fs.gl){cP=document.getElementById(fs.nd).ax;if(cP){cP.set_selected(false);C.aH('pageSelectionChanged',{});agU(false,an,fs,oG);}}break;}}}}};function awA(aj,H){if(H){if(H.propertyName==='caption'){for(var fV=0;fV<bV.length;fV++){var fs=bV[fV];if(fs.by){if(fs.by.aU){if(H.imGearDocument){if(H.imGearDocument===fs.by.aU){var qb=Md(fs.by);fs.yG.firstChild.innerHTML=qb;}}}}}}}};function JE(au){if(C.Pe()===false){return null;}if((AR!==null)&&(AR!=='')){qr=document.getElementById(AR).ax;}var dO=au.imGearDocument;var Yi=C.YM();dO.nK=Yi;if(dO.get_includeAllPages()===false){var cI=dO.get_pages();var bd=cI.get_length();if(bd>0){for(var bN=0;bN<bd;bN++){if(!cI.getPage(bN).aU){cI.getPage(bN).aU=dO;}}cI.forEach(adH);}}else{awd(dO);}};function adN(aj,H){JE(H);};function DG(YP){var bN,an;for(bN=0;bN<bV.length;bN++){if(bV[bN]===YP){an=document.getElementById(bV[bN].hh);if(nf===true){qZ(true,an,bV[bN]);}else{rI(true,an,bV[bN]);}if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){var cP;if(C.get_pageViewClientId()){cP=document.getElementById(bV[bN].nd).ax;if(bV[bN].iT===false||gI.get_length()===0){if(C.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bV[bN].by){if(bV[bN].BM===true){if(bV[bN].bG){cP.openPage({encodedDocumentIdentifier:bV[bN].by.aU.get_encodedDocumentIdentifier(),pageNumber:bV[bN].by.get_pageNumber(),artPage:bV[bN].bG,imGearPage:bV[bN].by});}}else{cP.openPage({encodedDocumentIdentifier:bV[bN].by.aU.get_encodedDocumentIdentifier(),pageNumber:bV[bN].by.get_pageNumber(),imageServiceOption:C.get_artServiceOption(),imGearPage:bV[bN].by});}}}else{if(bV[bN].gE===false){if(bV[bN].iT===false){bV[bN].bG=cP.get_artPage();if(bV[bN].by){if(bV[bN].bG){cP.openPage({encodedDocumentIdentifier:bV[bN].by.aU.get_encodedDocumentIdentifier(),pageNumber:bV[bN].by.get_pageNumber(),artPage:bV[bN].bG,imGearPage:bV[bN].by});bV[bN].gE=true;fS++;}else{cP.openPage({encodedDocumentIdentifier:bV[bN].by.aU.get_encodedDocumentIdentifier(),pageNumber:bV[bN].by.get_pageNumber(),imGearPage:bV[bN].by});bV[bN].gE=true;fS++;}}}}}}if(cP){cP.set_selected(true);C.aH('pageSelectionChanged',{});}}if(bV[bN].by){if(gI.get_length()>0){gI.removeAllPages();}}}if(bV[bN].by){gI.addPage(bV[bN].by);}break;}}rc();};function awQ(bf){var an;var cP;if(fS>0){if(bf.nd){cP=document.getElementById(bf.nd).ax;}if(cP){cP.display();bf.gA=true;}return;}an=document.getElementById(bf.hh);cP=document.getElementById(bf.nd).ax;if(bf.iT===false){if(C.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bf.by){if(bf.BM===true){if(bf.bG){cP.openPage({encodedDocumentIdentifier:bf.by.aU.get_encodedDocumentIdentifier(),pageNumber:bf.by.get_pageNumber(),artPage:bf.bG,imaGearPage:bf.by});}}else{cP.openPage({encodedDocumentIdentifier:bf.by.aU.get_encodedDocumentIdentifier(),pageNumber:bf.by.get_pageNumber(),imageServiceOption:C.get_artServiceOption(),imaGearPage:bf.by});}bf.gE=true;fS++;}}else{bf.bG=cP.get_artPage();if(bf.by){if(bf.bG){cP.openPage({encodedDocumentIdentifier:bf.by.aU.get_encodedDocumentIdentifier(),pageNumber:bf.by.get_pageNumber(),artPage:bf.bG,imaGearPage:bf.by});}else{cP.openPage({encodedDocumentIdentifier:bf.by.aU.get_encodedDocumentIdentifier(),pageNumber:bf.by.get_pageNumber(),imaGearPage:bf.by});}bf.gE=true;fS++;}}}rc();};function awj(YP){var bN,an;var bf;for(bN=0;bN<bV.length;bN++){bf=bV[bN];if(bf===YP){an=document.getElementById(bf.hh);if(nf===true){qZ(true,an,bf);}else{rI(true,an,bf);}if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){var cP;if(C.get_pageViewClientId()){cP=document.getElementById(bf.nd).ax;if(cP){cP.set_selected(true);}}if(bf.by){if(gI.get_length()>0){gI.removeAllPages();}}}if(bf.by){gI.addPage(bf.by);bf.gl=true;}break;}}rc();};this.cg=function(){var bN,an;var eD=bV[0];if(eD&&eD.by){var cI=eD.by.aU.get_pages();var aif=cI.get_length();var bd=10;if(aif<10){bd=aif;}if(bV.length>10&&bd>10){bd=9;}bd=bV.length;for(bN=0;bN<bd;bN++){if(bV[bN].by){an=document.getElementById(bV[bN].hh);var cP;cP=document.getElementById(bV[bN].nd).ax;if(bV[bN].gA===false){if(C.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bV[bN].BM===true){if(bV[bN].bG){if(bV[bN].iT===false){cP.openPage({encodedDocumentIdentifier:bV[bN].by.aU.get_encodedDocumentIdentifier(),pageNumber:bV[bN].by.get_pageNumber(),artPage:bV[bN].bG,imaGearPage:bV[bN].by});fS++;bV[bN].gE=true;}}}else{if(bV[bN].iT===false){cP.openPage({encodedDocumentIdentifier:bV[bN].by.aU.get_encodedDocumentIdentifier(),pageNumber:bV[bN].by.get_pageNumber(),imageServiceOption:C.get_artServiceOption(),imaGearPage:bV[bN].by});fS++;bV[bN].gE=true;}}}else{if(bV[bN].imageDataRequested===false){if(bV[bN].iT===false){if(fS===0){cP.openPage({encodedDocumentIdentifier:bV[bN].by.aU.get_encodedDocumentIdentifier(),pageNumber:bV[bN].by.get_pageNumber(),imaGearPage:bV[bN].by});bV[bN].gE=true;}}}}}if(cP){cP.display();if(bV[bN].gl===true){cP.set_selected(true);}}}}Pd();}};this.aCz=function(){var bf=bV[0];BY();DG(bf);};this.aBa=function(){var bf=bV[bV.length-1];BY();DG(bf);};this.aCx=function(){var bf;var rn;for(var bN=0;bN<bV.length;bN++){rn=bV[bN];if(rn.gl===true){bf=rn;break;}}if(!bf){bf=bV[0];}else{if(bN<=bV.length-1&&bN>0){bN--;bf=bV[bN];BY();DG(bf);}}};this.aBx=function(){var bf;var yo;var bN=bV.length-1;for(bN;bN>=0;bN--){yo=bV[bN];if(yo.gl===true){bf=yo;break;}}if(!bf){bf=bV[0];}else{if(bN<=bV.length-2&&bN>=0){bN++;bf=bV[bN];BY();DG(bf);}}};this.aFe=function(){var dv=document.getElementById(wg);if(sM===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){dv.scrollLeft=0;}else{dv.scrollTop=0;}};this.aDM=function(){var dv=document.getElementById(wg);if(sM===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){dv.scrollLeft=dv.scrollWidth;}else{dv.scrollTop=dv.scrollHeight;}};this.aCg=function(){var bf;var rn;var bN;for(bN=0;bN<bV.length;bN++){rn=bV[bN];if(rn.gl===true){bf=rn;if(bf.iT===false){DG(bf);}break;}}var akR;var aDC;var bn;var dv=document.getElementById(wg);if(!bf){return;}if(bf.hh){if(sM===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){akR=dv.scrollWidth;bn=document.getElementById(bf.hh);aDC=bN*bn.clientWidth;dv.scrollLeft=bn.offsetLeft;}else{akR=dv.scrollHeight;bn=document.getElementById(bf.hh);dv.scrollTop=bn.offsetTop;}}};this.aEF=function(){var bf=bV[0];var bn=document.getElementById(bf.hh);var dv=document.getElementById(wg);var qW;if(sM===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){qW=dv.scrollLeft+bn.clientWidth+bn.clientLeft;dv.scrollLeft=qW;}else{qW=dv.scrollTop;dv.scrollTop=qW+bn.clientHeight+bn.clientTop;}};this.aBP=function(){var bf=bV[0];var bn=document.getElementById(bf.hh);var dv=document.getElementById(wg);var qW;if(sM===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){qW=dv.scrollLeft;qW=qW-(bn.clientWidth+bn.clientLeft);if(qW>0){dv.scrollLeft=qW;}else{dv.scrollLeft=0;}}else{qW=dv.scrollTop-(bn.clientHeight+bn.clientTop);if(qW>0){dv.scrollTop=qW;}else{dv.scrollTop=0;}}};function aya(vZ){var cP;cP=document.getElementById(vZ.nd).ax;if(cP){cP.saveArtPage();}};this.azR=function(air){var bf;for(var bN=0;bN<bV.length;bN++){bf=bV[bN];aya(bf);}if(air){air();}};this.arS=function(){if(C.kV.get_length()>0){C.kV.removeAllDocuments();}bV=[];};this.aGk=function(){return pm;};this.aFj=function(L){IPCC.aV.iZ(L,'value');pm=L;this.bS('imageServicePath');};this.Le=function(){return op;};this.JK=function(L){IPCC.aV.iZ(L,'value');op=L;};this.aiH=function(){return AR;};this.aup=function(){return nf;};this.aqP=function(L){nf=L;this.bS('useDefaultStyling');};this.auN=function(){return NA;};this.aqN=function(L){NA=L;this.bS('thumbnailBorderColor');};this.atI=function(){return Nb;};this.aqS=function(L){Nb=L;this.bS('thumbnailBorderWidth');};this.yP=function(Da){if(Da!==IPCC.Web.UI.ImGearArtDataServices.None&&Da!==IPCC.Web.UI.ImGearArtDataServices.ArtDataService){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.ImGearArtDataServices enumeration.');}GK=Da;};this.AT=function(){return GK;};this.XZ=function(){return this.kV;};this.aGf=function(){return yO;};this.ark=function(L){IPCC.aV.iZ(L,'value');yO=L;this.bS('thumbnailCaptionFormat');};this.aiH=function(){return AR;};this.apG=function(L){if(AR!==L){AR=L;qr=null;this.bS('pageViewClientId');}};this.auh=function(){return sM;};this.apX=function(L){sM=L;this.bS('thumbnailsLayout');};this.auu=function(){return QA;};this.arl=function(L){if(L!==IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple&&L!==IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.ImGearThumbnailSelectionMode enumeration.');}QA=L;if(QA===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){gI.alO=false;}this.bS('selectionMode');};this.Pe=function(){return hT;};this.Kv=function(L){hT=L;this.bS('enabled');};this.ava=function(){return vU;};this.aqg=function(L){vU=L;this.bS('thumbnailWidth');};this.auK=function(){return Go;};this.aqb=function(L){Go=L;this.bS('thumbnailHeight');};this.auV=function(){return vT;};this.aro=function(L){vT=L;this.bS('thumbnailBackgroundColor');};this.atG=function(){return Ym;};this.apS=function(L){Ym=L;this.bS('thumbnailSelectedBackgroundColor');};this.aih=function(){return yS;};this.arp=function(L){yS=L;this.bS('xSpacing');};this.atR=function(){return Pi;};this.apA=function(L){Pi=L;this.bS('ySpacing');};this.atJ=function(){return axC;};this.atL=function(){return gI;};var mv;this.uE=function(L){mv=L;};this.pd=function(){return mv;};this.gJ=function(aaN){for(var fV=0;fV<bV.length;fV++){var fs=bV[fV];if(aaN===fs.by){var cP=document.getElementById(fs.nd).ax;if(cP){return(cP.get_artPage());}}}return null;};this.apN=function(L){SP=L;};this.aua=function(){return SP;};this.arg=function(L){Te=L;};this.ave=function(){return Te;};this.apB=function(L){Uh=L;};this.aty=function(){return Uh;};var qL=false;this.oJ=function(){return qL;};this.rC=function(L){if(qL===L){return;}qL=L;this.bS('requireRequestsOptimize');};var lX=false;this.ed=function(){return lX;};this.hS=function(L){if(typeof L!=="boolean"){return;}if(L===lX){return;}lX=L;};this.initialize=function(){aEm=this.hb().id;var aC=this.hb();var G;for(G=aC.childNodes.length-1;G>=0;G--){if(aC.childNodes[G].tagName!=='INPUT'){aC.removeChild(aC.childNodes[G]);}}this.kV.add_documentAdded(adN);this.kV.add_pageAdded(IM);this.kV.add_pageRemoved(Kn);this.kV.add_pageChanged(BC);this.kV.add_documentChanged(awA);this.Kv(true);aC.ax=this;};};IPCC.Web.UI.ImGearThumbnailList.prototype={dispose:function(){this.bp('dispose',arguments);this.arS();this.Kv(false);},get_debug:function(){try{var bA=this.sH();this.bz('get_debug',arguments,bA);return bA;}catch(e){this.h('get_debug',e);throw e;}},set_debug:function(value){try{this.bp('set_debug',arguments);var ny=this.sH();this.BH(value);if(!ny){this.bp('set_debug',arguments);}}catch(e){this.h('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bA=this.ox();this.bz('get_debugErrorLevel',arguments,bA);return bA;}catch(e){this.h('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bp('set_debugErrorLevel',arguments);var ny=this.ox();this.uJ(value);if(ny<IPCC.Web.UI.DebugErrorLevel.Development){this.bp('set_debugErrorLevel',arguments);}}catch(e){this.h('set_debugErrorLevel',e);throw e;}},add_pageSelectionChanged:function(handler){try{this.axU(handler);}catch(e){this.h('add_pageSelectionChanged',e);throw e;}},remove_pageSelectionChanged:function(handler){try{this.aCK(handler);}catch(e){this.h('remove_pageSelectionChanged',e);throw e;}},add_pageAddFailed:function(handler){try{this.ayz(handler);}catch(e){this.h('add_pageAddFailed',e);throw e;}},remove_pageAddFailed:function(handler){try{this.aBr(handler);}catch(e){this.h('remove_pageAddFailed',e);throw e;}},add_mouseDown:function(handler){try{this.zr(handler);}catch(e){this.h('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.GF(handler);}catch(e){this.h('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.zx(handler);}catch(e){this.h('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Fm(handler);}catch(e){this.h('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.zm(handler);}catch(e){this.h('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Gg(handler);}catch(e){this.h('remove_mouseUp',e);throw e;}},add_propertyChanged:function(handler){try{this.add_propertyChanged(handler);}catch(e){this.h('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mr(handler);}catch(e){this.h('remove_propertyChanged',e);throw e;}},writeToLog:function(message){try{this.hY(message);}catch(e){this.h('writeToLog',e);throw e;}},get_documents:function(){return this.XZ();},get_controlStateElementId:function(){try{var bA=this.Le();this.bz('get_controlStateElementId',arguments,bA);return bA;}catch(e){this.h('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bp('set_controlStateElementId',arguments);this.JK(value);}catch(e){this.h('set_controlStateElementId',e);throw e;}},get_useDefaultStyling:function(){try{var bA=this.aup();this.bz('get_get_useDefaultStyling',arguments,bA);return bA;}catch(e){this.h('get_useDefaultStyling',e);throw e;}},set_useDefaultStyling:function(value){try{this.bp('set_useDefaultStyling',arguments);this.aqP(value);}catch(e){this.h('set_useDefaultStyling',e);throw e;}},get_selectedPages:function(){try{var bA=this.atL();this.bz('get_currentSelectedPages',arguments,bA);return bA;}catch(e){this.h('get_currentSelectedPages',e);throw e;}},get_artDataChanged:function(){try{var bA=this.atJ();this.bz('get_artDataChanged',arguments,bA);return bA;}catch(e){this.h('get_artDataChanged',e);throw e;}},get_xSpacing:function(){try{var bA=this.aih();this.bz('get_xSpacing',arguments,bA);return bA;}catch(e){this.h('get_xSpacing',e);throw e;}},set_xSpacing:function(value){try{this.bp('set_xSpacing',arguments);this.arp(value);}catch(e){this.h('set_xSpacing',e);throw e;}},get_ySpacing:function(){try{var bA=this.atR();this.bz('get_ySpacing',arguments,bA);return bA;}catch(e){this.h('get_ySpacing',e);throw e;}},set_ySpacing:function(value){try{this.bp('set_ySpacing',arguments);this.apA(value);}catch(e){this.h('set_ySpacing',e);throw e;}},get_thumbnailHeight:function(){try{var bA=this.auK();this.bz('get_thumbnailHeight',arguments,bA);return bA;}catch(e){this.h('get_thumbnailHeight',e);throw e;}},set_thumbnailHeight:function(value){try{this.bp('set_thumbnailHeight',arguments);this.aqb(value);}catch(e){this.h('set_thumbnailHeight',e);throw e;}},get_thumbnailWidth:function(){try{var bA=this.ava();this.bz('get_thumbnailWidth',arguments,bA);return bA;}catch(e){this.h('get_thumbnailWidth',e);throw e;}},set_thumbnailWidth:function(value){try{this.bp('set_thumbnailWidth',arguments);this.aqg(value);}catch(e){this.h('set_thumbnailWidth',e);throw e;}},get_thumbnailBackgroundColor:function(){try{var bA=this.auV();this.bz('get_thumbnailBackgroundColor',arguments,bA);return bA;}catch(e){this.h('get_thumbnailBackgroundColor',e);throw e;}},set_thumbnailBackgroundColor:function(value){try{this.bp('set_thumbnailBackgroundColor',arguments);this.aro(value);}catch(e){this.h('set_thumbnailBackgroundColor',e);throw e;}},get_thumbnailSelectedBackgroundColor:function(){try{var bA=this.atG();this.bz('get_thumbnailSelectedBackgroundColor',arguments,bA);return bA;}catch(e){this.h('get_thumbnailSelectedBackgroundColor',e);throw e;}},set_thumbnailSelectedBackgroundColor:function(value){try{this.bp('set_thumbnailSelectedBackgroundColor',arguments);this.apS(value);}catch(e){this.h('set_thumbnailSelectedBackgroundColor',e);throw e;}},get_thumbnailBorderWidth:function(){try{var bA=this.atI();this.bz('get_thumbnailBorderWidth',arguments,bA);return bA;}catch(e){this.h('get_thumbnailBorderWidth',e);throw e;}},set_thumbnailBorderWidth:function(value){try{this.bp('set_thumbnailBorderWidth',arguments);this.aqS(value);}catch(e){this.h('set_thumbnailBorderWidth',e);throw e;}},get_thumbnailBorderColor:function(){try{var bA=this.auN();this.bz('get_thumbnailBorderColor',arguments,bA);return bA;}catch(e){this.h('get_thumbnailBorderColor',e);throw e;}},set_thumbnailBorderColor:function(value){try{this.bp('set_thumbnailBorderColor',arguments);this.aqN(value);}catch(e){this.h('set_thumbnailBorderColor',e);throw e;}},get_resourcePath:function(){try{var bA=this.pd();this.bz('get_resourcePath',arguments,bA);return bA;}catch(e){this.h('get_resourcePath',e);throw e;}},set_resourcePath:function(L){try{this.bp('set_resourcePath',arguments);this.uE(L);}catch(e){this.h('set_resourcePath',e);throw e;}},get_pageViewClientId:function(){try{var bA=this.aiH();this.bz('get_pageViewClientId',arguments,bA);return bA;}catch(e){this.h('get_pageViewClientId',e);throw e;}},set_pageViewClientId:function(value){try{this.bp('set_pageViewClientId',arguments);this.apG(value);}catch(e){this.h('set_pageViewClientId',e);throw e;}},get_selectionMode:function(){try{var bA=this.auu();this.bz('selectionMode',arguments,bA);return bA;}catch(e){this.h('get_selectionMode',e);throw e;}},set_selectionMode:function(value){try{this.bp('set_selectionMode',arguments);this.arl(value);}catch(e){this.h('set_selectionMode',e);throw e;}},get_layout:function(){try{var bA=this.auh();this.bz('getthumbnailsLayout',arguments,bA);return bA;}catch(e){this.h('get_thumbnailsLayout',e);throw e;}},set_layout:function(value){try{this.bp('set_thumbnailsLayout',arguments);this.apX(value);}catch(e){this.h('set_thumbnailsLayout',e);throw e;}},get_enabled:function(){try{var bA=this.Pe();this.bz('get_enabled',arguments,bA);return bA;}catch(e){this.h('get_enabled',e);throw e;}},get_thumbnailCaptionFormat:function(){try{var bA=this.aih();this.bz('get_thumbnailCaptionFormat',arguments,bA);return bA;}catch(e){this.h('get_thumbnailCaptionFormat',e);throw e;}},set_thumbnailCaptionFormat:function(value){try{this.bp('set_thumbnailCaptionFormat',arguments);this.ark(value);}catch(e){this.h('set_thumbnailCaptionFormat',e);throw e;}},get_artServiceOption:function(){try{var bA=this.AT();this.bz('get_artServiceOption',arguments,bA);return bA;}catch(e){this.h('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bp('set_artServiceOption',arguments);this.yP(value);}catch(e){this.h('set_artServiceOption',e);throw e;}},selectPreviousThumbnail:function(){try{this.bp('selectPreviousThumbnail',arguments,1);this.aCx();}catch(e){this.h('selectPreviousThumbnail',e);throw e;}},selectNextThumbnail:function(){try{this.bp('selectNextThumbnail',arguments,1);this.aBx();}catch(e){this.h('selectNextThumbnail',e);throw e;}},selectFirstThumbnail:function(){try{this.bp('selectFirstThumbnail',arguments,1);this.aCz();}catch(e){this.h('selectFirstThumbnail',e);throw e;}},selectLastThumbnail:function(){try{this.bp('selectLastThumbnail',arguments,1);this.aBa();}catch(e){this.h('selectLastThumbnail',e);throw e;}},scrollToNextBand:function(){try{this.bp('scrollToNextBand',arguments,1);this.aEF();}catch(e){this.h('scrollToNextBand',e);throw e;}},scrollToPreviousBand:function(){try{this.bp('scrollToPreviousBand',arguments,1);this.aBP();}catch(e){this.h('scrollToPreviousBand',e);throw e;}},scrollToFirstThumbnail:function(){try{this.bp('scrollToFirst',arguments,1);this.aFe();}catch(e){this.h('scrollToFirst',e);throw e;}},scrollToLastThumbnail:function(){try{this.bp('scrollToFirst',arguments,1);this.aDM();}catch(e){this.h('scrollToFirst',e);throw e;}},scrollToSelectedThumbnail:function(){try{this.bp('ScrollToSelectedThumbnail',arguments,1);this.aCg();}catch(e){this.h('ScrollToSelectedThumbnail',e);throw e;}},saveArtData:function(onComplete){try{this.bp('saveArtData',arguments,1);this.azR(onComplete);}catch(e){this.h('saveArtData',e);throw e;}},getArtPage:function(page){try{var bA=this.gJ(page);this.xB('getArtPage',arguments,bA,1);return bA;}catch(e){this.h('getArtPage',e);throw e;}},display:function(){try{this.bp('display',arguments,1);this.cg();}catch(e){this.h('display',e);throw e;}},get_requireRequestsOptimize:function(){try{var bA=this.oJ();this.bz('get_requireRequestsOptimize',arguments,bA);return bA;}catch(e){this.h('oJ',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bp('set_requireRequestsOptimize',arguments);this.rC(value);}catch(e){this.h('set_requireRequestsOptimize',e);throw e;}},get_pageViewFitType:function(){try{var bA=this.aua();this.bz('get_pageViewFitType',arguments,bA);return bA;}catch(e){this.h('get_pageViewFitType',e);throw e;}},set_pageViewFitType:function(value){try{this.bp('set_pageViewFitType',arguments);this.apN(value);}catch(e){this.h('set_pageViewFitType',e);throw e;}},get_pageViewRotationDegreesClockwise:function(){try{var bA=this.ave();this.bz('get_pageViewRotationDegreesClockwise',arguments,bA);return bA;}catch(e){this.h('get_pageViewRotationDegreesClockwise',e);throw e;}},set_pageViewRotationDegreesClockwise:function(value){try{this.bp('set_pageViewRotationDegreesClockwise',arguments);this.arg(value);}catch(e){this.h('set_pageViewRotationDegreesClockwise',e);throw e;}},get_pageViewZoomFactor:function(){try{var bA=this.aty();this.bz('get_pageViewZoomFactor',arguments,bA);return bA;}catch(e){this.h('get_pageViewZoomFactor',e);throw e;}},set_pageViewZoomFactor:function(value){try{this.bp('set_pageViewZoomFactor',arguments);this.apB(value);}catch(e){this.h('set_pageViewZoomFactor',e);throw e;}},get_encryption:function(){try{var bA=this.ed();this.bz('get_encryption',arguments,bA);return bA;}catch(e){this.h('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bp('set_encryption',arguments);this.hS(value);}catch(e){this.h('set_encryption',e);throw e;}}};IPCC.Web.UI.ImGearThumbnailList.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearThumbnailList.registerClass('IPCC.Web.UI.ImGearThumbnailList',IPCC.Sys.UI.Control);IPCC.Type.registerNamespace('IPCC');IPCC.PageLayout=function(){};IPCC.PageLayout.registerEnum=IPCC.Web.regEnum;IPCC.PageLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.PageLayout.registerEnum('IPCC.PageLayout',false);IPCC.ViewMode=function(){};IPCC.ViewMode.registerEnum=IPCC.Web.regEnum;IPCC.ViewMode.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};IPCC.ViewMode.registerEnum('IPCC.ViewMode',false);IPCC.FitType=function(){};IPCC.FitType.registerEnum=IPCC.Web.regEnum;IPCC.FitType.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};IPCC.FitType.registerEnum('IPCC.FitType',false);IPCC.ScaleTrigger=function(){};IPCC.ScaleTrigger.registerEnum=IPCC.Web.regEnum;IPCC.ScaleTrigger.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};IPCC.ScaleTrigger.registerEnum('IPCC.ScaleTrigger',false);IPCC.PageEventArgs=function(){return this;};IPCC.PageEventArgs.registerClass=IPCC.Web.regClass;IPCC.PageEventArgs.prototype={};IPCC.PageEventArgs.registerClass('IPCC.PageEventArgs');IPCC.ExceptionEventArgs=function(){return this;};IPCC.ExceptionEventArgs.registerClass=IPCC.Web.regClass;IPCC.ExceptionEventArgs.prototype={};IPCC.ExceptionEventArgs.registerClass('IPCC.ExceptionEventArgs');IPCC.OpenPageEventArgs=function(){return this;};IPCC.OpenPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.OpenPageEventArgs.prototype={};IPCC.OpenPageEventArgs.registerClass('IPCC.OpenPageEventArgs');IPCC.Pagecounter=1;IPCC.PageList=function(element){var C=this;var IG=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var ayc=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var al=new IPCC.Web.UI.gj();var bQ=[];var wg;var aW='';var AC='';var bx='';var mY='';var po='';var sc=0;this.kV=new IPCC.Web.UI.ImGearDocumentCollection();var Qx=[];this.aFy=0;this.aFt={x:0,y:0};var fS=0;var Ev=0;var kM=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var hT=false;var bW=0;var eB=0;var pY=0;var ia=0;var xu=false;var cu=[];var qH=[];var JU='';var cq=1;var cO=IPCC.Web.UI.MouseTool.None;var BF=false;var vu=true;var dG=IPCC.aO.None;var ly;var fL=0;var hC=0;var hw=0;var iJ=15;var kn=0;var iS=15;var nI=0;var or=0;var ro=0;var rh=0;var alU=0;var ha=0;var gW=0;var nX=1;var eU=IPCC.PageLayout.VerticalScrollDirection;var cX=IPCC.ViewMode.Document;var nc=null;var WK=null;var OC=0;var qh=0;var yM=0;var kQ=null;var KO=0;var KG='';var Gx='';var kE=[];var gG=3;var vG=0;var Ge=0.5;var Fa=true;var Xg;var tq=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var qL=true;var mA;var cB={};var uT=false;var qv=function(){return null;};var ju=null;var amD="font-size:11px;color:#888;text-align:center;cursor:pointer;";var alH=amD+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var amQ=amD+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var SCREEN_RESOLUTION=96;var ab;function je(wt){if(!_debug){return false;}return kM>=wt;};this.h=function(eW,iE){if(!je(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var aI=eW+'() threw an exception ('+iE.name+'), "'+iE.message+'"';aI=aI.replace(/\n/g," ");IPCC.dZ.hY(aI,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.hb().id);var oh=new IPCC.ExceptionEventArgs();oh.functionName=eW;oh.exception=iE;this.aH('exceptionThrown',oh);};this.bp=function(eW,dU,jA){if(!je(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aI=eW+'(';var G;for(G=0;G<dU.length;G++){if(G>0){aI+=', ';}aI+=IPCC.dZ.im(dU[G],(jA?jA:0));}aI+=')';this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Development);};this.xB=function(eW,dU,jq,jA){if(!je(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aI=eW+'(';var G;for(G=0;G<dU.length;G++){if(G>0){aI+=', ';}aI+=IPCC.dZ.im(dU[G],(jA?jA:0));}aI+=') = ';aI+=IPCC.dZ.im(jq,1);this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Development);};this.bz=function(eW,dU,jq){if(!je(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aI=eW+'(';var G;for(G=0;G<dU.length;G++){if(G>0){aI+=', ';}aI+=IPCC.dZ.im(dU[G],0);}aI+=') = ';aI+=IPCC.dZ.im(jq,1);this.mX(aI,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.mX=function(gg,bm){IPCC.dZ.hY(gg,IPCC.Web.UI.DebugItemCause.FunctionCall,bm,'PageList',this.hb().id);};this.hY=function(gg){IPCC.dZ.hY(gg,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.hb().id);};this.sH=function(){return _debug;};this.BH=function(L){var yk= ! !L;if(_debug===yk){return;}_debug=yk;var G=0;for(G=0;G<cu.length;G++){var aw;if(bQ[cu[G]].bU){aw=document.getElementById(bQ[cu[G]].bU).ax;}if(aw){aw.set_debug(_debug);}}this.bS('debug');};this.ox=function(){return kM;};this.uJ=function(L){IPCC.aV.iA(L,'value',IPCC.Web.UI.DebugErrorLevel);if(kM===L){return;}kM=L;var G=0;for(G=0;G<cu.length;G++){var aw;if(bQ[cu[G]].bU){aw=document.getElementById(bQ[cu[G]].bU).ax;}if(aw){aw.set_debugErrorLevel(kM);}}this.bS('debugErrorLevel');};function dr(bE,T){al.addHandler(bE,T);};function dp(bE,T){al.removeHandler(bE,T);};this.zr=function(T){dr('mouseDown',T);};this.GF=function(T){dp('mouseDown',T);};this.zx=function(T){dr('mouseMove',T);};this.Fm=function(T){dp('mouseMove',T);};this.zm=function(T){dr('mouseUp',T);};this.Gg=function(T){dp('mouseUp',T);};this.WN=function(T){dr('selectTextMouseToolCompleted',T);};this.Vj=function(T){dp('selectTextMouseToolCompleted',T);};this.wm=function(T){dr('textPageReady',T);};this.xe=function(T){dp('textPageReady',T);};this.XR=function(T){dr('hyperlinkPageReady',T);};this.ahr=function(T){dp('hyperlinkPageReady',T);};this.ayG=function(T){dr('allPagesAdded',T);};this.aAp=function(T){dp('allPagesAdded',T);};this.LW=function(T){dr('pageOpening',T);};this.KQ=function(T){dp('pageOpening',T);};this.LE=function(T){dr('pageOpened',T);};this.LM=function(T){dp('pageOpened',T);};this.Ax=function(T){dr('pageOpenFailed',T);};this.AK=function(T){dp('pageOpenFailed',T);};this.Mo=function(T){dr('pageDisplayed',T);};this.Lb=function(T){dp('pageDisplayed',T);};this.ij=function(T){dr('propertyChanged',T);};this.mr=function(T){dp('propertyChanged',T);};this.Wi=function(T){dr('exceptionThrown',T);};this.TO=function(T){dp('exceptionThrown',T);};this.za=function(T){dr('textExtractionFailed',T);};this.Gv=function(T){dp('textExtractionFailed',T);};this.yH=function(T){dr('markAdded',T);};this.xP=function(T){dp('markAdded',T);};this.XL=function(T){dr('markCreating',T);};this.SA=function(T){dp('markCreating',T);};this.Ez=function(T){dr('markChanged',T);};this.ER=function(T){dp('markChanged',T);};this.Eu=function(T){dr('markReordered',T);};this.Gz=function(T){dp('markReordered',T);};this.CY=function(T){dr('markSelectionChanged',T);};this.Gm=function(T){dp('markSelectionChanged',T);};this.Ln=function(T){dr('markTextSelectionChanged',T);};this.LC=function(T){dp('markTextSelectionChanged',T);};this.AF=function(T){dr('markRemoved',T);};this.xS=function(T){dp('markRemoved',T);};this.ayl=function(T){dr('commentAdding',T);};this.aAT=function(T){dp('commentAdding',T);};this.xw=function(T){dr('commentAdded',T);};this.Fl=function(T){dp('commentAdded',T);};this.xv=function(T){dr('commentRemoved',T);};this.Fk=function(T){dp('commentRemoved',T);};this.wV=function(T){dr('commentChanged',T);};this.wK=function(T){dp('commentChanged',T);};this.WC=function(T){dr('scaleChanged',T);};this.UY=function(T){dp('scaleChanged',T);};this.xI=function(){var ax=document.getElementById(bQ[bW].bU).ax;if(ax){return ax.get_currentState();}else{return null;}};this.aoG=function(){return bQ[bW].by;};this.uh=function(){return cq;};this.asg=function(bX){ks(bX,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.Pl=function(aB,zo,Uq,dV){dV=dV||IPCC.ScaleTrigger.Zoom;ks(cq*aB,Uq,undefined,undefined,undefined,zo,dV);};this.aoi=function(aB,aF,ey,DN,dV){dV=dV||IPCC.ScaleTrigger.Zoom;if(cq*aB<8){ks(cq*aB,false,aF,ey,DN,undefined,dV);}else{ks(8,false,aF,ey,DN);}};this.aaR=function(aB,dV){dV=dV||IPCC.ScaleTrigger.Zoom;ks(cq/aB,false,undefined,undefined,undefined,undefined,dV);};this.atO=function(){return aaj();};this.acH=function(dV,fd,ZM){var KZ,Lk,aR,bF;var Xp=0;var G=0;for(G=0;G<bQ.length;G++){aR=bQ[G].le();bF=bQ[G].pF();if(jj(bQ[G].gR)===true){var Mn=aR;aR=bF;bF=Mn;}if(aR>0&&bF>0){var Jh=aR/bF;if(Jh>Xp){Xp=Jh;KZ=bF;Lk=aR;}}}if(Xp>0){var asZ=(aW.offsetWidth-IPCC.Web.oe()-vE()-(iJ+iS+or+rh));var apJ=asZ/(Lk*SCREEN_RESOLUTION/bQ[0].hB);var fa=fL;var fJ=hC;if(jj(bQ[0].gR)===true){fa=hC;fJ=fL;}var adU=KZ/fJ*apJ;var kD=(aW.clientHeight-(hw+kn+nI+ro))/(fJ*SCREEN_RESOLUTION/bQ[0].fK);var Mk=adU;if(ZM===true&&adU>kD){Mk=kD;}ks(Mk,true,undefined,undefined,undefined,undefined,dV,fd);}};this.acX=function(dV,fd,ZM){var KZ,Lk,aR,bF;var Wo=0;var G=0;for(G=0;G<bQ.length;G++){aR=bQ[G].le();bF=bQ[G].pF();if(jj(bQ[G].gR)===true){var Mn=aR;aR=bF;bF=Mn;}if(aR>0&&bF>0){var Jh=bF/aR;if(Jh>Wo){Wo=Jh;KZ=bF;Lk=aR;}}}if(Wo>0){var aqH=(aW.offsetHeight-IPCC.Web.oe()-(hw+kn+nI+ro));var arv=aqH/(KZ*SCREEN_RESOLUTION/bQ[0].fK);var fa=fL;var fJ=hC;if(jj(bQ[0].gR)===true){fa=hC;fJ=fL;}var afn=Lk/fa*arv;var kD=(aW.clientWidth-vE()-(iJ+iS+or+rh))/(fa*SCREEN_RESOLUTION/bQ[0].hB);var Mk=afn;if(ZM===true&&afn>kD){Mk=kD;}ks(Mk,true,undefined,undefined,undefined,undefined,dV,fd);}};this.atM=function(fd,dV){if(C.ym&&typeof C.ym==='function'){C.ym();}var aR;var bF;var eV;var ku=1;dV=dV||IPCC.ScaleTrigger.Fit;if(fd===IPCC.FitType.FitToWidth){if(cX===IPCC.ViewMode.Document){ku=(aW.offsetWidth-IPCC.Web.oe()-vE()-(iJ+iS+or+rh))/(ha/cq);ks(ku,true,undefined,undefined,undefined,undefined,dV,fd);}else if(cX===IPCC.ViewMode.SinglePage){if(jj(bQ[bW].gR)===true){aR=bQ[bW].pF();eV=SCREEN_RESOLUTION/bQ[bW].fK;}else{aR=bQ[bW].le();eV=SCREEN_RESOLUTION/bQ[bW].hB;}ku=(aW.offsetWidth-IPCC.Web.oe()-vE()-(iJ+iS+or+rh))/(aR*eV);ks(ku,true,undefined,undefined,undefined,undefined,dV,fd);}else{if(eU===IPCC.PageLayout.VerticalScrollDirection){abI(dV,fd);}else{C.acH(dV,fd);}}}else if(fd===IPCC.FitType.ShrinkToWidth){var aoy=aW.clientWidth-vE();var apM=20;var Vd=aoy-apM;if(cX===IPCC.ViewMode.SinglePage){if(jj(bQ[bW].gR)===true){aR=bQ[bW].pF();eV=SCREEN_RESOLUTION/bQ[bW].fK;}else{aR=bQ[bW].le();eV=SCREEN_RESOLUTION/bQ[bW].hB;}if(Vd<cq*aR*eV){ku=(aW.offsetWidth-IPCC.Web.oe()-vE()-(iJ+iS+or+rh))/(aR*eV);ks(ku,true,undefined,undefined,undefined,undefined,dV,fd);}}else{if(Vd<ha){ks(cq*Vd/ha,true,undefined,undefined,undefined,undefined,dV,fd);}}}else if(fd===IPCC.FitType.ActualSize){if(cX===IPCC.ViewMode.Document||cX===IPCC.ViewMode.SinglePage){ks(1,true,undefined,undefined,undefined,undefined,dV,fd);}}else if(fd===IPCC.FitType.FitToHeight){if(cX===IPCC.ViewMode.Document){ku=(aW.offsetHeight-IPCC.Web.oe()-(hw+kn+nI+ro))/(gW/cq);ks(ku,true,undefined,undefined,undefined,undefined,dV,fd);}else if(cX===IPCC.ViewMode.SinglePage){if(jj(bQ[bW].gR)===true){bF=bQ[bW].le();eV=SCREEN_RESOLUTION/bQ[bW].hB;}else{bF=bQ[bW].pF();eV=SCREEN_RESOLUTION/bQ[bW].fK;}ku=(aW.offsetHeight-IPCC.Web.oe()-(hw+kn+nI+ro))/(bF*eV);ks(ku,true,undefined,undefined,undefined,undefined,dV,fd);}else{if(eU===IPCC.PageLayout.HorizontalScrollDirection){abI(dV,fd);}else{C.acX(dV,fd);}}}else if(fd===IPCC.FitType.BestFit){var DQ;if(cX===IPCC.ViewMode.Document){ku=(aW.offsetWidth-IPCC.Web.oe()-(iJ+iS+or+rh))/(ha/cq);DQ=(aW.offsetHeight-IPCC.Web.oe()-(hw+kn+nI+ro))/(gW/cq);if(DQ<ku){ku=DQ;}ks(ku,true,undefined,undefined,undefined,undefined,dV,fd);}else if(cX===IPCC.ViewMode.SinglePage){if(jj(bQ[bW].gR)===true){aR=bQ[bW].pF();bF=bQ[bW].le();eV=SCREEN_RESOLUTION/bQ[bW].hB;}else{aR=bQ[bW].le();bF=bQ[bW].pF();eV=SCREEN_RESOLUTION/bQ[bW].fK;}ku=(aW.offsetWidth-IPCC.Web.oe()-vE()-(iJ+iS+or+rh))/(aR*eV);DQ=(aW.offsetHeight-IPCC.Web.oe()-(hw+kn+nI+ro))/(bF*eV);if(DQ<ku){ku=DQ;}ks(ku,true,undefined,undefined,undefined,undefined,dV,fd);}else{if(eU===IPCC.PageLayout.HorizontalScrollDirection){C.acH(dV,fd,true);}else{C.acX(dV,fd,true);}}}};this.atv=function(aY,aX){var bq=bQ[aY-1];var bu=document.getElementById(bq.bU);var Fv=[];if(bu){var eA,Gq,aP;try{eA=aaK(bu);}catch(e){return null;}Fv=IPCC.R.map(aX,function(gO){Gq=bu.ax.transformPagePointToWindow(new IPCC.Web.UI.Point(gO.x,gO.y),true);aP=agE(bu,Gq.x,Gq.y,eA);return{clientX:aP.x,clientY:aP.y};});return Fv;}else{return null;}};this.arB=function(){var G=0;for(G=0;G<bQ.length;G++){C.cg(G);}xC();mV(true);};this.cg=function(ai){var bM;if(bQ[ai].bU){bM=document.getElementById(bQ[ai].bU);}C.vO(bM,ai);};this.vO=function(bM,ai){if(kQ!==null){return;}if(bM&&bM.ax&&bM.ax.hg()===true){var aw=bM.ax;aw.display();bQ[ai].gA=true;var sp=false;for(var bB=0;bB<cu.length;bB++){if(cu[bB]===ai){sp=true;}}if(sp===false){cu.push(ai);}if(cX===IPCC.ViewMode.SinglePage){var kC= -1;if(Array.prototype.indexOf){kC=kE.indexOf(ai);}else{kC=IPCC.Web.gq(kE,ai);}if(kC!== -1){kE.splice(kC,1);}}}};this.yJ=function(ai,F){var bM;if(bQ[ai].bU){bM=document.getElementById(bQ[ai].bU);}if(bM&&bM.ax){bM.ax.yJ(F);}};this.pM=function(ai){var bM;if(bQ[ai].bU){bM=document.getElementById(bQ[ai].bU);}if(bM&&bM.ax){bM.ax.pM();}};this.Ww=function(eO){var oW=false;if(IPCC.Web.mO.length>0){if(Array.prototype.indexOf){if(IPCC.Web.mO.indexOf(eO)>=0){return true;}}else{if(IPCC.Web.gq(IPCC.Web.mO,eO)>=0){return true;}}}return oW;};var nU='';this.pE=function(L){nU=L;};this.hb=function(){return nU;};this.aH=function(bE,H){try{var T=al.getHandler(bE);if(T!==null){T(C,H);}}catch(e){C.h(bE+'Event',e);}};this.bS=function(dK){var T=al.getHandler('propertyChanged');if(T){T(this,new IPCC.pQ(dK));}};this.ayd=function(T){al.addHandler('currentPageChanged',T);};this.azE=function(T){al.removeHandler('currentPageChanged',T);};this.ahT=function(){return bx.style.cursor||'auto';};this.apK=function(L){bx.style.cursor=L||'auto';};this.XN=function(){return cO;};this.Kl=function(L){IPCC.aV.iA(L,'value',IPCC.Web.UI.MouseTool);var qu=false;if(cO!==L){ly=null;cO=L;switch(cO){case IPCC.Web.UI.MouseTool.HandPan:dG=IPCC.aO.HandOpen;bx.style.cursor=IPCC.aO.ek(dG);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:C.Ae();dG=IPCC.aO.Text;bx.style.cursor=IPCC.aO.ek(dG);break;case IPCC.Web.UI.MouseTool.None:dG=IPCC.aO.None;bx.style.cursor=IPCC.aO.ek(dG);break;case IPCC.Web.UI.MouseTool.Magnifier:dG=IPCC.aO.Magnifier;bx.style.cursor=IPCC.aO.ek(dG);break;case IPCC.Web.UI.MouseTool.RectangleZoom:dG=IPCC.aO.RectangleZoom;bx.style.cursor=IPCC.aO.ek(dG);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:dG=IPCC.aO.AddRectangleMark;bx.style.cursor=IPCC.aO.ek(dG);qu=true;ly=function(){return[new IPCC.gc(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:dG=IPCC.aO.AddRectangleRedactionMark;bx.style.cursor=IPCC.aO.ek(dG);qu=true;ly=function(){return[new IPCC.gc(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:dG=IPCC.aO.AddEllipseMark;bx.style.cursor=IPCC.aO.ek(dG);qu=true;ly=function(){return[new IPCC.gc(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:dG=IPCC.aO.AddLineMark;bx.style.cursor=IPCC.aO.ek(dG);qu=true;ly=function(){return[new IPCC.qU()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:dG=IPCC.aO.AddStampMark;bx.style.cursor=IPCC.aO.ek(dG);qu=true;ly=function(){return[new IPCC.gc(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:dG=IPCC.aO.AddImageStampMark;bx.style.cursor=IPCC.aO.ek(dG);qu=true;ly=function(){return[new IPCC.gc(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:dG=IPCC.aO.AddImageStampMark;bx.style.cursor=IPCC.aO.ek(dG);qu=true;ly=function(){return[new IPCC.gc(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:dG=IPCC.aO.AddTextMark;bx.style.cursor=IPCC.aO.ek(dG);qu=true;ly=function(){return[new IPCC.gc(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:dG=IPCC.aO.AddTextMark;bx.style.cursor=IPCC.aO.ek(dG);qu=true;ly=function(){return[new IPCC.gc(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:dG=IPCC.aO.AddFreehandLineMark;bx.style.cursor=IPCC.aO.ek(dG);qu=true;ly=function(){return[new IPCC.oH()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:dG=IPCC.aO.AddPolylineMark;bx.style.cursor=IPCC.aO.ek(dG);qu=true;ly=function(){return[new IPCC.lM(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:dG=IPCC.aO.EditMarks;bx.style.cursor=IPCC.aO.ek(dG);qu=true;ly=function(){return[new IPCC.oq(IPCC.Web.UI.MarkType.Text)];};break;default:dG=IPCC.aO.None;bx.style.cursor=IPCC.aO.ek(dG);break;}var G=0;for(G=0;G<bQ.length;G++){var aw;if(bQ[G].bU){var bM=document.getElementById(bQ[G].bU);if(bM){aw=bM.ax;}}if(aw){if(qu===true){aw.KD(ly());}else{aw.set_mouseTool(IPCC.Web.UI.MouseTool.None);}}}this.bS('mouseTool');}};this.atK=function(){return BF;};this.aEG=function(bool){BF= ! !bool;};this.zE=function(){return tq;};this.Ih=function(L){if(tq!==L){tq=L;var G=0;for(G=0;G<cu.length;G++){var bM;var aw;bM=document.getElementById(bQ[cu[G]].bU);aw=bM.ax;if(aw){aw.set_markHandleMode(tq);this.vO(bM,G);}}this.bS('markHandleMode');}};this.hW=function(){return vu;};this.xF=function(L){if(vu!==L){vu=L;var G=0;for(G=0;G<cu.length;G++){var aw;if(bQ[cu[G]].bU){aw=document.getElementById(bQ[cu[G]].bU).ax;}if(aw){aw.set_textRequired(vu);}}this.bS('textRequired');}};this.aut=function(){return gG;};this.aqx=function(L){if(L<0){L=0;}if(gG!==L){gG=L;this.bS('maxPrefetch');}};this.aui=function(){return Fa;};this.apd=function(L){if(Fa!==L){Fa=L;this.bS('displayPagesWhenScrolling');}};this.aul=function(){return vG;};this.arm=function(L){if(L<0){L=0;}if(vG!==L){vG=L;this.bS('maxOutOfViewDisplay');}};this.auf=function(){return Ge;};this.apZ=function(L){if(L<0){L=0;}if(Ge!==L){Ge=L;this.bS('scrollDisplayThreshold');}};this.atF=function(){return eU;};this.aqW=function(L){if(eU===L){return;}eU=L;if(aW===''||aW.clientHeight<=0||cX===IPCC.ViewMode.SinglePage){this.bS('pageLayout');return;}var Ca=bW;var Kw=cX;if(cX===IPCC.ViewMode.EqualWidthPages||cX===IPCC.ViewMode.EqualFitPages){C.NI(IPCC.ViewMode.Document);}aW.scrollLeft=0;aW.scrollTop=0;var G=0;var bM;if(eU===IPCC.PageLayout.VerticalScrollDirection){if(po){po.setAttribute('style',alH);}AC.insertBefore(mY,po);for(G=0;G<bQ.length;G++){bM=document.getElementById(bQ[G].bU);bM.style.display='block';if(fL>0){bM.style.margin=hw+'px auto '+kn+'px auto';}}bx.style.margin='0px '+iJ+'px 0px '+iS+'px';aW.scrollLeft=(ha-aW.clientWidth)/2+iJ+or;}else{if(po){po.setAttribute('style',amQ);}AC.removeChild(mY);for(G=0;G<bQ.length;G++){bM=document.getElementById(bQ[G].bU);bM.style.display='inline-block';if(fL>0){bM.style.margin=hw+'px '+iJ+'px '+kn+'px '+iS+'px';}}bx.style.margin='0px';aW.scrollTop=(gW-aW.clientHeight)/2+hw+nI;}if(Kw===IPCC.ViewMode.EqualWidthPages){C.NI(IPCC.ViewMode.EqualWidthPages);}else if(Kw===IPCC.ViewMode.EqualFitPages){C.NI(IPCC.ViewMode.EqualFitPages);}this.wk(Ca);mV(true);this.bS('layout');};this.atY=function(){return cX;};this.NI=function(L,dV){dV=dV||IPCC.ScaleTrigger.ViewMode;if(cX===L){return;}cX=L;if(aW===''||aW.clientHeight<=0){this.bS('viewMode');return;}var Ca=bW;this.wk(Ca);if(cX===IPCC.ViewMode.Document){var kD=1;var aR=fL;var bF=hC;if(jj(qs)===true){aR=hC;bF=fL;}if(eU===IPCC.PageLayout.VerticalScrollDirection){kD=(aW.clientWidth-(iJ+iS+or+rh))/aR;}else{kD=(aW.clientHeight-(hw+kn+nI+ro))/bF;}ks(kD,true,undefined,undefined,undefined,undefined,dV);}else{abI(dV);}this.wk(Ca);this.bS('viewMode');Bu(cB,true);mj(cB,true);};var qs=0;this.atC=function(){return qs;};this.aqf=function(L){if(qs!==L){qs=L;var G=0;for(G=0;G<bQ.length;G++){if(bQ[G].KN===0){bQ[G].gR=qs;}}this.bS('pageRotation');}};this.Xr=function(aY){var cR;if(arguments.length>0){if(!isNaN(aY)){cR=aY;}else{cR=bW;}}else{cR=bW;}for(var G=0;G<bQ.length;G++){if(cR===G){return bQ[G].gR;}}return 0;};var lX=false;this.ed=function(){return lX;};this.hS=function(L){if(typeof L!=="boolean"){return;}if(L===lX){return;}lX=L;};this.auI=function(){return Xg;};this.aEx=function(L,stampImages,xa,ue){if(Xg!==L){Xg=L;var G=0;for(G=0;G<bQ.length;G++){if(bQ[G].le()>0){bQ[G].bG.ajT(L,G,bQ[G].le(),bQ[G].pF(),null,stampImages,xa,ue);bQ[G].Rf(false);}else{bQ[G].bG.ajT(L,G,fL,hC,null,stampImages,xa,ue);bQ[G].Rf(true);}}this.bS('annotationXmlDom');}};var mv;this.uE=function(L){mv=L;};this.pd=function(){return mv;};var qj=false;this.lO=function(){return qj;};this.rd=function(L){if(typeof L!=="boolean"){return;}if(L===qj){return;}qj=L;IPCC.R.forEach(bQ,function(ds,G){var aw;if(bQ[G].bU){aw=document.getElementById(bQ[G].bU).ax;if(aw){aw.rd(qj);}aw=undefined;}});};this.aom=function(L){if(JU!==L){JU=L;this.bS('loadingContent');}};this.atx=function(){return JU;};this.auT=function(){var aoO=new IPCC.Web.UI.ImGearPageCollection();var G=0;for(G=0;G<cu.length;G++){aoO.afD(bQ[cu[G]].by);}return aoO;};this.auk=function(ai){if(bQ[ai]){return bQ[ai].bU;}};this.oJ=function(){return qL;};this.rC=function(L){qL=L;};this.iR=function(){return mA;};this.sh=function(L){mA=L;};this.Po=function(bq,Bk,Ci){var C=this;if(bq.lN()>0||bq.mN()>0){Bk(bq.lN(),bq.mN());return;}bq.requestPageAttributes(function(av,dc){if(bQ[bq.get_pageNumber()].ahN()===true&&av!==fL){var iM=av/fL;var bG=C.gJ(bq);if(bG){afE(bG,iM);}}bQ[bq.get_pageNumber()].Rf(false);Bk(av,dc);},function(fz){Ci(fz);});};this.aAR=function(){if(uT===true){return;}uT=true;this.dS(mY,'pccHidden');Bu(cB,true);mj(cB,true);};this.asz=function(){if(uT===false){return;}uT=false;this.lv(mY,'pccHidden');};this.atm=function(){return uT;};this.lv=function(aQ,vg){var GR=new RegExp('(?:^|\\s)'+vg+'(?!\\S)','g');if(aQ.className.match(GR)===null){aQ.className=aQ.className+' '+vg;}};this.dS=function(aQ,vg){var GR=new RegExp('(?:^|\\s)'+vg+'(?!\\S)','g');aQ.className=aQ.className.replace(GR,'');};this.atH=function(){return qv;};this.aEz=function(L){qv=L;};this.auX=function(){return ju;};this.are=function(L){if(ju===L){return;}var F,dq,vo;if(ju){F=ju.get_mark();vo=cB[F.get_markID()];dq=qv(F,{isSelected:true},(vo)?vo.dq:undefined);if(vo){Eq(F,cB,dq);}}F=dq=vo=undefined;ju=L;if(ju){F=ju.get_mark();vo=cB[F.get_markID()];dq=qv(F,{isSelected:true},(vo)?vo.dq:undefined);if(vo){Eq(F,cB,dq);}}mj(cB,true);};this.azl=function(abn){var jM=xR();IPCC.R.forEach(abn,function(MR){var di=cB[MR];if(di){var nm=qv(di.F,{isSelected:(di.F.get_conversation()===ju)},di.dq);if(!IPCC.R.vN(nm)){throw new Error(nm+' is not a valid HTMLElement');}if(nm!==di.dq){Eq(di.F,cB,nm);}}});mj(cB,true,jM);};this.initialize=function(){var aC=this.hb();var G;for(G=aC.childNodes.length-1;G>=0;G--){if(aC.childNodes[G].tagName!=='INPUT'){aC.removeChild(aC.childNodes[G]);}}this.kV.add_documentAdded(adN);this.kV.add_pageAdded(IM);this.kV.add_pageRemoved(Kn);this.Kv(true);aC.ax=this;agS();var Yj='webkit moz o'.split(' '),yd='';if(bx.style.animationName!==undefined){KG='animationend';Gx='transitionend';return;}for(G=0;G<Yj.length;G++){if(bx.style[Yj[G]+'Animation']!==undefined){yd=Yj[G];KG=yd+'AnimationEnd';Gx=yd+'TransitionEnd';break;}}};this.axW=function(){po=document.createElement('div');var Ei=document.createElement('div'),akm=document.createElement('div'),lP=document.createElement('button'),xg=document.createElement('span'),gD=new Date(),LT=gD.getFullYear(),Qq='?utm_source=rv&utm_medium=rv&utm_campaign=rv'+LT,aiV=function(){C.lv(Ei,'open');},aeS=function(){C.dS(Ei,'open');};lP.innerHTML='&#215;';lP.setAttribute('type','button');akm.innerHTML='<h3>PrizmDoc v11.1.31.3334</h3><p>PrizmDoc is a web based online document viewer and can be embedded into any web page or linked from any page. Learn more about PrizmDoc at <a href="http://www.accusoft.com'+Qq+'">www.accusoft.com</a>.</p><p>&copy; '+LT+' Accusoft - All Rights Reserved.</p>';Ei.className='pccPageListAboutModal';Ei.appendChild(lP);Ei.appendChild(akm);element.appendChild(Ei);xg.setAttribute('style',''+'background: '+'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAvlJREFUeNp0kk9IHGcYxp95Z76Zb/bbT8xuFXdd3QXBquTmoX/EWgoe7MmI9laKZ2/SemlDaRsIRG9JLz30kFx6Smkh5lQs/WMXehHciEiVKllYdHdmcGeZcXe/b3pIWppoHniO7+/9wfsaS0tLuCoXFxcYHh7+tq+vb7nZbPpEZJim2ZskyR+7u7tv+74PIQSSJHlhzqpWq1cC4zhGFEW3hRALrutei+MY3W4XqVTqrWKx+L3neTeCIIBt2y9AzYmJCTiOc6lSSoRh6Hme97BUKq0kSWJordHpdNDf3z+WSqVe833/sRACruuCcw7OOYyNjY1Ldv9ulFKiUqlgf3//w5mZmfutVgtaawAA5xzVanUtCIL1fD4PIoLWGlaxWLwE1FrDMAzYtm3mcrnC4eHhg+3t7denp6c/9X0fANButzE0NHSHiPbK5fIjpRQYY6AwDPGqep63GkXR38vLy+9GUfTZwcHBr5lMBkmSQCmFbreLwcHBH1qt1sTOzg6Ojo5AeHU+NgzjThiGkFL+uLCwYG1tbb1zcnJSkVL+9wlaa3NxcfGn2dnZzOjo6NVAIvocwDoRQQiBs7OzT4QQ3fHxcezt7a2YpgnLsgAAURSBiAYmJye/azabMOfn51/m3TMMY822bSilolqtthpFUeX8/PzG2NgYPz09/SUIgsrAwMAHnU4HRM+cHMcZ4Zz3Wy9d965t2ytKKcRxjDAMn8ZxvJROp+/29PRACIFCoXBzc3PzluM4X5VKpZtBEJw3Go37pmnWc7nc7/83fGhZ1ke+7//m+77SWl9zHCfb29tbJCIkSQKtNfL5/HthGP5ZrVa/SafTFaXUg2w2mxkZGfkCwFMLgAXgZwBTRPSEiOaCIAjb7fabtm2PMsYKrutOcc6nGWPStm3Mzc09Oj4+/pox9lc2m/2SMSY9z1ur1WrrFoDV59DrSqknQghwzlGv18uGYZSTJIHrupBSMiJ6gzE2JaVczOfzK0SERqPxuF6vv29ZFkzTxD8DAOIqXOXDxS7hAAAAAElFTkSuQmCC)'+' no-repeat;'+'background: '+'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAB3dJREFUeNqkl0tsG9cVhv97586T5FAULVKibFmiHAu2E7R2ZMZtVTtJi3ahjV9Igy4CxAW0CQIvEvQBZOdFs+imRbsKUBe2gyBujcLOC0lTx5WFNrCMMorhGHJb2YJMPWlxRHKGM3d4Z7oRCVkVHdm9wFlwMMPz4Zzz//deMjIygkdd9XodyWTyb6qqHnRdt0gplVq8qkqSZFiWdbRYLP7ZcRyEYQhCyKZzkYMHDz4yoO/7iMVih3K53JUwDOH7/oZJwzCEJEnQNI3fvHkzNzk5OSHLMiRJ2nQuqbe3F4SQRwpJkmBZ1rSu6/9Kp9PHPM9rmSAIAhBCJNM0h1dWVs7W63VHURRIkrSpIMPDw3jcxTnH1q1bf7V9+/bXbNtu2bogCKDrOsIwvDo5OXlwcXERiqJsKgd91Oo1glKKIAhw586d113X/cAwDARBsHESSuG6Lhhj381kMu/4vg/f95vwQoiWIfX09KBer28qhBAP/A7DEJRSeJ73YSKR+JGiKIlW80gIaczuk4qiMM75Z5IkQVVV6LoOVVU3DJbL5TZV6jAMm0CNpSgKyuUyRkdHLdd1jw4ODl4TQsgPE02tVkNfX98bsVjsP9PT038wTRO6rkMIsWFetm/fvk0DBkHwgAIlSYIsy1hZWcGZM2e+oJSeOHDgwNlSqYQwDDesYhiGsG0bpmme1jRt1nGcT1RVRUPd679jlUrlsQHDMIQsyzh27BgqlQry+fy5/v7+PfF4/OflcvmBaq+FFEKAUoq+vr535+bmnq5Wq1Plchme5/2PBZHTp08/NuDq898YhvGxLMsfnDp1CpOTkxgZGfm4vb39B5VKZUPIhjg0TQNj7HY+nx8cGxurWJYFXdcfFBj+v/U2IeRV27bPAciePHkSnZ2dmJiYeEFRlClN075W2WEY7hwYGLgQiURACIGqqlAUpRnS4cOHN02zTiSXABxfbZvmOM73u7u7f9/X11c/f/68VywW/7579+6fhGFIhRAtlc05h2ma/el0OgPgfU3TkEqlkEgkkEgkHhvwMwA/XFeRVKVS2d/T03NO13WMjo7OdnZ2TnV0dBzlnLfeawmB53nIZDJPq6rqz83NXU0mk4hEIojFYo8MGKGUXgUw1OKVbkrp2729vda1a9cwMTHxZSKR0Lq7u4dc133oIYFzjvb29u9xzm+Vy+WbQgg4jrN5QEJInBDyD0LI3hYzVZZl+XnXdb9aWFhANBrFzMwMLMv6a39//wFd13d4ntey1Q0fzGazxzjnH929e3d2dnZ20yLZAmCcELJnfcsJIVAUZVEI8Q3Hccanp6cxNTWFvXv34vjx4+js7MSNGzdetG17WtO0Df2xIRrOORzHof39/Zd0Xe8uFoubAuwHkAfwxHo4Xdeh6/pHCwsL6Vu3bt11HCcthDAB4P79+0gmk0ilUlheXl65ffv2C7Isi43MeC2k4zhgjHUODQ19fujQoeTXAQ4AuA5g6/qWGIaBYrF4Znx8/MTS0tJLyWTyK8bYfFtb2/S2bdtuGoZxOQiC12q1GiKRCABcm5mZeVmW5Zaz2PjfSqUCxlj7wMBAD3sI3FMAxgCYjY8ppc1Nf2VlxV1eXk60tbV9sWXLlnQQBPB9H5qmtRmG0SaE2G0YxnO7du1K5fP5nxWLRdTr9bOKojyZyWR+allWE7RxPqzVapifn3/XcZxfApgwTbOlSJ4BcDUMwyhjDIwxCCHgeV5o2zYcx4HneXI8Hh8wDCPKOW/OY2PHaRwuMpnMdyzLKly8ePGfqqoiEol8qqpqzjCMJwCAMYZyuVwqFApvhGE4vLy8/EfTNJd6e3vDVCplbLTVfRvAKACJEBK4rsuFEJoQoumDDZBWs7R2TlVVRb1ex9jY2LcWFhY+X21jx86dO//CGNOKxeII53xU0zR0dXW90tXV9SaAqO/7KBQKr69v8dCqCUurQ0s9zxuZmZn5MhaL/VjTtEFJkvaqqppYVS+CIGjGemBCCFzXhaZpOHLkyMULFy7kXNed3rFjx1K5XP5mEAQwTTOSyWR+G4/HXwmCALIsw3VdLC4unrp3796v1wI+C+AyALL29pZOp8uO40xYljXhui5KpZIK4Kmurq5ngiDI6bo+qKrqLsYYkWW5WdlGqxv2Ua1WU9ls9rJlWYMdHR2lWCx2VFGUV9va2p6llCIMQwghUCwWLzmO87Jt28uyLKMBOAzg/TWw0wDep5T+yfO8K7FYDNVqFYwxAPBc173ued71paWl31FKQSntzGQy+znng9FoNMcY28cYS8my3KykbdvIZrNZz/Nuua4bpFKprrWWU61WC9Vq9cT8/Pwn8Xi8eWdhAF4E8A6AAoC3AHwIYHzt3ttw+YYQJEkCpRSapkEIgSAI5jnn75VKpffq9To454qqqnsopYPRaHQ/gEFVVfd4nqfIspw2DAOe5yEIAnDOUSqV3rRt+xeKokBVVVBKUa/Xm4BbADwH4MrjnLfWXqIadkEp5b7v54UQed/336rVamhvb++o1Wr7NE0bBJCLx+PPu657o1AovEQp/Xc0Gt3wvvzfAQC0fOWy6L2jqgAAAABJRU5ErkJggg==)'+' no-repeat 0% 0% / 20px');xg.style.width='20px';xg.style.height='14px';xg.style.display='inline-block';xg.style.position='relative';xg.style.marginRight='5px';xg.style.top='3px';po.appendChild(xg);po.innerHTML+='PrizmDoc v11.1.31.3334';if(eU===IPCC.PageLayout.HorizontalScrollDirection&&cX!==IPCC.ViewMode.SinglePage){po.setAttribute('style',amQ);}else{po.setAttribute('style',alH);}AC.appendChild(po);if(!po.addEventListener){po.attachEvent('onclick',aiV);}else{po.addEventListener('click',aiV,false);}if(!lP.addEventListener){lP.attachEvent('onclick',aeS);}else{lP.addEventListener('click',aeS,false);}alU=po.offsetHeight;};this.Pe=function(){return hT;};this.Kv=function(L){hT=L;this.bS('enabled');};this.aDe=function(){if(bW+1<bQ.length){C.wk(bW+1);}};this.aCB=function(){var Vn=bW-1;if(Vn<0){Vn=0;}C.wk(Vn);};function FS(H){IPCC.Web.UI.aT.removeHandler(H.target,KG,FS);IPCC.Web.UI.aT.removeHandler(H.target,Gx,FS);if(KO>bW){C.dS(H.target,'pccNextPageIn');C.dS(H.target,'pccPreviousPageIn');C.dS(H.target,'pccCurrentPage');C.dS(H.target,'pccPageBack');C.dS(H.target,'pccPageForward');C.lv(H.target,'pccNextPage');}else if(KO<bW){C.dS(H.target,'pccNextPageIn');C.dS(H.target,'pccPreviousPageIn');C.dS(H.target,'pccCurrentPage');C.dS(H.target,'pccPageBack');C.dS(H.target,'pccPageForward');C.lv(H.target,'pccPreviousPage');}C.dS(bx,'pccPageListContainerPageChanging');aW.style.overflow='auto';kQ=null;bx.style.overflow='hidden';var ml=IPCC.R.filter(cB,function(el){return el.aY===bW+1;});QF(ml);setTimeout(function(){mV(true);},60);};this.wk=function(ai){var HO=bW;var ml;if(cX===IPCC.ViewMode.SinglePage){pY=ai;eB=ai;ia=ai;ml=IPCC.R.filter(cB,function(el){return el.aY!==ai+1;});Ir(ml);}else{var bq=document.getElementById(bQ[ai].bU);xu=true;if(eU===IPCC.PageLayout.VerticalScrollDirection){aW.scrollTop=bq.offsetTop;}else{aW.scrollLeft=bq.offsetLeft;}}if(bW!==ai){bW=ai;var H=new IPCC.PageEventArgs();H.imGearPage=C.get_currentPage();H.pageIndex=bW;H.pageNodeID=bQ[bW].bU;C.aH('currentPageChanged',H);if(cX===IPCC.ViewMode.SinglePage){var hk=document.getElementById(bQ[bW].bU);var tN=document.getElementById(bQ[HO].bU);if(hk===null){hk=fC({overflow:'hidden',position:'absolute',margin:'0px'});hk.className='pccPageListItem pccCurrentPage';kE.push(bW);if(fL>0){if(jj(qs)===true){hk.style.width=hC*cq*SCREEN_RESOLUTION/bQ[bW].fK+'px';hk.style.height=fL*cq*SCREEN_RESOLUTION/bQ[bW].hB+'px';}else{hk.style.width=fL*cq*SCREEN_RESOLUTION/bQ[bW].hB+'px';hk.style.height=hC*cq*SCREEN_RESOLUTION/bQ[bW].fK+'px';}}else{hk.style.width=bx.clientWidth-iJ-iS+'px';hk.style.height=bx.clientWidth*0.8+'px';}hk.style.display='block';hk.setAttribute('id',bQ[bW].bU);bx.appendChild(hk);}if(Gx.length>0){aW.style.overflow='hidden';bx.style.width=hk.style.width;bx.style.height=hk.style.height;bx.style.overflow='visible';if(kQ!==null){IPCC.Web.UI.aT.removeHandler(kQ,KG,FS);IPCC.Web.UI.aT.removeHandler(kQ,Gx,FS);if(KO>bW){this.dS(kQ,'pccNextPageIn');this.dS(kQ,'pccPreviousPageIn');this.dS(kQ,'pccCurrentPage');this.dS(kQ,'pccPageForward');this.dS(kQ,'pccPageBack');this.lv(kQ,'pccNextPage');}else if(KO<bW){this.dS(kQ,'pccNextPageIn');this.dS(kQ,'pccPreviousPageIn');this.dS(kQ,'pccCurrentPage');this.dS(kQ,'pccPageForward');this.dS(kQ,'pccPageBack');this.lv(kQ,'pccPreviousPage');}}IPCC.Web.UI.aT.addHandler(tN,KG,FS);IPCC.Web.UI.aT.addHandler(tN,Gx,FS);kQ=tN;KO=HO;this.lv(bx,'pccPageListContainerPageChanging');if(bW>HO){this.lv(tN,'pccPageForward');this.dS(hk,'pccPageBack');this.dS(hk,'pccPreviousPage');this.dS(hk,'pccPreviousPageIn');this.dS(hk,'pccNextPage');this.lv(hk,'pccCurrentPage');this.lv(hk,'pccNextPageIn');}else{this.lv(tN,'pccPageBack');this.dS(hk,'pccPageForward');this.dS(hk,'pccPreviousPage');this.dS(hk,'pccNextPage');this.dS(hk,'pccNextPageIn');this.lv(hk,'pccCurrentPage');this.lv(hk,'pccPreviousPageIn');}}else{bx.style.width=hk.style.width;bx.style.height=hk.style.height;if(bW>HO){this.dS(tN,'pccNextPage');this.dS(tN,'pccCurrentPage');this.lv(tN,'pccPreviousPage');}else{this.dS(tN,'pccPreviousPage');this.dS(tN,'pccCurrentPage');this.lv(tN,'pccNextPage');}this.dS(hk,'pccPreviousPage');this.dS(hk,'pccNextPage');this.lv(hk,'pccCurrentPage');ml=IPCC.R.filter(cB,function(el){return el.aY===ai+1;});QF(ml);setTimeout(function(){mV(true);},60);}}}};this.aGv=function(){if(bQ.length>0){C.wk(0);}};this.aEM=function(){if(bW<bQ.length-1){C.wk(bQ.length-1);}};this.aEs=function(dw){if(uT===false){return "CommentsPanelClosed";}var fo=cB[dw.get_mark().get_markID()];if(!fo){return "ConversationDivDoesNotExist";}if(cX===IPCC.ViewMode.SinglePage&&fo.aY-1!==bW){return "SinglePageModePageNotShown";}var bq=document.getElementById(bQ[fo.aY-1].bU);if(bQ[fo.aY-1].gA===false||bq===undefined||bq.ax===undefined||bq.ax===null||bq.ax.hg()===false){return "PageOutOfView";}var K=dw.get_mark().get_boundingRectangle();var rW=bq.ax.transformPagePointToWindow(new IPCC.Web.UI.Point(K.x,K.y),true);var BX=bq.ax.transformPagePointToWindow(new IPCC.Web.UI.Point(K.x+K.width,K.y),true);rW.x=bx.offsetWidth;BX.x=bx.offsetWidth+vE();C.ahp(bq.offsetTop,bq.offsetLeft,rW,BX);return "Success";};this.aDZ=function(ai,K){if(cX===IPCC.ViewMode.SinglePage&&ai!==bW){return true;}var bq=document.getElementById(bQ[ai].bU);if(bQ[ai].gA===false||bq===undefined||bq.ax===undefined||bq.ax===null||bq.ax.hg()===false){return false;}var rW=bq.ax.transformPagePointToWindow(new IPCC.Web.UI.Point(K.x,K.y),true);var BX=bq.ax.transformPagePointToWindow(new IPCC.Web.UI.Point(K.x+K.width,K.y+K.height),true);C.ahp(bq.offsetTop,bq.offsetLeft,rW,BX);return true;};this.aDR=function(aoD,anK){aW.scrollTop+=Math.round(anK);aW.scrollLeft+=Math.round(aoD);};this.ahp=function(axA,ayQ,rW,BX){var afx=BX.x-rW.x;var agR=BX.y-rW.y;var cJ=new IPCC.Web.UI.Point(0,0);if(afx>aW.clientWidth){cJ.x=rW.x;}else{cJ.x=rW.x+(afx/2);}if(agR>aW.clientHeight){cJ.y=rW.y;}else{cJ.y=rW.y+(agR/2);}if(eU===IPCC.PageLayout.VerticalScrollDirection){aW.scrollTop=axA+cJ.y-aW.clientHeight/2;aW.scrollLeft=cJ.x-aW.clientWidth/2;}else{aW.scrollLeft=ayQ+cJ.x-aW.clientWidth/2;aW.scrollTop=cJ.y-aW.clientHeight/2;}};this.arZ=function(){if(C.kV.get_length()>0){C.kV.removeAllDocuments();}if(cu.length>0){Ev++;setTimeout(function(){abA();},10);return;}};this.VC=function(ai,aM,ea,fr){if(bQ[ai]&&bQ[ai].gA===true){var bM=document.getElementById(bQ[ai].bU);if(bM&&bM.ax&&bM.ax.hg()===true){if(fr){IPCC.aV.fr(fr,"selectText");var fP=bM.ax.yw();var azC=fP.he;var aAv=fP.dP;fP.he=fr;fP.dP=fr;bM.ax.showTextSelection(aM,ea);fP.he=azC;fP.dP=aAv;}else{bM.ax.showTextSelection(aM,ea);}}}};this.axm=function(){var G;for(G=0;G<cu.length;G++){if(bQ[cu[G]].gA===true){var dv=document.getElementById(bQ[cu[G]].bU),ax=dv?dv.ax:undefined;if(ax&&ax.hg()===true){ax.showEmptyTextSelection(0);ax.extendTextSelection(undefined);ax.display();}}}};this.aru=function(ai){if(bQ[ai]&&bQ[ai].gA===true){var dv=document.getElementById(bQ[ai].bU),ax=dv?dv.ax:undefined;if(ax&&ax.hg()===true){ax.showEmptyTextSelection(0);ax.extendTextSelection(undefined);ax.display();}}};this.Ae=function(){var bq,aA,ax;ab=null;IPCC.R.forEach(qH,function(G){bq=bQ[G];aA=document.getElementById(bq.bU);if(aA){ax=aA.ax;}if(ax){if(ax.hg()&&ax.DC()){ax.showEmptyTextSelection(0);ax.extendTextSelection(undefined);if(bq.gA){ax.display();}}}bq=aA=ax=undefined;});};this.As=function(ai,tw){var bM;var aw;bQ[ai].gR+=tw;if(bQ[ai].gR>=360){bQ[ai].gR-=360;}if(bQ[ai].gR<= -360){bQ[ai].gR+=360;}if(bQ[ai].bU){bM=document.getElementById(bQ[ai].bU);}if(bM===undefined||bM===null){return;}aw=bM.ax;if(aw&&aw.hg()===false){bQ[ai].KN+=tw;return;}xu=true;if(aw&&aw.hg()===true){aw.rotate(tw);}var aR=0;var bF=0;var fa=fL;var fJ=hC;if(jj(qs)===true){fa=hC;fJ=fL;}if(jj(bQ[ai].gR)===true){if(aw&&aw.hg()===true){aR=aw.get_pageHeight();bF=aw.get_pageWidth();}else{aR=hC;bF=fL;}}else{if(aw&&aw.hg()===true){aR=aw.get_pageWidth();bF=aw.get_pageHeight();}else{aR=fL;bF=hC;}}xu=true;if(cX===IPCC.ViewMode.SinglePage){bM.style.width=aR*cq*SCREEN_RESOLUTION/bQ[ai].hB+'px';bM.style.height=bF*cq*SCREEN_RESOLUTION/bQ[ai].fK+'px';if(ai===bW){bx.style.width=aR*cq*SCREEN_RESOLUTION/bQ[ai].hB+'px';bx.style.height=bF*cq*SCREEN_RESOLUTION/bQ[ai].fK+'px';}}else if(cX===IPCC.ViewMode.Document){bM.style.width=aR*cq*SCREEN_RESOLUTION/bQ[ai].hB+'px';bM.style.height=bF*cq*SCREEN_RESOLUTION/bQ[ai].fK+'px';var G=0;if(eU===IPCC.PageLayout.VerticalScrollDirection){if(aR*cq*SCREEN_RESOLUTION/bQ[ai].hB>ha){ha=aR*cq*SCREEN_RESOLUTION/bQ[ai].hB;}else if(bM.clientHeight>=ha-10){ha=0;for(G=0;G<bQ.length;G++){bM=document.getElementById(bQ[G].bU);if(bM.clientWidth>ha){ha=bM.clientWidth;}}}if(bF*cq*SCREEN_RESOLUTION/bQ[ai].fK>gW){gW=bF*cq*SCREEN_RESOLUTION/bQ[ai].fK;}}else{if(bF*cq*SCREEN_RESOLUTION/bQ[ai].fK>gW){gW=bF*cq*SCREEN_RESOLUTION/bQ[ai].fK;}else if(bM.clientWidth>=gW-10){gW=0;for(G=0;G<bQ.length;G++){bM=document.getElementById(bQ[G].bU);if(bM.clientHeight>gW){gW=bM.clientHeight;}}}if(aR*cq*SCREEN_RESOLUTION/bQ[ai].hB>ha){ha=aR*cq*SCREEN_RESOLUTION/bQ[ai].hB;}}}else{var gS;if(eU===IPCC.PageLayout.VerticalScrollDirection){gS=fa/aR*cq*SCREEN_RESOLUTION/bQ[ai].fK;if(aw&&aw.hg()===true){aw.zoom(gS);}xu=true;bM.style.width=fa*cq*SCREEN_RESOLUTION/bQ[ai].hB+'px';bM.style.height=gS*bF+'px';}else{gS=fJ/bF*cq*SCREEN_RESOLUTION/bQ[ai].fK;if(aw&&aw.hg()===true){aw.zoom(gS);}xu=true;bM.style.height=fJ*cq*SCREEN_RESOLUTION/bQ[ai].fK+'px';bM.style.width=gS*aR+'px';}if(fa*cq*SCREEN_RESOLUTION/bQ[ai].hB>ha){ha=fa*cq*SCREEN_RESOLUTION/bQ[ai].hB;}if(fJ*cq*SCREEN_RESOLUTION/bQ[ai].fK>gW){gW=fJ*cq*SCREEN_RESOLUTION/bQ[ai].fK;}}if(aw&&aw.hg()===true){xu=true;this.vO(bM,ai);setTimeout(function(){if(uT===false){return;}var jM=xR();var ml=IPCC.R.filter(cB,function(el){return ai===el.aY-1;});Bu(ml);mj(ml,true,jM);},0);}};this.aBU=function(tw){this.As(bW,tw);xC();};this.agO=function(tw){var Ca=bW;if(cX!==IPCC.ViewMode.SinglePage){this.wk(Ca);}var ih=0;var iq=bQ.length-1;var G;for(G=ih;G<=iq;G++){this.As(G,tw);}if(cX!==IPCC.ViewMode.SinglePage){this.wk(Ca);}};this.DA=function(ai){IPCC.aV.mR(ai,'pageIndex',0,bQ.length-1);var bq=bQ[ai];if(bq&&bq.bU&&(bq.ud===true||bq.gE===false)){var bh;var bM=document.getElementById(bq.bU);if(bM.ax){bM.ax.dispose();}XT(bM);bh=new IPCC.Web.UI.PageView(bM,false);if(bh){bh.set_autoUpdate(false);bh.pE(bM);bh.initialize();bh.set_imageHandlerUrl(bq.aU.pm);bh.set_requireRequestsOptimize(qL);if(mA!==undefined){bh.set_serviceResponseTimeout(mA);}bh.set_scrollBars(IPCC.Web.UI.ScrollBars.None);Hh(bh,bq);aaB(bh);Hn(bh);abF(bh);abu(bh);}bh.set_textRequired(vu);bh.set_markHandleMode(tq);bh.set_cursor(-1);bh.set_debug(_debug);bh.set_debugErrorLevel(kM);bh.hS(C.ed());if(mv){bh.set_resourcePath(mv);}if(ly){bh.KD(ly());}else{bh.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bh.rd(C.lO());var iz=new IPCC.OpenPageEventArgs();iz.pageIndex=bq.by.get_pageNumber();iz.imGearPage=bq.by;iz.viewRotationDegreesClockwise=bq.gR;iz.pageNodeID=bq.bU;C.aH('pageOpening',iz);bq.ud=false;bq.iT=false;var Bb={encodedDocumentIdentifier:bq.aU.get_encodedDocumentIdentifier(),pageNumber:ai,artServiceOption:0,documentArtPage:bq.eT,viewRotationDegreesClockwise:bq.gR};if(bq.bG){Bb.artPage=bq.bG;}if(bq.eT){Bb.documentArtPage=bq.eT;}bh.openPage(Bb);bq.gE=true;fS++;}};function abI(dV,fd){if(fL<=0){return;}var fa=fL;var fJ=hC;var eV=SCREEN_RESOLUTION/bQ[0].hB;if(jj(qs)===true){fa=hC;fJ=fL;eV=SCREEN_RESOLUTION/bQ[0].fK;}var kD=1;if(eU===IPCC.PageLayout.VerticalScrollDirection){kD=(aW.clientWidth-vE()-(iJ+iS+or+rh))/(fa*eV);}else{kD=(aW.clientHeight-(hw+kn+nI+ro))/(fJ*eV);}var yI;if(cq<=kD){yI=false;}else if(cq>kD){yI=true;}if(isNaN(kD)||kD<=0||Math.abs(kD)===Infinity){return;}cq=kD;ha=0;gW=0;var ih=0;var iq=bQ.length-1;var bN=0;for(bN=ih;bN<=iq;bN++){var aw;if(bQ[bN].bU){aw=document.getElementById(bQ[bN].bU).ax;}var bM=document.getElementById(bQ[bN].bU);var aR=fa;var bF=fJ;if(bQ[bN].le()>0){if(jj(bQ[bN].gR)===true){aR=bQ[bN].pF();bF=bQ[bN].le();}else{aR=bQ[bN].le();bF=bQ[bN].pF();}}var gS=1;if(eU===IPCC.PageLayout.VerticalScrollDirection){gS=fa/aR*cq*eV;bM.style.width=fa*cq*eV+'px';bM.style.height=bF*gS+'px';if(fa*cq*eV>ha){ha=fa*cq*eV;}if(bF*gS*SCREEN_RESOLUTION/bQ[bN].fK>gW){gW=bF*gS*eV;}}else{gS=fJ/bF*cq;bM.style.height=fJ*cq*eV+'px';bM.style.width=aR*gS*eV+'px';if(aR*cq*SCREEN_RESOLUTION/bQ[bN].hB>ha){ha=aR*cq*eV;}if(fJ*gS*eV>gW){gW=fJ*gS*eV;}}if(aw&&bQ[bN].gA===true&&aw.hg()===true){aw.zoom(gS);}if(aw&&bQ[bN].gA===true&&aw.hg()===true){aw.display();}}xC(true);mV(true);setTimeout(function(){Bu(cB);mj(cB);},0);C.aH('scaleChanged',{scaleType:(yI)?"scaledDown":"scaledUp",scaleTrigger:dV,fitType:fd,scaleFactor:cq});};function jj(ci){switch(ci){case 90:case 270:case-90:case-270:return true;default:return false;}};function fC(jJ){var tL=document.createElement('div');var G;for(G in jJ){if(jJ.hasOwnProperty(G)){tL.style[G]=jJ[G];}}return tL;};this.YM=function(){if(sc===undefined||sc===null){sc=1;}var ct=this.hb().id.toString()+'_'+sc.toString();sc++;return ct;};this.XZ=function(){return this.kV;};this.gJ=function(aaN){for(var fV=0;fV<bQ.length;fV++){var fs=bQ[fV];if(aaN===fs.by){return bQ[fV].bG;}}return null;};function adN(aj,H){JE(H);};function JE(au){var dO=au.imGearDocument;var Yi=C.YM();dO.nK=Yi;var cI=dO.get_pages();var bd=cI.get_length();if(bd>0){var yA=document.createDocumentFragment();for(var bN=0;bN<bd;bN++){var bq=cI.getPage(bN);if(!bq.aU){bq.aU=dO;}aaW(bq,yA);}bx.appendChild(yA);}};var asn=IPCC.R.act(function(){if(Qx.length>0&&hT){var yA=document.createDocumentFragment();while(Qx.length>0){aaW(Qx.shift(),yA);}bx.appendChild(yA);Bu(cB,true);mj(cB,true);if(C.kV.aia(0).fG===bQ.length){C.aH('allPagesAdded');}setTimeout(function(){mV(true);},60);}},10);function IM(aj,H){if(H.imGearPage.get_pageNumber()===0){aaW(H.imGearPage);return;}Qx.push(H.imGearPage);asn();};function Kn(aj,H){var cR=H.imGearPage.get_pageNumber();var BV=H.imGearPage.aU.get_documentIdentifier();for(var bN=0;bN<bQ.length;bN++){if(bQ[bN].by.get_pageNumber()===cR&&bQ[bN].by.aU.get_documentIdentifier()===BV){var bM=document.getElementById(bQ[bN].bU);bx.removeChild(bM);if(bM.ax){bM.ax.dispose();var ml=IPCC.R.filter(cB,function(el){return el.aY===bQ[bN].cR+1;});Ir(ml);}var pn= -1;if(Array.prototype.indexOf){pn=cu.indexOf(cR);}else{pn=IPCC.Web.gq(cu,cR);}if(pn!== -1){cu.splice(pn,1);}bQ.splice(bN,1);}}};function aaW(au,yA){var bq=au;var Fu=bq.get_pageNumber();var dn;var aC=C.hb();var dO=null;var qw;var sR=[];var G=0;var bB=0;var bd=C.get_documents().get_length();for(bB=0;bB<bd;bB++){dO=C.get_documents().getDocument(bB);if(dO!==null){qw=dO.nK;if(qw===bq.aU.nK){break;}}}for(var co=0;co<bQ.length;co++){if(bQ[co].aU){dO=bQ[co].aU;if(co===0){sR[G]=dO;G++;continue;}else if(bQ[co-1].aU!==dO){sR[G]=dO;G++;continue;}}}for(co=bQ.length-1;co>=0;co--){if(bQ[co].by){if(bQ[co].by===bq){return;}}}var sm=true;var eD;var VB;var cr;for(co=0;co<bQ.length;co++){eD=bQ[co];if(eD.Gn===1){if(bq.aU.nK===eD.Ah){dn=document.getElementById(eD.bU);eD.Gn=0;VB=eD.bU;sm=false;cr=eD;break;}}}var jI=false;for(co=bQ.length-1;co>=0;co--){if(bQ[co].by){if(bQ[co].by.aU===bq.aU){jI=true;break;}}}if(bx===''){agS();}if(sm===true){VB=bq.aU.nK+'_'+IPCC.Pagecounter.toString();IPCC.Pagecounter++;}var Nc=VB+'_'+'_pViewId';if(cX!==IPCC.ViewMode.SinglePage||Fu===0){if(cX!==IPCC.ViewMode.SinglePage){dn=fC({overflow:'hidden',position:'relative'});dn.className+=' pccPageListItem';}else{dn=fC({overflow:'hidden',position:'absolute',margin:'0px'});dn.className='pccPageListItem pccCurrentPage';kE.push(0);}if(fL>0){if(jj(qs)===true){dn.style.width=hC*cq*SCREEN_RESOLUTION/bQ[0].hB+'px';dn.style.height=fL*cq*SCREEN_RESOLUTION/bQ[0].fK+'px';}else{dn.style.width=fL*cq*SCREEN_RESOLUTION/bQ[0].hB+'px';dn.style.height=hC*cq*SCREEN_RESOLUTION/bQ[0].fK+'px';}}else{var aml=bx.clientWidth-iJ-iS;if(aml>0){dn.style.width=aml+'px';dn.style.height=bx.clientWidth*0.8+'px';}}if(eU===IPCC.PageLayout.VerticalScrollDirection||cX===IPCC.ViewMode.SinglePage){dn.style.display='block';if(fL>0){dn.style.margin=hw+'px auto '+kn+'px auto';}}else{dn.style.display='inline-block';if(fL>0){dn.style.margin=hw+'px '+iJ+'px '+kn+'px '+iS+'px';}}dn.setAttribute('id',Nc);}if(sm===true){cr=new IPCC.ds({page:bq});}awF(bq);awP(bq);avi(bq);cr.bU=Nc;cr.by=bq;cr.Ah=qw;cr.gA=false;cr.bG=new IPCC.Web.UI.ArtPage();cr.eT=new IPCC.Web.UI.ArtPage();cr.gR=qs;awK(cr);avA(cr);awH(cr);avO(cr);aww(cr);avB(cr);awn(cr);awf(cr);awy(cr);avl(cr);cr.BM=false;cr.aU=bq.aU;cr.iT=false;cr.cR=Fu;var Mv;var dv;if(sm){if(bQ.length===0){bx.appendChild(dn);bQ.push(cr);}else{if(yA){if(cX!==IPCC.ViewMode.SinglePage){yA.appendChild(dn);}bQ.push(cr);}else{for(co=0;co<bQ.length;co++){eD=bQ[co];if(eD.Ah===qw){if(eD.by){var Zk=eD.by.get_pageNumber();if(Fu<Zk){bQ.splice(co,0,cr);dv=document.getElementById(eD.bU);bx.insertBefore(dn,dv);Mv=true;break;}}}}if(!Mv){if(cX!==IPCC.ViewMode.SinglePage){bx.appendChild(dn);}bQ.push(cr);}}}}var Oe=false;if(dn&&aC.clientWidth>0){var Gr=aC.clientWidth/(dn.clientWidth+(dn.clientLeft*2));var Aa=aC.clientHeight/(dn.clientHeight+(dn.clientTop*2));if(bQ.length<(Gr*Aa)){Oe=true;}}if(bQ.length<2){var bh;bh=new IPCC.Web.UI.PageView(document.getElementById(Nc),false);if(bh){bh.set_autoUpdate(false);bh.pE(document.getElementById(Nc));bh.initialize();bh.set_imageHandlerUrl(bq.aU.pm);bh.set_imGearPage(cr.by);bh.set_artPage(cr.bG);bh.set_documentArtPage(cr.eT);bh.set_requireRequestsOptimize(qL);if(mA!==undefined){bh.set_serviceResponseTimeout(mA);}bh.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bh.set_textRequired(vu);bh.set_markHandleMode(tq);bh.set_cursor(-1);bh.set_debug(_debug);bh.set_debugErrorLevel(kM);bh.hS(C.ed());if(mv){bh.set_resourcePath(mv);}if(ly){bh.KD(ly());}else{bh.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bh.rd(C.lO());}Hh(bh,cr);Hn(bh);abF(bh);aaB(bh);abu(bh);var iz=new IPCC.OpenPageEventArgs();iz.pageIndex=cr.by.get_pageNumber();iz.imGearPage=cr.by;iz.viewRotationDegreesClockwise=cr.gR;iz.pageNodeID=cr.bU;C.aH('pageOpening',iz);bh.openPage({encodedDocumentIdentifier:bq.aU.get_encodedDocumentIdentifier(),pageNumber:bq.get_pageNumber(),artServiceOption:0,imGearPage:cr.by,artPage:cr.bG,documentArtPage:cr.eT,viewRotationDegreesClockwise:cr.gR});cr.gE=true;fS++;}return dn;};function mV(Is){if(fS>0||hT===false||kQ!==null){return;}var qq;var dA=awz(Is);if(dA>=0){qq=dA;}if(qq!==undefined&&qq>=0){if(qq<bQ.length){axc(bQ[qq]);}}};function awz(Is){xC();var kl;var gh=1;gh=vG;if(gh>gG){gh=gG;}if(Is===false){gh=0;}for(var bN=eB;bN<=ia;bN++){if(bQ[bN].gE===false&&bQ[bN].ud===false){if(bQ[bN].iT===false&&kl===undefined){kl=bN;break;}else if(Is){var Lj=document.getElementById(bQ[bN].bU);if(bQ[bN].gA===false){C.vO(Lj,bN);}}}}if(Ev===0&&Is===true){Ev++;setTimeout(function(){if(hT===true){abA();}},60);}if(kl!==undefined){return kl;}else if(gG>0){var yX= -1;if(qh>=0){if(qh<Ge&&qh!==0){return aab(gG,gh);}else{yX=aab(gG,gh);if(yX=== -1){yX=aaU(gG,gh);}qh= -qh;return yX;}}else if(qh<0){if(qh> -Ge){return aaU(gG,gh);}else{yX=aaU(gG,gh);if(yX=== -1){yX=aab(gG,gh);}qh= -qh;return yX;}}}return-1;};function aaU(WR,gh){var kl;for(var bN=eB-1;bN>eB-1-WR;bN--){if(bN<0){continue;}if(bQ[bN].gE===false&&bQ[bN].ud===false){if(bQ[bN].iT===false&&kl===undefined){kl=bN;break;}else if(bN>=eB-gh){var Lj=document.getElementById(bQ[bN].bU);if(bQ[bN].gA===false){C.vO(Lj,bN);}}}}if(kl!==undefined){return kl;}else{return(-1);}};function aab(WR,gh){var kl;for(var bN=ia+1;bN<ia+1+WR;bN++){if(bN>=bQ.length){continue;}if(bQ[bN].gE===false&&bQ[bN].ud===false){if(bQ[bN].iT===false&&kl===undefined){kl=bN;break;}else if(bN<=ia+gh){var Lj=document.getElementById(bQ[bN].bU);if(bQ[bN].gA===false){C.vO(Lj,bN);}}}}if(kl!==undefined){return kl;}else{return(-1);}};function abA(){xC();function acO(bN,cl){var pn= -1;if(Array.prototype.indexOf){pn=cl.indexOf(bN);}else{pn=IPCC.Web.gq(cl,bN);}if(pn!== -1){cl.splice(pn,1);}if(cX===IPCC.ViewMode.SinglePage){var kC= -1;if(Array.prototype.indexOf){kC=kE.indexOf(bN);}else{kC=IPCC.Web.gq(kE,bN);}if(kC!== -1){kE.splice(kC,1);}}bQ[bN].iT=false;bQ[bN].gE=false;bQ[bN].gA=false;var wE=document.getElementById(bQ[bN].bU);if(wE&&wE.ax){wE.ax.dispose();var ml=IPCC.R.filter(cB,function(el){return el.aY===bQ[bN].cR+1;});Ir(ml);if(cX===IPCC.ViewMode.SinglePage){wE.parentNode.removeChild(wE);}return bN;}return-1;};var YJ= -1;for(var bN=0;bN<qH.length;bN++){if(hT===false||((qH[bN]<eB-gG||qH[bN]>ia+gG)&&bQ[qH[bN]].bU)){acO(qH[bN],qH);}}for(bN=0;bN<cu.length;bN++){if(hT===false||((cu[bN]<eB-vG||cu[bN]>ia+vG)&&bQ[cu[bN]].bU)){if(hT===false||((cu[bN]<eB-gG||cu[bN]>ia+gG)&&bQ[cu[bN]].bU)||document.documentMode===8){YJ=acO(cu[bN],cu);if(YJ!== -1){break;}}else{var wE=document.getElementById(bQ[cu[bN]].bU);if(wE&&wE.ax){wE.ax.ass();}var ai=cu[bN];var pn= -1;if(Array.prototype.indexOf){pn=cu.indexOf(ai);}else{pn=IPCC.Web.gq(cu,ai);}if(pn!== -1){cu.splice(pn,1);}bQ[ai].iT=true;bQ[ai].gE=false;bQ[ai].gA=false;var sp=false;for(var bB=0;bB<qH.length;bB++){if(qH[bB]===ai){sp=true;}}if(sp===false){qH.push(ai);}}}}if(cX===IPCC.ViewMode.SinglePage){for(bN=kE.length;bN>=0;bN--){var Tc=kE[bN];if(hT===false||((Tc<eB-gG||Tc>ia+gG)&&bQ[Tc].bU)){var akv=document.getElementById(bQ[Tc].bU);akv.parentNode.removeChild(akv);kE.splice(bN,1);}}}if(Ev>0){Ev--;}if(hT===false&&cu.length===0&&bQ.length>0){bQ=[];var aC=C.hb();aW.removeChild(bx);aC.removeChild(aW);return;}if(YJ!== -1){Ev++;setTimeout(function(){abA();},1000);}};function axc(bq){var an;if(cX===IPCC.ViewMode.SinglePage&&document.getElementById(bq.bU)===null){var dn=fC({overflow:'hidden',position:'absolute',margin:'0px'});dn.className='pccPageListItem';kE.push(bq.cR);if(bq.cR>bW){C.lv(dn,'pccNextPage');}else if(bq.cR<bW){C.lv(dn,'pccPreviousPage');}else{C.lv(dn,'pccCurrentPage');}if(fL>0){if(jj(qs)===true){dn.style.width=hC*cq*SCREEN_RESOLUTION/bQ[0].hB+'px';dn.style.height=fL*cq*SCREEN_RESOLUTION/bQ[0].fK+'px';}else{dn.style.width=fL*cq*SCREEN_RESOLUTION/bQ[0].hB+'px';dn.style.height=hC*cq*SCREEN_RESOLUTION/bQ[0].fK+'px';}}else{dn.style.width=bx.clientWidth-iJ-iS+'px';dn.style.height=bx.clientWidth*0.8+'px';}dn.style.display='block';dn.setAttribute('id',bq.bU);an=dn;bx.appendChild(dn);}else{an=document.getElementById(bq.bU);}if(an===null){return;}var bh;bh=new IPCC.Web.UI.PageView(document.getElementById(bq.bU),false);if(bh){bh.set_autoUpdate(false);bh.pE(document.getElementById(bq.bU));bh.initialize();bh.set_imageHandlerUrl(bq.aU.pm);bh.set_imGearPage(bq.by);bh.set_artPage(bq.bG);bh.set_requireRequestsOptimize(qL);if(mA!==undefined){bh.set_serviceResponseTimeout(mA);}bh.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bh.set_textRequired(vu);bh.set_markHandleMode(tq);bh.set_cursor(-1);bh.set_debug(_debug);bh.set_debugErrorLevel(kM);bh.hS(C.ed());if(mv){bh.set_resourcePath(mv);}if(ly){bh.KD(ly());}else{bh.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bh.rd(C.lO());}Hh(bh,bq);Hn(bh);abF(bh);aaB(bh);abu(bh);if(bq.iT===false){if(bq.by){var iz=new IPCC.OpenPageEventArgs();iz.pageIndex=bq.by.get_pageNumber();iz.imGearPage=bq.by;iz.viewRotationDegreesClockwise=bq.gR;iz.pageNodeID=bq.bU;C.aH('pageOpening',iz);var Bb={encodedDocumentIdentifier:bq.by.aU.get_encodedDocumentIdentifier(),pageNumber:bq.by.get_pageNumber(),imGearPage:bq.by,viewRotationDegreesClockwise:bq.gR};if(bq.bG){Bb.artPage=bq.bG;}if(bq.eT){Bb.documentArtPage=bq.eT;}bh.openPage(Bb);bq.gE=true;fS++;}}};function afE(bG,iM){var aK;bG.forEachMark(function(F){switch(F.get_type()){case IPCC.Web.UI.MarkType.Line:var aX=F.get_points();var aP=aX.Cs(0);var kv=aX.Cs(1);aX.setPoint(0,new IPCC.Web.UI.Point(aP.x*iM,aP.y*iM));aX.setPoint(1,new IPCC.Web.UI.Point(kv.x*iM,kv.y*iM));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextSelectionRedaction:aK=F.get_rectangle();F.set_rectangle({x:aK.x*iM,y:aK.y*iM,width:aK.width*iM,height:aK.height*iM});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:aK=F.get_rectangle();F.set_rectangle({x:aK.x*iM,y:aK.y*iM,width:aK.width*iM,height:aK.height*iM});var bk=F.bk,hJ;for(var i=0;i<bk.length;i++){hJ=bk[i];hJ.x=hJ.x*iM;hJ.y=hJ.y*iM;hJ.width=hJ.width*iM;hJ.height=hJ.height*iM;}break;default:break;}});};function Hh(bh,bq){function abK(sender,evnt){var cR=evnt.pageNumber;var BV=evnt.documentIdentifier;bq.aR=bh.get_pageWidth();bq.bF=bh.get_pageHeight();var gy=bh.get_pageXResolution();var hc=bh.get_pageYResolution();if(!isNaN(parseFloat(gy))&&isFinite(gy)){bq.hB=gy;}if(!isNaN(parseFloat(hc))&&isFinite(hc)){bq.fK=hc;}bh=null;for(var bN=0;bN<bQ.length;bN++){if(hT&&bQ[bN].by.get_pageNumber()===cR&&bQ[bN].by.aU.get_documentIdentifier()===BV){bQ[bN].gE=false;bQ[bN].iT=true;bQ[bN].ud=false;if(cX===IPCC.ViewMode.SinglePage){var kC= -1;if(Array.prototype.indexOf){kC=kE.indexOf(bN);}else{kC=IPCC.Web.gq(kE,bN);}if(kC!== -1){kE.splice(kC,1);}}var sp=false;for(var bB=0;bB<qH.length;bB++){if(qH[bB]===bN){sp=true;}}if(sp===false){qH.push(bN);}var nu=0;var mU=0;var bM=document.getElementById(bQ[bN].bU);var aw=bM.ax;var fa;var fJ;var Xf;if(fL===0&&(bN===0||bQ[0].ud===true)){if(bM.currentStyle){nI=parseInt(bM.currentStyle.borderTopWidth,10)||0;hw=parseInt(bM.currentStyle.marginTop,10)||0;or=parseInt(bM.currentStyle.borderLeftWidth,10)||0;iJ=parseInt(bM.currentStyle.marginLeft,10)||0;ro=parseInt(bM.currentStyle.borderBottomWidth,10)||0;kn=parseInt(bM.currentStyle.marginBottom,10)||0;rh=parseInt(bM.currentStyle.borderRightWidth,10)||0;iS=parseInt(bM.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var Aw=document.defaultView.getComputedStyle(bM);nI=parseInt(Aw.borderTopWidth,10)||0;hw=parseInt(Aw.marginTop,10)||0;or=parseInt(Aw.borderLeftWidth,10)||0;iJ=parseInt(Aw.marginLeft,10)||0;ro=parseInt(Aw.borderBottomWidth,10)||0;kn=parseInt(Aw.marginBottom,10)||0;rh=parseInt(Aw.borderRightWidth,10)||0;iS=parseInt(Aw.marginRight,10)||0;}if(cX===IPCC.ViewMode.SinglePage){bM.style.margin=hw+'px 0px '+kn+'px 0px';bx.style.margin="0px auto";}else{if(eU===IPCC.PageLayout.VerticalScrollDirection){bM.style.margin=hw+'px auto '+kn+'px auto';}else{bM.style.margin=hw+'px '+iJ+'px '+kn+'px '+iS+'px';bx.style.margin='0px '+iJ+'px 0px '+iS+'px';}}fL=aw.get_pageWidth();hC=aw.get_pageHeight();fa=fL;fJ=hC;var eV=SCREEN_RESOLUTION/bQ[bN].hB;if(jj(bQ[bN].gR)===true){fJ=fL;fa=hC;eV=SCREEN_RESOLUTION/bQ[bN].fK;}C.axW();if(cX===IPCC.ViewMode.SinglePage){var apR=(aW.offsetWidth-(iJ+iS+or+rh));var apz=(aW.offsetHeight-(hw+kn+nI+ro+alU));nX=apR/(fa*eV);Xf=apz/(fJ*eV);if(Xf<nX){nX=Xf;}aw.zoom(nX*eV);}else if(eU===IPCC.PageLayout.VerticalScrollDirection){nX=(aW.offsetWidth-IPCC.Web.oe()-(iJ+iS+or+rh))/(fa*eV);aw.zoom(nX*eV);}else{nX=(aW.offsetHeight-IPCC.Web.oe()-(hw+kn+nI+ro))/(fJ*eV);aw.zoom(nX*eV);}nu=fa*nX*eV;mU=fJ*nX*eV;bM.style.width=nu+'px';bM.style.height=mU+'px';if(cX===IPCC.ViewMode.SinglePage){bx.style.width=nu+'px';bx.style.height=mU+'px';}if(cX!==IPCC.ViewMode.SinglePage){for(var fV=0;fV<bQ.length;fV++){if(bQ[fV].gA===false&&fV!==bN){if(bQ[fV].bU){bM=document.getElementById(bQ[fV].bU);bM.style.width=fa*nX+'px';bM.style.height=fJ*nX+'px';if(eU===IPCC.PageLayout.VerticalScrollDirection){bM.style.margin=hw+'px auto '+kn+'px auto';}else{bM.style.margin=hw+'px '+iJ+'px '+kn+'px '+iS+'px';}}}}}cq=nX;bM.ax.display();cu.push(0);}else{if(cX===IPCC.ViewMode.Document||cX===IPCC.ViewMode.SinglePage){if(jj(bQ[bN].gR)===true){nu=aw.get_pageHeight()*cq*SCREEN_RESOLUTION/bQ[bN].hB;mU=aw.get_pageWidth()*cq*SCREEN_RESOLUTION/bQ[bN].fK;}else{nu=aw.get_pageWidth()*cq*SCREEN_RESOLUTION/bQ[bN].hB;mU=aw.get_pageHeight()*cq*SCREEN_RESOLUTION/bQ[bN].fK;}}else{var gS;var aR=aw.get_pageWidth();var bF=aw.get_pageHeight();fa=fL;fJ=hC;if(jj(qs)===true){fa=hC;fJ=fL;}if(jj(bQ[bN].gR)===true){aR=aw.get_pageHeight();bF=aw.get_pageWidth();}if(eU===IPCC.PageLayout.VerticalScrollDirection){gS=fa/aR*cq*SCREEN_RESOLUTION/bQ[0].fK;nu=fa*cq*SCREEN_RESOLUTION/bQ[0].hB;mU=bF*gS;}else{gS=fJ/bF*cq*SCREEN_RESOLUTION/bQ[0].hB;mU=fJ*cq*SCREEN_RESOLUTION/bQ[0].fK;nu=aR*gS;}}if(nu!==Math.round(nu)){nu=Math.floor(nu*100)/100;}if(mU!==Math.round(mU)){mU=Math.floor(mU*100)/100;}if(bM.style.width!==nu+'px'||bM.style.height!==mU+'px'){if(eU===IPCC.PageLayout.VerticalScrollDirection){bM.style.width=nu+'px';bM.style.height=mU+'px';}else{bM.style.width=nu+'px';bM.style.height=mU+'px';}Bu(cB,true);mj(cB,true);}}if(nu>ha){ha=nu;if(eU===IPCC.PageLayout.VerticalScrollDirection){aW.scrollLeft=(ha-aW.clientWidth)/2;}}if(mU>gW){gW=mU;if(eU===IPCC.PageLayout.HorizontalScrollDirection){aW.scrollTop=(gW-aW.clientHeight)/2;}}if(bQ[bN].KN>0){var TE=document.getElementById(bQ[bN].bU).ax;if(TE){TE.rotate(bQ[bN].KN);TE.display();bQ[bN].KN=0;}}if(fS>0){fS=fS-1;}if(bQ[bN].ahN()===true&&bQ[bN].le()!==fL){var iM=bQ[bN].le()/fL;var bG=C.gJ(bQ[bN].by);if(bG){afE(bG,iM);}}bQ[bN].Rf(false);xC();var iz=new IPCC.OpenPageEventArgs();iz.pageIndex=evnt.pageNumber;iz.imGearPage=evnt.imGearPage;iz.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;iz.pageNodeID=bQ[bN].bU;C.aH('pageOpened',iz);break;}}if(fS===0&&nc===null&&kQ===null){setTimeout(function(){mV(true);},60);}};bh.add_pageOpened(abK);};function Hn(bh){function aws(aj,be){if(hT===false){return;}var Az;if(be.pageNumber>=0){if(bQ[be.pageNumber].bU){Az=bQ[be.pageNumber].bU;}}bQ[be.pageNumber].ud=true;bQ[be.pageNumber].gE=false;bQ[be.pageNumber].iT=false;bQ[be.pageNumber].gA=false;var oh=new IPCC.ExceptionEventArgs();oh.exception=be.exception;oh.pageIndex=be.pageNumber;oh.pageNodeID=Az;C.aH('pageOpenFailed',oh);if(fS>0){fS=fS-1;if(fS===0){setTimeout(function(){mV(false);},60);}}};bh.add_pageOpenFailed(aws);};function abF(bh){function awx(aj,be){if(hT===false){return;}var H=new IPCC.PageEventArgs();H.pageIndex=be.aY;H.imGearPage=bQ[be.aY].by;H.pageNodeID=bQ[be.aY].bU;bQ[be.aY].gA=true;var sp=false;for(var bB=0;bB<cu.length;bB++){if(cu[bB]===be.aY){sp=true;}}if(sp===false){cu.push(be.aY);}if(cX===IPCC.ViewMode.SinglePage){var kC= -1;if(Array.prototype.indexOf){kC=kE.indexOf(be.aY);}else{kC=IPCC.Web.gq(kE,be.aY);}if(kC!== -1){kE.splice(kC,1);}}C.aH('pageDisplayed',H);setTimeout(function(){var ml=IPCC.R.filter(cB,function(el){if(cX===IPCC.ViewMode.SinglePage){return be.aY===el.aY-1&&el.aY-1===bW;}else{return be.aY===el.aY-1;}});Bu(ml);mj(ml);},0);};bh.add_pageDisplayed(awx);};function awP(bq){function Ku(aj,be){if(hT===false){return;}C.aH('textPageReady',{pageIndex:be.pageNumber,containsText:be.containsText});var gh=vG;if(gh>gG){gh=gG;}if(be.containsText===true&&be.pageNumber>=eB-gh&&be.pageNumber<=ia+gh){if(bQ[be.pageNumber].bG&&bQ[be.pageNumber].bG.get_markCount()>0){var bM=document.getElementById(bQ[be.pageNumber].bU);C.vO(bM,be.pageNumber);}}};bq.wm(Ku);};function avi(bq){function awV(aj,be){if(hT===false){return;}var eT=bQ[be.pageNumber].eT;bq.anL().Mh().mq(function(ic){var F=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),aK=ic.eo();F.set_rectangle(new IPCC.Web.UI.Rectangle(aK.x,aK.y,aK.width,aK.height));F.set_href(ic.anF());F.set_lineColor(ic.avd());F.set_lineWidth(ic.aus());F.set_borderPattern(ic.atz());F.set_borderType(ic.auR());F.set_borderHorizontalRadius(ic.auB());F.set_borderVerticalRadius(ic.auC());F.set_borderOpacity(ic.ato());eT.addMark(F);ic.aqE(F);});C.aH('hyperlinkPageReady',{pageIndex:be.pageNumber});var gh=vG;if(gh>gG){gh=gG;}if(be.pageNumber>=eB-gh&&be.pageNumber<=ia+gh){var bM=document.getElementById(bQ[be.pageNumber].bU);C.vO(bM,be.pageNumber);}};bq.XR(awV);};function awF(bq){function Jt(aj,be){if(hT===false){return;}var Az;if(be.pageNumber>=0){if(bQ[be.pageNumber].bU){Az=bQ[be.pageNumber].bU;}}C.aH('textExtractionFailed',{'exception':be.exception,'pageIndex':be.pageNumber,'pageNodeID':Az});};bq.za(Jt);};function aaB(bh){function avZ(aj,be){if(hT===false){return;}var Az;if(isNaN(be.pageNumber)===false){if(be.pageNumber>=0){if(bQ[be.pageNumber].bU){Az=bQ[be.pageNumber].bU;}}bQ[be.pageNumber].ud=true;bQ[be.pageNumber].gE=false;bQ[be.pageNumber].iT=false;bQ[be.pageNumber].gA=false;}var oh=new IPCC.ExceptionEventArgs();oh.functionName=be.function_name;oh.exception=be.exception;oh.pageIndex=be.pageNumber;oh.pageNodeID=Az;C.aH('exceptionThrown',oh);if(fS>0){fS=fS-1;if(fS===0){setTimeout(function(){mV(false);},60);}}};bh.add_exceptionThrown(avZ);};function abu(bh){function IL(aj,be){C.aH('markCreating',be);};bh.add_markCreating(IL);};function awK(ds){function afA(){if(hT===false){return;}var gh=vG;if(gh>gG){gh=gG;}if(ds.cR>=eB-gh&&ds.cR<=ia+gh){var bM=document.getElementById(ds.bU);C.vO(bM,ds.cR);}var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=ds.cR;C.aH('marksLoaded',H);};ds.bG.add_marksLoaded(afA);};function avA(ds){function ka(aj,be){var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=ds.cR;H.mark=be.mark;H.zIndex=be.zIndex;H.clientX=be.clientX;H.clientY=be.clientY;C.aH('markAdded',H);};ds.bG.add_markAdded(ka);};function awH(ds){var WD,uj=false,aaQ,abE;function HY(aJ,fo){if(uT===false){return;}var jM=xR();ags(aJ,fo,jM);mj(cB,true,jM);};function avv(aJ,fo){aaQ=aJ;abE=fo;if(uj&& !WD){WD=IG(function(){uj=false;WD=undefined;if(aaQ&&abE){HY(aaQ,abE);}else{HY(aJ,fo);}});}};function rg(aj,be){if(be.mark.zH===true){return;}var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=ds.cR;H.mark=be.mark;H.zIndex=be.zIndex;H.propertyName=be.propertyName;C.aH('markChanged',H);var fo=cB[be.mark.get_markID()];if(fo&&(be.propertyName==='rectangle'||be.propertyName==='points'||be.propertyName==='startPoint'||be.propertyName==='endPoint')){uj=true;avv(be.mark,fo);}else if(fo&&be.propertyName==='visible'){var aBN=be.mark.get_visible();var abB=(function(di){return IPCC.R.inArray(cu,di.aY-1)&&di.aY-1>=eB&&di.aY-1<=ia;})(fo);if(aBN&&abB){QF([fo]);mj(cB,true,xR());}else{Ir([fo]);}}};ds.bG.add_markChanged(rg);};function avO(ds){function aeE(aj,be){var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=ds.cR;H.mark=be.mark;H.zIndex=be.zIndex;H.oldZIndex=be.oldZIndex;C.aH('markReordered',H);};ds.bG.add_markReordered(aeE);};function aww(ds){function EG(aj,be){if(be.mark.zH===true){return;}var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=ds.cR;H.mark=be.mark;H.zIndex=be.zIndex;C.aH('markSelectionChanged',H);};ds.bG.add_markSelectionChanged(EG);};function awn(ds){function Dx(aj,be){if(be.mark){var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=ds.cR;H.mark=be.mark;H.zIndex=be.zIndex;C.aH('markRemoved',H);var fo=cB[be.mark.get_markID()];if(fo){if(be.mark.get_conversation()===ju){ju=null;}fo.dq.parentElement.removeChild(fo.dq);delete cB[be.mark.get_markID()];mj(cB,true);}}};ds.bG.add_markRemoved(Dx);};function avB(ds){function CB(aj,be){var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=ds.cR;H.mark=be.mark;H.zIndex=be.zIndex;C.aH('markTextSelectionChanged',H);};ds.bG.add_markTextSelectionChanged(CB);};function ags(aJ,fo,Ot){var ds=bQ[fo.aY-1],bq=document.getElementById(ds.bU),Fr=aam(aJ,ds.cR+1);if(bq.ax){var cJ=bq.ax.transformPagePointToWindow(new IPCC.Web.UI.Point(Fr.x,Fr.y),true);var aaz=(hw*(ds.cR*1));var KH=(bq.offsetTop-aaz+cJ.y)/(Ot-(hw*bQ.length));fo.aK=Fr;fo.aaa=KH;}};function Ir(lw,aY){var aDW=typeof aY==='undefined';IPCC.R.forEach(lw,function(bn){if(bn&&(aDW||bn.pageNumber===aY)){bn.dq.style.display='none';bn.JF=false;}});};function vE(){if(mY.currentStyle&&mY.currentStyle.display==='none'){return 0;}return mY.clientWidth;};function xR(){if(mY.currentStyle&&mY.currentStyle.display==='none'){return 0;}return mY.offsetHeight;};function QF(lw,aY){var apb=typeof aY==='undefined';IPCC.R.forEach(lw,function(el){if(apb||el.pageNumber===aY){el.dq.style.display='';el.JF=true;if(el&&el.F&&el.F.get_visible()===false){el.dq.style.display='none';el.JF=false;}}});};function Bu(lw,Zs){if(uT===false){return;}var Nm=(! !Zs)?IPCC.R.filter(cB,function(di){return IPCC.R.inArray(cu,di.aY-1)&&di.aY-1>=eB&&di.aY-1<=ia;}):lw;var jM=xR();IPCC.R.forEach(Nm,function(el){ags(el.F,el,jM);});};function axv(a,b){return(a.aK.y!==b.aK.y)?(a.aK.y-b.aK.y):(a.aK.x!==b.aK.x)?(a.aK.x-b.aK.x):(a.yN-b.yN);};function ayU(a,b){return(a.aK.x!==b.aK.x)?(a.aK.x-b.aK.x):(a.aK.y!==b.aK.y)?(b.aK.y-a.aK.y):(a.yN-b.yN);};function ayx(a,b){return(a.aK.y!==b.aK.y)?(b.aK.y-a.aK.y):(a.aK.x!==b.aK.x)?(b.aK.x-a.aK.x):(a.yN-b.yN);};function ays(a,b){return(a.aK.x!==b.aK.x)?(b.aK.x-a.aK.x):(a.aK.y!==b.aK.y)?(a.aK.y-b.aK.y):(a.yN-b.yN);};function awU(Tp,jM,Bl){Bl=Bl||0;var _top,alz,JQ,Zz=(hw*bQ.length),Vv=jM-Zz;IPCC.R.forEach(Tp,function(di){JQ=(hw*(di.aY-1));alz=(di.aaa*Vv)+JQ;_top=Math.max(Bl+5,alz);if(di.dq.style.top!==_top+'px'){di.dq.style.top=_top+'px';}Bl=_top+di.abd;});};function avU(Tp,jM){var Qg,_top,Ou,JQ,akn,Zz=(hw*bQ.length),Vv=jM-Zz;IPCC.R.forEach(Tp,function(di){JQ=(hw*(di.aY-1));Ou=(di.aaa*Vv)+JQ;if(Qg===undefined){Qg=Ou;}if(di.F.get_conversation()===ju){_top=Ou;akn=_top+di.abd;}else{_top=Math.min(Qg-5-di.abd,Ou);}if(di.dq.style.top!==_top+'px'){di.dq.style.top=_top+'px';}Qg=_top;});return akn;};function mj(lw,Zs,jM){if(uT===false){return;}if(!jM){jM=xR();}var arb=function(a,b){if(a.aY!==b.aY){return(a.aY-b.aY);}var bq=bQ[a.aY-1],ci=bq.gR;switch(ci){case 90:return ayU(a,b);case 180:return ayx(a,b);case 270:return ays(a,b);default:return axv(a,b);}};var Nm=(! !Zs)?IPCC.R.filter(cB,function(di){return IPCC.R.inArray(cu,di.aY-1)&&di.aY-1>=eB&&di.aY-1<=ia;}):lw;QF(Nm);var aoU=IPCC.R.map(Nm,function(di,aq){di.abd=di.dq.offsetHeight;return di;});var Uc=aoU.sort(arb);var Nd=[],Zq=[],SS=false;if(ju){var aDH=cB[ju.get_mark().get_markID()];if(!IPCC.R.inArray(Uc,aDH)){SS=true;}IPCC.R.forEach(Uc,function(di){if(SS){Zq.push(di);}else if(di.F.get_conversation()===ju){Nd.unshift(di);SS=true;}else{Nd.unshift(di);}});}else{Zq=Uc;}var Bl=0;if(Nd.length){Bl=avU(Nd,jM);}awU(Zq,jM,Bl);};function axw(lw,aJ,cR){var di=lw[aJ.gU()];di.aY=cR;di.F=aJ;di.aK=aam(aJ,cR);di.yN=aJ.et().nN(aJ);};function Eq(aJ,lw,nm){var fo=lw[aJ.get_markID()];if(fo){fo.dq.parentElement.replaceChild(nm,fo.dq);fo.dq=nm;}return fo;};function awr(aJ,lw,nm,aAu,aFQ,KH,cR){var fo=new IPCC.fo();fo.dq=nm;cB[aJ.get_markID()]=fo;axw(cB,aJ,cR);fo.aaa=KH;aAu.appendChild(nm);return fo;};function aam(aJ,aY){var aK=(aJ.get_boundingRectangle)?aJ.get_boundingRectangle():{},ci=bQ[aY-1].gR;switch(ci){case 90:return{x:aK.x,y:aK.y+(aK.height||0)};case 180:return{x:aK.x+(aK.width||0),y:aK.y+(aK.height||0)};case 270:return{x:aK.x+(aK.width||0),y:aK.y};default:return{x:aK.x,y:aK.y};}};function awf(ds){function OB(aj,be){var H=new IPCC.Web.UI.CommentEventArgs();H.pageIndex=ds.cR;H.mark=be.mark;H.index=be.index;H.comment=be.comment;var bq=document.getElementById(ds.bU);C.aH('commentAdding',H);setTimeout(function(){var Ot=xR(),fo,dq;if(be.index===0){dq=qv(be.mark,{isSelected:false},null);if(!dq){return;}else if(!IPCC.R.vN(dq)){throw new Error(dq+' is not a valid HTMLElement');}var Fr=aam(be.mark,ds.cR+1),azS=Fr.x,ayX=Fr.y;var cJ;if(bq&&bq.ax){cJ=bq.ax.transformPagePointToWindow(new IPCC.Web.UI.Point(azS,ayX),true);}else{cJ=new IPCC.Web.UI.Point(0,0);}var aaz=(hw*(ds.cR));var KH=(bq.offsetTop-aaz+cJ.y)/(Ot-(hw*bQ.length));fo=awr(be.mark,cB,dq,mY,cJ,KH,ds.cR+1);}else{var gl=be.mark.get_conversation()===ju;var currentConversationDiv=cB[be.mark.get_markID()];if(!currentConversationDiv){return;}dq=qv(be.mark,{isSelected:gl},currentConversationDiv.dq);if(!dq){return;}else if(!IPCC.R.vN(dq)){throw new Error(dq+' is not a valid HTMLElement');}fo=Eq(be.mark,cB,dq);}if(IPCC.R.inArray(cu,ds.cR)&&ds.cR>=eB&&ds.cR<=ia){mj(cB,true,Ot);}else{Ir([fo]);}C.aH('commentAdded',H);},0);};ds.bG.add_commentAdded(OB);};function awy(ds){function PA(aj,be){var dq=null;if(cB[be.mark.get_markID()]){dq=cB[be.mark.get_markID()].dq;var gl=be.mark.get_conversation()===ju;dq=qv(be.mark,{isSelected:gl},dq);}if(!dq){C.aH('commentChanged',be);return;}else if(!IPCC.R.vN(dq)){throw new Error(dq+' is not a valid HTMLElement');}if(dq){var jM=xR();Eq(be.mark,cB,dq);mj(cB,true,jM);}C.aH('commentChanged',be);};ds.bG.add_commentChanged(PA);};function avl(ds){function Pr(aj,be){var dq=null;if(cB[be.mark.get_markID()]){dq=cB[be.mark.get_markID()].dq;}var gl=be.mark.get_conversation()===ju;dq=qv(be.mark,{isSelected:gl},dq);if(IPCC.R.vN(dq)){Eq(be.mark,cB,dq);}else{var fo=cB[be.mark.get_markID()];if(fo){if(be.mark.get_conversation()===ju){ju=null;}fo.dq.parentElement.removeChild(fo.dq);delete cB[be.mark.get_markID()];}}mj(cB,true);C.aH('commentRemoved',be);};ds.bG.add_commentRemoved(Pr);};function aaj(){var dc=hC;var av=fL;var apF=function(iO){return{width:iO.width||(iO.right-iO.left),height:iO.height||(iO.bottom-iO.top),top:iO.top,bottom:iO.bottom,left:iO.left,right:iO.right};};var aec=apF(aW.getBoundingClientRect());var nQ={height:Math.floor(aec.height/2)};nQ.width=nQ.height*av/dc;if(nQ.width>av/2){nQ.width=av/2;}if(nQ.height>dc/2){nQ.height=dc/2;}var HG={height:Math.floor(dc*8)};HG.width=HG.height*av/dc;var ayD=av*cq<nQ.width+5;var ayS=av*cq>HG.width-5;return{min:nQ,max:HG,page:{width:av,height:dc},viewport:aec,atMin:ayD,atMax:ayS,maxFactor:HG.width/av,minFactor:nQ.width/av};};function ks(aB,Uq){if(Uq){adj.apply(this,arguments);return;}var yI=(aB<cq)?true:false;var qi=aaj();if((qi.atMin&&yI)||(qi.atMax&& !yI)){return;}if(aB>qi.maxFactor){aB=qi.maxFactor;}else if(aB<qi.minFactor){aB=qi.minFactor;}if(!qi.atMax|| !qi.atMin){adj.apply(this,arguments);}};function adj(aB,aHJ,aF,ey,DN,zo,dV,fd){if(isNaN(aB)||aB<=0||Math.abs(aB)===Infinity){return;}var yI=(aB<cq)?true:false;var ih=0;var iq=bQ.length-1;if(cX===IPCC.ViewMode.SinglePage){if(bW-gG>=0){ih=bW-gG;}if(bW+gG<bQ.length-1){iq=bW+gG;}}var Rj=aB/cq;cq=aB;var anJ=(zo&&zo.x!==undefined)?zo.x:aW.scrollLeft+(aW.clientWidth/2);var anR=(zo&&zo.y!==undefined)?zo.y:aW.scrollTop+(aW.clientHeight/2);ha=0;gW=0;for(var bN=ih;bN<=iq;bN++){var aw;var bM=document.getElementById(bQ[bN].bU);if(bM){aw=bM.ax;}else{continue;}var fQ=aB*SCREEN_RESOLUTION/bQ[bN].hB;var aR=fL;var bF=hC;var fa=fL;var fJ=hC;if(jj(qs)===true){fa=hC;fJ=fL;}if(bQ[bN].le()>0){if(jj(bQ[bN].gR)===true){aR=bQ[bN].pF();bF=bQ[bN].le();}else{aR=bQ[bN].le();bF=bQ[bN].pF();}}else{fQ=aB*SCREEN_RESOLUTION/bQ[0].hB;if(jj(bQ[bN].gR)===true){var Mn=aR;aR=bF;bF=Mn;fQ=aB*SCREEN_RESOLUTION/bQ[0].fK;}}var Mg,Hz,gS;if(cX===IPCC.ViewMode.SinglePage){Hz=aR*fQ;Mg=bF*fQ;bM.style.width=Hz+'px';bM.style.height=Mg+'px';if(bN===bW){bx.style.width=Hz+'px';bx.style.height=Mg+'px';}if(aw&&bQ[bN].gA===true&&aw.hg()===true){aw.zoom(fQ);}}else if(cX===IPCC.ViewMode.Document){Hz=aR*fQ;Mg=bF*fQ;bM.style.width=Hz+'px';bM.style.height=Mg+'px';if(aw&&bQ[bN].gA===true&&aw.hg()===true){aw.zoom(fQ);}if(aR*fQ>ha){ha=aR*fQ;}if(bF*fQ>gW){gW=bF*fQ;}}else{fQ=aB*SCREEN_RESOLUTION/bQ[0].hB;if(eU===IPCC.PageLayout.VerticalScrollDirection){gS=fa/aR*fQ;bM.style.width=fa*fQ+'px';bM.style.height=bF*gS+'px';if(fa*fQ>ha){ha=fa*fQ;}if(bF*fQ>gW){gW=bF*fQ;}}else{gS=fJ/bF*fQ;bM.style.height=fJ*fQ+'px';bM.style.width=aR*gS+'px';if(aR*fQ>ha){ha=aR*fQ;}if(fJ*fQ>gW){gW=fJ*fQ;}}if(aw&&bQ[bN].gA===true&&aw.hg()===true){aw.zoom(gS);}}if(aw&&bQ[bN].gA===true&&aw.hg()===true){aw.display();if(IPCC.R.JJ.QL){var aAD=aW.style.display;aW.style.display='none';aW.style.display=aAD;avX();}}}if(eU===IPCC.PageLayout.VerticalScrollDirection){OC=aW.scrollTop;}else{OC=aW.scrollLeft;}var abL,aat,aaZ=0,abi=0;if(DN){abL=DN.offsetLeft+Rj*aF;aat=DN.offsetTop+Rj*ey;}else{if(eU===IPCC.PageLayout.VerticalScrollDirection){abi=hw*(bW);}else{aaZ=(iJ+iS)*(bW);}abL=Rj*(anJ-aaZ);aat=Rj*(anR-abi);}aW.scrollLeft=abL-(aW.clientWidth/2)+aaZ;aW.scrollTop=aat-(aW.clientHeight/2)+abi;xC();if(yI===true&&cX!==IPCC.ViewMode.SinglePage){mV(true);}mj(cB,true);C.aH('scaleChanged',{scaleType:(yI)?"scaledDown":"scaledUp",scaleTrigger:dV,fitType:fd,scaleFactor:cq});};function avX(){var dummy=document.createElement('div');setTimeout(function(){aW.appendChild(dummy);aW.removeChild(dummy);},0);};function agE(bu,iQ,jb,eA){var jD=bu.igElements;eA=eA||aaK(bu);if(eA&&(eA.right-eA.left)>0&&(eA.bottom-eA.top)>0){return new IPCC.Web.UI.Point(iQ+eA.left+jD.pp.scrollLeft,jb+eA.top+jD.pp.scrollTop);}else{return;}};function aaK(bu){var jD=bu.igElements;var eA=null;if(!bu|| !jD|| !jD.lT){return null;}if(jD.lT.getBoundingClientRect){try{eA=jD.lT.getBoundingClientRect();}catch(bD){return;}}else{var dv=jD.lT;var wy=document.documentElement;eA={left:wy.clientLeft-wy.scrollLeft,top:wy.clientTop-wy.scrollTop};dv=dv.offsetParent;while(dv){eA.top+=dv.offsetTop-dv.scrollTop;eA.left+=dv.offsetLeft-dv.scrollLeft;dv=dv.offsetParent;}}return eA;};function agS(){var aC=C.hb();var Rn=aC.id;var AM;var zN;var qV;var Vi;var Ve;var bO=false;var bu;var oE=[];var wF= -1;var jp=0;var qG;var Ec;var BN;var mE=0;var dH=0;var tW=null;var xf=null;if(bx===''){aW=fC({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});aW.className='pccPageListContainerWrapper';aW.tabIndex=2;var PY=function(iQ,jb){var kK=document.elementFromPoint(iQ,jb);while(kK&&(kK.parentNode||kK.ownerSVGElement)){if(kK.parentNode.id&&kK.parentNode.id.indexOf("__pViewId")!== -1){return kK.parentNode;}kK=kK.ownerSVGElement||kK.parentNode;}return false;};var LL=function(bu,iQ,jb){var jD=bu.igElements;var eA=aaK(bu);if(eA&&(eA.right-eA.left)>0&&(eA.bottom-eA.top)>0){return new IPCC.Web.UI.Point(iQ-eA.left-jD.pp.scrollLeft,jb-eA.top-jD.pp.scrollTop);}else{return;}};var aok=function(qO){qO.KD([new IPCC.oq(IPCC.Web.UI.MarkType.Text)]);};var aqt=function(qO){qO.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var Ra=false,aEt="";var aiu=function aER(bD,jZ,bq){if(jZ.match(/edit/)){Ra=true;return;}aok(bq.ax);Ra=true;aEt=jZ;bq.ax.Jy("touchstart",bD);};var aiv=function(bq){Ra=false;aqt(bq.ax);};var WL=function(bD){if(bD.target&&bD.target.attributes&&bD.target.getAttribute('data-pcc-mark')){return bD.target;}else if(bD.target.parentElement&&bD.target.parentElement.attributes&&bD.target.parentElement.getAttribute('data-pcc-mark')){return bD.target.parentElement;}else if(bD.target.parentNode&&bD.target.parentNode.attributes&&bD.target.parentNode.getAttribute('data-pcc-mark')){return bD.target.parentNode;}else{return undefined;}};var Wn=function(bD){var aQ=WL(bD);if(aQ){return aQ.getAttribute('data-pcc-mark');}return undefined;};var anx=function(qO){if(qO&&qO.et()){qO.et().EZ(function(F){F.set_selected(false);});qO.display();}};var Pp,YG=false;var ND=function(bD,H){var rq={dR:undefined,F:undefined,ai:null};var lq=WL(bD);if(lq){if(typeof bu!=='undefined'&&bu!==false&&bu.ax&&bu.igElements&&bu.ax.hg()===true){rq.ai=bu.ax.lY();}if(lq.ImGearMarkRelation){rq.dR='mark';rq.F=lq.ImGearMarkRelation.F;return rq;}else{while(!(lq.ImGearMarkRelation)&&lq.parentNode&&lq!==document.body){lq=lq.parentNode;if(lq.ImGearMarkRelation){rq.dR='mark';rq.F=lq.ImGearMarkRelation.F;return rq;}}}}if(typeof bu!=='undefined'&&bu!==false&&bu.ax&&bu.igElements&&bu.ax.hg()===true){rq.ai=bu.ax.lY();var ai=0;for(ai=0;ai<bQ.length;ai++){if(bQ[ai].bU===bu.id){if(typeof H.targetType==='undefined'||H.targetType===null){rq.dR='page';return rq;}break;}}}return rq;};var Ql=function(ai,uB,jP,aCo){if(ab===null||ab===undefined){return;}var Zr=false;if(uB===undefined){uB=ab.uB;Zr=true;}if(jP===undefined){jP=ab.jP;Zr=true;}var F;var bq=document.getElementById(bQ[ai].bU);if(aCo===true){F=ab.yF;}else{F=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);F.set_rectangle({x:0,y:0,width:0,height:0});F.cs=127;F.dP='#3366CC';F.bk=null;bq.ax.ln().addMark(F);}F.set_selected(true);if(Zr===true){if(ab.ih===ab.iq){F.aM=jp;F.cY=jP-jp+1;F.kc=true;F.mD=true;bq.ax.display();}else if(ai===ab.ih){F.aM=jp;F.cY=bq.ax.cT().fI().dY()-1-uB;F.kc=true;F.mD=false;bq.ax.display();}else if(ai===ab.iq){F.aM=0;F.cY=jP+1;F.kc=false;F.mD=true;bq.ax.display();}else{F.aM=0;F.cY=bq.ax.cT().fI().dY()-1-jp;F.kc=false;F.mD=false;}}else{if(ab.ih===ab.iq){F.kc=true;F.mD=true;}else if(ai===ab.ih){F.kc=true;F.mD=false;}else if(ai===ab.iq){F.kc=false;F.mD=true;}else{F.kc=false;F.mD=false;}}ab.eI[ai]=F;};var jK=function(bD){if(BN){if(BN.clientX===bD.clientX&&BN.clientY===bD.clientY){if(bD.rawEvent.preventDefault){bD.rawEvent.preventDefault();}else if(bD.preventDefault){bD.preventDefault();}if(bD.rawEvent.stopPropagation){bD.rawEvent.stopPropagation();}else if(bD.stopPropagation){bD.stopPropagation();}YG=true;BN=undefined;return false;}}Pp=bD;ahR(bD,bD.clientX,bD.clientY,bD.button);};var aiG=function(bD,H){qV=ND(bD,H);};var ahR=function(bD,iQ,jb,ps){var H=new IPCC.Web.UI.MouseEventArgs();bu=PY(iQ,jb);aiG(bD,H);var jZ;var lq=WL(bD);if(lq){jZ=lq.getAttribute('data-pcc-mark');}var Zu=false;var NX=jZ&&jZ.substring(0,10);if(jZ&&NX==='texthandle'){Ec=true;Zu=true;NX=jZ.substring(10,13);var F=lq.parentNode.ImGearMarkRelation.F;if(ab&&F.bk===null){oE=ab.rA.slice();oE[H.pageIndex]=undefined;}else{ab=null;oE=[];C.Ae();}var aeM=function(aCD){jp=ab.uB;var G;for(G=ab.iq;G>=ab.ih;G--){var bq=document.getElementById(bQ[G].bU);if(bq.ax===undefined||bq.ax===null){continue;}var Eo=jp;if(G!==ab.ih){Eo=0;}var sa;if(G===ab.iq){sa=ab.jP;}else{sa=bq.ax.get_textPage().fI().dY()-1;}aCD(bq,Eo,sa);if(G!==ab.su){Ql(G);}}tW=cO;cO=IPCC.Web.UI.MouseTool.SelectText;bO=true;};var G,ai,bG,ML,fb,tu,ck;if(NX==='sta'){if(ab===null||ab===undefined){ai=F.ai;ab={};ab.eI=[];ab.ih=ai;ab.uB=F.aM;jp=F.aM;while(ai<bQ.length){bG=bQ[ai].bG;ML=bG.get_markCount();for(G=0;G<ML;G++){fb=bG.getMark(G);if(F.bZ===fb.bZ&&fb.get_type()===F.get_type()){ab.eI[ai]=fb;for(tu=fb.bk.length-1;tu>=0;tu--){if(fb.bk[tu].set_visible){fb.bk[tu].set_visible(false);}else{fb.set_visible(false);break;}}if(ai===F.ai){xf=fb;}else{oE[ai]=ck.substring(fb.aM,fb.cY);fb.set_selected(false);}ck=fb.ck.substring(fb.cY);if(fb.mD===true){ab.jP=fb.aM+fb.cY-1;ab.iq=ai;break;}}}ai++;}}qG=ab.jP+1;mE=ab.iq;var aBF=function(bq,Eo,sa){bq.ax.showEmptyTextSelection(sa+1);bq.ax.extendTextSelection(undefined);bq.ax.extendTextSelection(sa);bq.ax.extendTextSelection(Eo);};ab.eI[ab.ih].zH=true;ab.su=ab.ih;ab.yF=ab.eI[ab.ih];aeM(aBF);}else if(NX==='end'){if(ab===null||ab===undefined){ai=F.ai;ab={};ab.eI=[];ab.iq=ai;ab.jP=F.aM+F.cY-1;while(ai>=0){bG=bQ[ai].bG;ML=bG.get_markCount();for(G=0;G<ML;G++){fb=bG.getMark(G);if(F.bZ===fb.bZ&&fb.get_type()===F.get_type()){ab.eI[ai]=fb;for(tu=fb.bk.length-1;tu>=0;tu--){if(fb.bk[tu].set_visible){fb.bk[tu].set_visible(false);}else{fb.set_visible(false);break;}}if(ai===F.ai){ck=fb.ck;}else{oE[ai]=ck.substring(ck.length-fb.cY);fb.set_selected(false);}ck=fb.ck.substring(0,ck.length-fb.cY);if(fb.kc===true){ab.uB=fb.aM;jp=fb.aM;ab.ih=ai;xf=fb;break;}}}ai--;}}qG=ab.uB;mE=ab.ih;var aCq=function(bq,Eo,sa){bq.ax.showEmptyTextSelection(Eo);bq.ax.extendTextSelection(undefined);bq.ax.extendTextSelection(Eo);bq.ax.extendTextSelection(sa);};ab.eI[ab.iq].zH=true;ab.su=ab.iq;ab.yF=ab.eI[ab.iq];aeM(aCq);}if(xf){bu.ax.display();}}var BE=bD.target.tagName&&bD.target.tagName.toLowerCase()==='textarea';if(BE){return;}var Ce=bD.target.tagName&&bD.target.tagName.toLowerCase()==='input'&&bD.target.type&&bD.target.type.toLowerCase()==='text';if(Ce){return;}if(cO===IPCC.Web.UI.MouseTool.HandPan&&BF&&jZ&&Zu===false){if(!qV||qV.F.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){aiu(bD,jZ,bu);return;}}var cc;var gn;if(bu!==false&&bu.ax&&bu.igElements&&bu.ax.hg()===true){var bC=0;for(bC=0;bC<bQ.length;bC++){if(bQ[bC].bU===bu.id){H.pageIndex=bC;break;}}H.pointLiesWithinImage=true;gn=LL(bu,iQ,jb);if(gn){cc=bu.ax.II(gn,false);H.imagePoint=cc;H.constrainedImagePoint=cc;}else{H.pointLiesWithinImage=false;}}else{H.pointLiesWithinImage=false;}H.domEvent=bD;H.windowPoint=new IPCC.Web.UI.Point(iQ,jb);if(Zu===true){wF= -1;dH=H.pageIndex;bD.preventDefault();C.aH('mouseDown',H);return;}switch(cO){case IPCC.Web.UI.MouseTool.None:bD.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bD.preventDefault();AM=jb;zN=iQ;Vi=aW.scrollTop;Ve=aW.scrollLeft;bO=true;bx.style.cursor=IPCC.aO.ek(IPCC.aO.HandClosed);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bD.preventDefault();if(ps===0&&bu&&bu.ax&&cc){C.Ae();oE=[];wF= -1;Ec=undefined;var cz=bu.ax.transformPagePointToTextIndex(cc);jp=cz;qG=cz;bO=true;if(cz===undefined){C.aH('mouseDown',H);return;}bu.ax.showEmptyTextSelection(cz);bu.ax.extendTextSelection(undefined);bu.ax.extendTextSelection(cz);bu.ax.display();mE=H.pageIndex;dH=H.pageIndex;}break;case IPCC.Web.UI.MouseTool.Magnifier:bD.preventDefault();if(ps===0&&bu&&bu.ax&&gn){var io=IPCC.aO.ek(IPCC.aO.None);bx.style.cursor=io;bu.ax.showMagnifier(gn);bu.ax.display();}bO=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:bD.preventDefault();if(ps===0&&bu&&bu.ax&&cc){bO=true;AM=gn.y;zN=gn.x;bu.ax.showEmptySelection(cc);bu.ax.display();}break;}C.aH('mouseDown',H);};var kZ=function(bD){ajF(bD,bD.clientX,bD.clientY,bD.button);};var ajF=function(bD,iQ,jb,ps){var BE=bD.target.tagName&&bD.target.tagName.toLowerCase()==='textarea';if(BE){return;}var Ce=bD.target.tagName&&bD.target.tagName.toLowerCase()==='input'&&bD.target.type&&bD.target.type.toLowerCase()==='text';if(Ce){return;}var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bD;H.windowPoint=new IPCC.Web.UI.Point(iQ,jb);var eS=PY(iQ,jb);var cc;var gn;if(eS!==false&&eS.ax&&eS.igElements&&eS.ax.hg()===true){H.pointLiesWithinImage=true;gn=LL(eS,iQ,jb);if(gn){cc=eS.ax.II(gn,false);H.imagePoint=cc;H.constrainedImagePoint=cc;}else{H.pointLiesWithinImage=false;}}else{H.pointLiesWithinImage=false;}var lq=ND(bD,H);if(lq&&lq.F){H.mark=lq.F;}var io;switch(cO){case IPCC.Web.UI.MouseTool.None:bD.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bD.preventDefault();if(bO){var asI=jb;var asY=iQ;var axx=AM-asI;var azx=zN-asY;aW.scrollTop=Vi+axx;aW.scrollLeft=Ve+azx;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bD.preventDefault();if(bO){if(ps!==0){EO();}var ik;if(!eS){C.aH('mouseMove',H);return;}if(jp===undefined){bu=eS;}else if(eS!==bu&&eS.ax&&gn){wF= -1;var lf=0;var G=0;for(G=0;G<bQ.length;G++){if(bQ[G].bU===eS.id){lf=G;break;}}if(lf>dH){if(lf>mE){ik=bu.ax.get_textPage().fI().dY()-1;if(ik<0){EO();C.aH('mouseMove',H);return;}bu.ax.extendTextSelection(ik);if(ab){ik=bu.ax.get_textPage().fI().dY()-1;ab.eI[dH].set_startIndex(bu.ax.OV());ab.eI[dH].set_textLength(bu.ax.DH());ab.iq=lf;jp=bu.ax.OV();}oE[dH]=bu.ax.getSelectedText();eS.ax.showEmptyTextSelection(0);eS.ax.extendTextSelection(undefined);wF=0;bu.ax.display();bu=eS;}else{jp=0;oE[dH]=undefined;oE[lf]=undefined;bu.ax.showEmptyTextSelection(0);bu.ax.extendTextSelection(undefined);if(ab&&ab.eI[dH]){ab.eI[dH].kc=false;}bu.ax.display();bu=eS;if(ab&&ab.eI[dH]){ab.eI[dH]=undefined;ab.ih=lf;ab.eI[lf].set_startIndex(0);ab.eI[lf].set_textLength(ab.eI[lf].get_startIndex()+ab.eI[lf].get_textLength());ab.eI[lf].kc=true;bu.ax.display();}}}else if(lf<dH){if(lf<mE){ik=bu.ax.get_currentTextIndex();if(ik!==0){bu.ax.extendTextSelection(0);}if(ab){ab.eI[dH].set_startIndex(bu.ax.OV());ab.eI[dH].set_textLength(bu.ax.DH());ab.ih=lf;}oE[dH]=bu.ax.getSelectedText();bu.ax.display();ik=eS.ax.cT().fI().dY()-1;wF=ik;jp=0;eS.ax.showEmptyTextSelection(ik+1);eS.ax.extendTextSelection(undefined);bu=eS;bu.ax.display();}else{oE[dH]=undefined;oE[lf]=undefined;bu.ax.showEmptyTextSelection(0);bu.ax.extendTextSelection(undefined);if(ab&&ab.eI[dH]){ab.eI[dH].mD=false;}bu.ax.display();bu=eS;if(ab&&ab.eI[dH]){ab.eI[dH]=undefined;ab.iq=lf;ik=bu.ax.cT().fI().dY()-1;ab.eI[lf].set_textLength(eS.ax.DH());ab.eI[lf].mD=true;bu.ax.display();}}}dH=lf;}var axz=(dH<mE),axl=(dH>mE);if(bu&&bu.ax&&bu.ax.hg()===true&&gn){gn=LL(bu,iQ,jb);cc=bu.ax.II(gn,false);var cz=bu.ax.transformPagePointToTextIndex(cc);if(jp===undefined){jp=cz;qG=cz;if(cz===undefined){C.aH('mouseMove',H);return;}bu.ax.showEmptyTextSelection(cz);bu.ax.extendTextSelection(undefined);bu.ax.extendTextSelection(cz);bu.ax.display();var bB=0;for(bB=0;bB<bQ.length;bB++){if(bQ[bB].bU===bu.id){mE=bB;dH=bB;break;}}}else{if(jp=== +jp&&cz=== +cz){if(axz){jp=cz;}else if(!axl){jp=Math.min(qG,cz);}}}ik=bu.ax.get_currentTextIndex();if(ik===cz||cz===undefined){C.aH('mouseMove',H);return;}if(wF!== -1){if(cz!==wF){bu.ax.extendTextSelection(wF);}wF= -1;}if((cz>qG&&dH===mE)||dH>mE){if(ab){if(ab.eI[dH]===undefined||ab.eI[dH]===null){Ql(dH,0,0,dH===ab.su);if(dH-1>=0&&ab.eI[dH-1]){ab.eI[dH-1].mD=false;document.getElementById(bQ[dH-1].bU).ax.display();}}ab.eI[dH].mD=true;}if(Ec===undefined){Ec=false;}}else if(cz<qG||dH<mE){if(ab){if(ab.eI[dH]===undefined||ab.eI[dH]===null){Ql(dH,bu.ax.cT().fI().dY()-1,0,dH===ab.su);if(ab.eI[dH+1]){ab.eI[dH+1].kc=false;document.getElementById(bQ[dH+1].bU).ax.display();}}ab.eI[dH].kc=true;}if(Ec===undefined){Ec=true;qG++;bu.ax.showEmptyTextSelection(qG);bu.ax.extendTextSelection(undefined);var sa=bu.ax.cT().fI().dY();if(qG>=sa){bu.ax.extendTextSelection(sa-1);}else{bu.ax.extendTextSelection(qG);}}}bu.ax.extendTextSelection(cz);if(ab&&ab.eI[dH]){ab.eI[dH].set_startIndex(bu.ax.OV());ab.eI[dH].set_textLength(bu.ax.DH());}bu.ax.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:bD.preventDefault();if(bO){if(ps!==0||(bu&&bu.ax&&bu!==eS)){bu.ax.hideMagnifier();io=IPCC.aO.ek(IPCC.aO.Magnifier);bx.style.cursor=io;bu.ax.display();}if(eS&&eS.ax&&gn){bu=eS;io=IPCC.aO.ek(IPCC.aO.None);bx.style.cursor=io;eS.ax.showMagnifier(gn);eS.ax.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:bD.preventDefault();if(bO){if(eS&&eS.ax&&cc&&eS===bu){if(ps!==0){eS.ax.hideSelection();eS.ax.display();bO=false;}else{eS.ax.extendSelection(cc);eS.ax.display();}}else{bu.ax.hideSelection();bu.ax.display();bO=false;}}break;}C.aH('mouseMove',H);};var it=function(bD){if(YG!==true){Zx(bD,bD.clientX,bD.clientY);}else{YG=false;}};var aiw=function(bD,H){H.upTargetType=null;var DM=ND(bD,H);H.originalEvent=bD.rawEvent;H.clientX=bD.clientX;H.clientY=bD.clientY;H.downTarget={type:undefined,pageIndex:undefined};if(typeof qV!=='undefined'&&typeof qV.dR!=='undefined'){H.downTarget.type=qV.dR;}if(typeof qV!=='undefined'&&typeof qV.ai!=='undefined'){H.downTarget.pageIndex=qV.ai;}H.downMark=(typeof qV!=='undefined')?qV.F:undefined;H.upMark=DM.F;switch(DM.dR){case 'page':case 'mark':H.upTarget={type:DM.dR,pageIndex:DM.ai};break;}if(H.pointLiesWithinImage===false&&DM.dR==='page'){DM.ai= -1;}};var Zx=function(bD,iQ,jb){var H=new IPCC.Web.UI.MouseEventArgs();var eS;var cc;var gn;if(bD){eS=PY(iQ,jb);if(eS!==false&&eS.ax&&eS.igElements&&eS.ax.hg()===true){bu=eS;H.pointLiesWithinImage=true;gn=LL(eS,iQ,jb);if(gn){cc=eS.ax.II(gn,false);H.imagePoint=cc;H.constrainedImagePoint=cc;}else{H.pointLiesWithinImage=false;}}else{H.pointLiesWithinImage=false;}H.domEvent=bD;H.windowPoint=new IPCC.Web.UI.Point(iQ,jb);aiw(bD,H);C.aH('mouseUp',H);}qV=undefined;var io;switch(cO){case IPCC.Web.UI.MouseTool.None:bD.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bD.preventDefault();if(bO){zN=undefined;AM=undefined;Vi=undefined;Ve=undefined;bO=false;dG=IPCC.aO.HandOpen;io=IPCC.aO.ek(dG);bx.style.cursor=io;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(bD){bD.preventDefault();}if(bO){var qX=new IPCC.Web.UI.TextSelectedEventArgs(),kJ=[],G,AA,CD;var jP;var GX=bu.ax.getSelectedText();var rA=oE.slice();if(GX.length>0){rA[dH]=bu.ax.getSelectedText();}else{if(dH>mE){dH--;bu=document.getElementById(bQ[dH].bU);if(rA[dH]){GX=rA[dH];}}else if(dH<mE){dH++;bu=document.getElementById(bQ[dH].bU);if(rA[dH]){GX=rA[dH];}}}qX.text=rA.join('');var So=true;if(dH>=mE){if(dH===mE){if(bu.ax.get_currentTextIndex()>=qG){So=false;}jP=jp+GX.length-1;}else{jP=GX.length-1;}if(jP<0){jP=0;}AA=mE;CD=dH;}else{So=false;jP=qG-1;AA=dH;CD=mE;}for(G=AA;G<=CD;G++){kJ.push(G);}if(qX.text.length===0){EO();kJ=[];}qX.pageNumbers=kJ;qX.clientX=iQ;qX.clientY=jb;if(jp!==undefined){if(cO===IPCC.Web.UI.MouseTool.SelectText){var atW=function(bq,CL){var HS=bq.ax.cT();var ho=HS.fI();var fn=ho.jY(CL);return fn.vj();};var ik=bu.ax.get_currentTextIndex();var Rm=atW(bu,ik);var fl=0,fc=0;if(So===false){fl=Rm.width;fc=Rm.height;}var Gq=bu.ax.transformPagePointToWindow(new IPCC.Web.UI.Point(Rm.x+fl,Rm.y+fc),true);var cJ=agE(bu,Gq.x,Gq.y);qX.handleClientX=cJ.x;qX.handleClientY=cJ.y;}var ayK=ab===undefined||ab===null;if(xf){qX.previousFirstMark=xf;qX.firstMark=ab.eI[AA];if(ab.su<AA||ab.su>CD){var Ie=document.getElementById(bQ[ab.su].bU);if(Ie.ax){Ie.ax.ln().removeMark(ab.yF);}}ab.yF.zH=false;C.Ae();if(tW!==null){cO=tW;}tW=null;}else if(ayK===true){if(cO===IPCC.Web.UI.MouseTool.SelectText){ab={ih:AA,uB:jp,iq:CD,jP:jP,rA:rA.slice(),eI:[]};for(G=0;G<kJ.length;G++){Ql(kJ[G]);}}else{C.Ae();}}else{if(ab.su<AA||ab.su>CD){var akA=document.getElementById(bQ[ab.su].bU);if(akA.ax){akA.ax.ln().removeMark(ab.yF);}}ab.yF.zH=false;ab.ih=AA;ab.uB=jp;ab.iq=CD;ab.jP=jP;ab.rA=rA.slice();if(tW!==null){cO=tW;}tW=null;}qX.mouseTool=cO;qX.startIndex=jp;C.aH('selectTextMouseToolCompleted',qX);if(xf){xf=null;ab=null;}}bO=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:bD.preventDefault();if(eS&&eS.ax){eS.ax.hideMagnifier();io=IPCC.aO.ek(IPCC.aO.Magnifier);bx.style.cursor=io;eS.ax.display();}bO=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:bD.preventDefault();if(bO&&gn){var GJ=0;var FF=0;var Vz=0;var SY=0;if(gn.x<zN){GJ=zN-gn;Vz=gn.x+GJ/2;}else{GJ=gn.x-zN;Vz=zN+GJ/2;}if(gn.y<AM){FF=AM-jb;SY=gn.y+FF/2;}else{FF=gn.y-AM;SY=AM+FF/2;}var acB=aW.clientWidth/GJ;var ace=aW.clientHeight/FF;var sn=acB;if(acB>ace){sn=ace;}if(eS&&eS.ax){eS.ax.re();eS.ax.display();}bO=false;if(GJ*2+FF*2>25){C.aoi(sn,Vz,SY,eS);}}break;}var BE=false;var Ce=false;if(bD){BE=bD.target.tagName&&bD.target.tagName.toLowerCase()==='textarea';Ce=bD.target.tagName&&bD.target.tagName.toLowerCase()==='input'&&bD.target.type&&bD.target.type.toLowerCase()==='text';}if(Ra&& !BE&& !Ce){aiv(bu);}else if(cO===IPCC.Web.UI.MouseTool.HandPan&&Pp&& !BE&& !Ce&&bD&&Pp.clientX===bD.clientX&&Pp.clientY===bD.clientY&&bD.shiftKey!==true&&bD.ctrlKey!==true){anx(bu.ax);}};var aED=function(){var io;switch(cO){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:dG=IPCC.aO.HandOpen;io=IPCC.aO.ek(dG);bx.style.cursor=io;bO=false;break;case IPCC.Web.UI.MouseTool.SelectText:EO();break;case IPCC.Web.UI.MouseTool.Magnifier:if(bu&&bu.ax){bu.ax.hideMagnifier();io=IPCC.aO.ek(IPCC.aO.Magnifier);bx.style.cursor=io;bu.ax.display();}bO=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(bu&&bu.ax){bu.ax.hideSelection();bu.ax.display();bO=false;}break;}};var aAz=function(){aED();};var azy=function(){if(cO===IPCC.Web.UI.MouseTool.Magnifier){if(bu&&bu.ax){bu.ax.hideMagnifier();var io=IPCC.aO.ek(IPCC.aO.Magnifier);bx.style.cursor=io;bu.ax.display();}bO=false;}else if(cO===IPCC.Web.UI.MouseTool.RectangleZoom){if(bu&&bu.ax){bu.ax.hideSelection();bu.ax.display();bO=false;}}else if(cO===IPCC.Web.UI.MouseTool.SelectText){EO();}};var mP=function(bD){if(bD.ctrlKey){switch(cO){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var Ox=bD.rawEvent.wheelDelta;bD.preventDefault();if(Ox<0){C.zoomOut(1.5);}else{C.zoomIn(1.5);}break;}}else{bD.preventDefault();aW.scrollTop-=bD.rawEvent.wheelDelta*0.72;}if(cO===IPCC.Web.UI.MouseTool.Magnifier){if(bu&&bu.ax){bu.ax.hideMagnifier();var io=IPCC.aO.ek(IPCC.aO.Magnifier);bx.style.cursor=io;bu.ax.display();}bO=false;}else if(cO===IPCC.Web.UI.MouseTool.RectangleZoom){if(bu&&bu.ax){bu.ax.hideSelection();bu.ax.display();bO=false;}}else if(cO===IPCC.Web.UI.MouseTool.SelectText){EO();}};var aDt=function(bi){var H=new IPCC.Web.UI.MouseEventArgs();H.upTarget={type:'comments',element:bi.target};H.downTarget={type:'comments',element:bi.target};H.originalEvent=bi.rawEvent;H.clientX=bi.clientX;H.clientY=bi.clientY;H.pageIndex=undefined;C.aH('mouseUp',H);};var EO=function(){if(bO===true){if(ab&&ab.su!==undefined){if(xf){Zx(null,0,0);return;}else{var Ie=document.getElementById(bQ[ab.su].bU);if(Ie.ax){Ie.ax.ln().removeMark(ab.yF);}ab.yF.zH=false;}}C.Ae();xf=null;bO=false;if(tW!==null){cO=tW;}tW=null;}};AC=fC({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(cX===IPCC.ViewMode.SinglePage){bx=fC({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});bx.className='pccPageListContainer pccSinglePageView';}else{bx=fC({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});bx.className='pccPageListContainer';}IPCC.Web.UI.aT.addHandler(bx,"mousedown",jK);IPCC.Web.UI.aT.addHandler(bx,"mouseup",it);IPCC.Web.UI.aT.addHandler(bx,"mousemove",kZ);IPCC.Web.UI.aT.addHandler(bx,"mouseleave",aAz);IPCC.Web.UI.aT.addHandler(bx,"mousewheel",mP);IPCC.Web.UI.aT.addHandler(bx,"DOMMouseScroll",azy);aW.onscroll=(! !IG)?awD:aax;bx.setAttribute('id',Rn+'_ListContainer');aW.setAttribute('id',Rn+'_ListWrapper');wg=Rn+'_ListWrapper';mY=fC();mY.className='pccPageListComments pccHidden';mY.setAttribute('id',Rn+'_CommentsPanel');var SV=[];if(IPCC.R.aCt){SV.push('touchend');}else{SV.push('click');}IPCC.R.forEach(SV,function(evName){IPCC.Web.UI.aT.addHandler(mY,evName,aDt);});AC.appendChild(bx);AC.appendChild(mY);aW.appendChild(AC);aC.appendChild(aW);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var av='',dc='',tI='',tp='',sr;var ym=function(){sr=getComputedStyle(aC);tI=sr.getPropertyValue('width');tp=sr.getPropertyValue('height');if(tI!==av||tp!==dc){av=tI;dc=tp;aW.style.width=av;aW.style.height=dc;}};setInterval(ym,1000);window.addEventListener('resize',ym);ym();C.ym=ym;}var aEu=IPCC.R.JO;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aEu&&window.addEventListener&&document.querySelector){avL(aW);}var aDl=function(bx,aIf){var mt;var UE=function(bi){var bE=bi.rawEvent,jd=bE.touches[0]||bE.changedTouches[0];bi.clientX=jd.clientX;bi.clientY=jd.clientY;bi.preventDefault=function(){bE.preventDefault();};bi.stopPropagation=function(){bE.stopPropagation();};return bi;};var FP=function(iP,bi){var H=new IPCC.Web.UI.MouseEventArgs(),FY=(iP==='touchstart')?'mouseDown':(iP==='touchend')?'mouseUp':null;var GM=(iP==='touchstart')?ahR:(iP==='touchmove')?ajF:(iP==='touchend')?Zx:null;mt=PY(bi.clientX,bi.clientY);if(iP==='doubleTap'){mt&&mt.ax&&mt.ax.Jy(iP,bi);}var jZ;jZ=Wn(bi);if(jZ){if(jZ.substring(0,5)==='texth'){bi.preventDefault();bi.stopPropagation();if(iP==='touchstart'){BN=bi;}GM&&GM(bi,bi.clientX,bi.clientY,0);return;}}switch(cO){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:mt&&mt.ax&&mt.ax.Jy(iP,bi);if(FY==='mouseUp'){aiw(bi,H);}else if(FY==='mouseDown'){aiG(bi,H);}C.aH(iP,H);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bi.preventDefault();bi.stopPropagation();if(iP==='touchstart'){BN=bi;if(jZ){C.Ae();break;}}GM&&GM(bi,bi.clientX,bi.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:bi.preventDefault();bi.stopPropagation();if(iP==='touchstart'){BN=bi;}GM&&GM(bi,bi.clientX,bi.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(jZ===undefined){jZ=Wn(bi);}var J=ND(bi,{});if(jZ&&BF){if(!J||J.F.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(iP==='touchstart'){aiu(bi,jZ,mt);}else if(iP==='touchmove'){mt&&mt.ax&&mt.ax.Jy(iP,bi);}else if(iP==='touchend'){mt&&mt.ax&&mt.ax.Jy(iP,bi);aiv(mt);}}}break;}};var EH,Cr,yx;var aDU=function(bi){if(bi.rawEvent.touches.length>1){clearTimeout(yx);yx=Cr=EH=undefined;return;}bi=UE(bi);EH=bi;if(cO===IPCC.Web.UI.MouseTool.CreatePolylineMark){bi.preventDefault();}Cr=function(){FP('touchstart',bi);yx=Cr=EH=undefined;};yx=setTimeout(function(){Cr();},200);};var KB,Gy;var aDK=function(bi){bi=UE(bi);uj=false;var ayZ=function(){if(!Gy){return false;}var fv=Gy.clientX-bi.clientX;var ep=Gy.clientY-bi.clientY;var hU=fv*fv+ep*ep;return hU<2500;};var amw=function(){KB=Gy=undefined;var jZ=Wn(bi);if(!jZ&&cO===IPCC.Web.UI.MouseTool.HandPan&&BF&&mt){anx(mt.ax);}};var aqa=function(){var ahq=Cr;if(KB&&ayZ()){clearTimeout(KB);Gy=KB=undefined;ahq();FP('touchend',bi);FP('doubleTap',bi);}else{KB=setTimeout(function(){ahq();FP('touchend',bi);amw();},300);Gy=bi;}};if(EH&&yx){clearTimeout(yx);if(cO===IPCC.Web.UI.MouseTool.CreatePolylineMark){aqa();}else{amw();}yx=Cr=EH=undefined;return;}FP('touchend',bi);};var ajW,uj=false;var aDN=function(bi){if(bi.rawEvent.touches.length>1){return;}ajW=bi;if(EH&&yx){clearTimeout(yx);Cr();}awS();};function awS(){var bi=UE(ajW);FP('touchmove',bi);};IPCC.Web.UI.aT.addHandler(bx,"touchstart",aDU);IPCC.Web.UI.aT.addHandler(bx,"touchmove",aDN);IPCC.Web.UI.aT.addHandler(bx,"touchend",aDK);};aDl(bx,mY);}};function avL(hK){var aiX=function(){},bX=1;function XU(aey,afL,jC,aza){hK.style['-ms-transform']=aey;hK.style['-moz-transform']=aey;hK.style['-webkit-transform']=afL;hK.style['transform']=afL;hK.style['-ms-transform-origin']=jC;hK.style['-moz-transform-origin']=jC;hK.style['-webkit-transform-origin']=jC;hK.style['transform-origin']=jC;hK.style.overflow=aza||'';};XU('initial','initial','0% 0%','auto');function avx(sn,lm,Rh,wc){var fl=(-lm.x/sn)-Rh.x,fc=(-lm.y/sn)-Rh.y,azv="scale3d("+sn+","+sn+",1) translate3d("+fl+"px,"+fc+"px,0px)",aAm="scale("+sn+", "+sn+") translate("+fl+"px,"+fc+"px)";XU(aAm,azv,'center center','visible');aiX=function(){var aD=hK.getBoundingClientRect();var Vw={x:(hK.clientWidth/2+ -aD.left+wc.left)/sn,y:(hK.clientHeight/2+ -aD.top+wc.top)/sn};if(wc.amJ){Vw.x=Vw.x-(wc.amJ/2);}XU('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');C.Pl(sn,Vw,undefined,IPCC.ScaleTrigger.Pinch);};return hK;};function adV(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function aeF(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function avq(ajj,Me){return{x:ajj.x-Me.x,y:ajj.y-Me.y};};var Vq=false;hK.addEventListener('touchstart',function(ev){if(!Vq&&ev.touches.length===2){acI(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var CF,aal=false,Bj={};PCCViewer.EventEmitter.extend(Bj);hK.addEventListener(IPCC.R.qS['down'],function(bi){aal=true;bi=standardizeMSTouch(bi);if(CF){var bE={};bE.touches=[CF,bi];bE.changedTouches=[CF,bi];bE.preventDefault=function(){CF.rawEvent.preventDefault();bi.rawEvent.preventDefault();};bE.stopPropagation=function(){CF.rawEvent.stopPropagation();bi.rawEvent.stopPropagation();};acI(bE);}else{CF=bi;}});hK.addEventListener(IPCC.R.qS['move'],function(bi){Bj.trigger('touchmove',{rawEvent:bi});});hK.addEventListener(IPCC.R.qS['up'],function(bi){Bj.trigger('touchend',{rawEvent:bi});CF=undefined;});function acI(ev){var Rh={x:hK.scrollLeft,y:hK.scrollTop};var wc=hK.getBoundingClientRect();var qi=aaj();var aky=hK.querySelector('.pccPageListItem');if(aky.clientWidth<wc.width-30){wc.amJ=wc.width-aky.clientWidth;}var lm={x:0,y:0,set:function(aki){this.x=aki.x;this.y=aki.y;return this;}};var uj=false;Vq=true;ev.preventDefault();ev.stopPropagation();function QB(jd){jd.x=jd.clientX||jd.pageX||jd.screenX;jd.y=jd.clientY||jd.pageY||jd.screenY;return jd;};var rn=QB(ev.touches[0]);var AO=QB(ev.touches[1]);var tg=adV(rn.x,rn.y,AO.x,AO.y);var aCX=aeF(rn.x,rn.y,AO.x,AO.y);var GC,Es;function YX(bi){bi.preventDefault();[].forEach.call(bi.changedTouches,function(t){if(t.identifier===rn.identifier){GC=QB(t);}else if(t.identifier===AO.identifier){Es=QB(t);}});if(!GC|| !Es){return;}var aEJ=adV(GC.x,GC.y,Es.x,Es.y);var aEb=aeF(GC.x,GC.y,Es.x,Es.y);bX=aEJ/tg;if((cq*bX)<qi.minFactor){bX=qi.minFactor/cq;}else if((cq*bX)>qi.maxFactor){bX=qi.maxFactor/cq;}lm.set(avq(aCX,aEb));if(!uj){uj=true;HY();}};function Zy(){Vq=false;uj=false;hK.removeEventListener('touchmove',YX);hK.removeEventListener('touchend',Zy);if(aal){Bj.off('touchmove',akP);Bj.off('touchend',akG);}IG(aiX);};var akP=function(bi){var ahL=standardizeMSTouch(bi.rawEvent);ahL.preventDefault=function(){};YX(ahL);};var akG=function(bi){Zy(standardizeMSTouch(bi.rawEvent));};hK.addEventListener('touchmove',YX);hK.addEventListener('touchend',Zy);if(aal){Bj.on('touchmove',akP);Bj.on('touchend',akG);}function HY(){if(uj){IG(function(){avx(bX,lm,Rh,wc);HY();});}}}};function awD(){if(cX===IPCC.ViewMode.SinglePage){return;}if(nc){clearTimeout(nc);}if(WK){ayc(WK);}ayL();nc=setTimeout(function(){nc=null;WK=IG(function aHj(){mV(true);});},40);};function aax(){if(hT===false||cX===IPCC.ViewMode.SinglePage){return;}xC(true);if(nc!==null){clearTimeout(nc);}var axZ=aW.scrollHeight/bQ.length;var MY=0;if(eU===IPCC.PageLayout.VerticalScrollDirection){MY=aW.scrollTop;}else{MY=aW.scrollLeft;}var aDj=MY-OC;OC=MY;var aso=new Date().getTime();var ZG=aso-yM;if(ZG>1000){ZG=1000;}qh=aDj/axZ*1000/ZG;nc=setTimeout(function(){nc=null;yM=0;yM=new Date().getTime();mV(true);},1000);yM=new Date().getTime();if(qh!==0&&Math.abs(qh)<Ge){if(Fa&&nc!==null){clearTimeout(nc);nc=null;}yM=0;yM=new Date().getTime();setTimeout(function(){if(Fa&&nc!==null){clearTimeout(nc);nc=null;}yM=0;yM=new Date().getTime();mV(Fa);},40);}};function XT(dn){var bB=0;var aim=false;var Pb;var OJ;for(bB=0;bB<dn.childNodes.length;bB++){if(dn.childNodes[bB].className==="pccPageListItemLoading"){aim=true;}}if(aim===false){OJ=document.createElement('div');OJ.className='pccPageListItemLoading';dn.innerHTML="";dn.appendChild(OJ);if(JU.length>0){Pb=document.createElement('div');Pb.className='pccPageListItemLoadingContent';Pb.innerHTML=JU;OJ.appendChild(Pb);}}};function acz(G,dn,MI,Nt){if(document.documentMode!==8){if(G<MI||G>Nt){if(dn.style.visibility!=='hidden'){dn.style.visibility='hidden';}}else{if(dn.style.visibility!=='visible'){dn.style.visibility='visible';}if(!dn.firstChild){XT(dn);}}}};function ayL(){var G,ds,dn;var sD,rS;var lx,om,pf,yW;if(aW===''||aW.clientHeight<=0){return;}sD=aW.scrollTop;rS=aW.scrollLeft;var Ka=aW.clientHeight;var IK=aW.clientWidth;var qK=0;if(eU===IPCC.PageLayout.VerticalScrollDirection){var adZ=aW.scrollHeight;qK=adZ*sD/(adZ-Ka);}else{var aer=aW.scrollWidth;qK=aer*rS/(aer-IK);}var MI=eB;var Nt=ia;eB= -1;pY= -1;ia= -1;for(G=0;G<bQ.length;G++){ds=bQ[G];if(ds&&ds.bU){dn=document.getElementById(ds.bU);if(eU===IPCC.PageLayout.VerticalScrollDirection){lx=dn.offsetTop;om=dn.offsetLeft;pf=lx+dn.offsetHeight;yW=om+dn.offsetWidth;}else{lx=dn.offsetLeft;om=dn.offsetTop;pf=lx+dn.offsetWidth;yW=om+dn.offsetHeight;}var axK=(G===0&&qK<lx);if((qK>=lx||axK)&&(qK<=pf||(G===bQ.length-1&&qK>pf))){if(xu===false&&bW!==G){bW=G;var H=new IPCC.PageEventArgs();H.imGearPage=C.get_currentPage();H.pageIndex=bW;C.aH('currentPageChanged',H);}}var rF=0;var Cn=0;if(eU===IPCC.PageLayout.VerticalScrollDirection){rF=sD;Cn=Ka;}else{rF=rS;Cn=IK;}if(pf>=rF-10&&(G<eB||eB=== -1)){eB=G;MI=eB;}if(lx>=rF-10&&(G<pY||pY=== -1)){pY=G;}if(lx<=rF+Cn){if(eB!== -1){ia=G;Nt=ia;}}acz(G,dn,MI,Nt);}if(pY=== -1){pY=bW;}if(eB=== -1){eB=bW;}}};function xC(aop){if(cX===IPCC.ViewMode.SinglePage){return;}var dn;var sD,rS;var lx,om,pf,yW;if(aW===''||aW.clientHeight<=0){return;}sD=aW.scrollTop;rS=aW.scrollLeft;var Ka=aW.clientHeight;var IK=aW.clientWidth;var agD=aW.scrollWidth;var agz=aW.scrollHeight;var qK=0;if(eU===IPCC.PageLayout.VerticalScrollDirection){qK=agz*sD/(agz-Ka);}else{qK=agD*rS/(agD-IK);}eB= -1;pY= -1;ia= -1;IPCC.R.forEach(bQ,function(ds,G){if(ds&&ds.bU){dn=document.getElementById(ds.bU);if(eU===IPCC.PageLayout.VerticalScrollDirection){lx=dn.offsetTop;om=dn.offsetLeft;pf=lx+dn.offsetHeight;yW=om+dn.offsetWidth;}else{lx=dn.offsetLeft;om=dn.offsetTop;pf=lx+dn.offsetWidth;yW=om+dn.offsetHeight;}if(qK>=lx&&(qK<=pf||(G===bQ.length-1&&qK>pf))){if(xu===false&&bW!==G&&aop===true){bW=G;var H=new IPCC.PageEventArgs();H.imGearPage=C.get_currentPage();H.pageIndex=bW;H.pageNodeID=ds.bU;C.aH('currentPageChanged',H);}}var rF=0;var Cn=0;if(eU===IPCC.PageLayout.VerticalScrollDirection){rF=sD;Cn=Ka;}else{rF=rS;Cn=IK;}if(pf>=rF-10&&eB=== -1){eB=G;}if(lx>=rF-10&&pY=== -1){pY=G;}var akN=false;if(lx<=rF+Cn){if(eB!== -1){ia=G;if(eB!== -1&&ds.gA===false&&(dn.ax===undefined||dn.ax===null||dn.ax.hg()===false)&&ds.ud===false){XT(dn);akN=true;}}}if(eB!== -1){acz(G,dn,eB,ia);}if(akN===false){for(var bB=0;bB<dn.childNodes.length;bB++){if(dn.childNodes[bB].className==="pccPageListItemLoading"){dn.removeChild(dn.childNodes[bB]);}}}}});if(pY=== -1){pY=bW;}if(eB=== -1){eB=bW;}xu=false;}};IPCC.PageList.prototype={dispose:function(){this.bp('dispose',arguments);this.Kv(false);this.arZ();},get_debug:function(){try{var bA=this.sH();this.bz('get_debug',arguments,bA);return bA;}catch(e){this.h('get_debug',e);throw e;}},set_debug:function(value){try{this.bp('set_debug',arguments);var ny=this.sH();this.BH(value);if(!ny){this.bp('set_debug',arguments);}}catch(e){this.h('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bA=this.ox();this.bz('get_debugErrorLevel',arguments,bA);return bA;}catch(e){this.h('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bp('set_debugErrorLevel',arguments);var ny=this.ox();this.uJ(value);if(ny<IPCC.Web.UI.DebugErrorLevel.Development){this.bp('set_debugErrorLevel',arguments);}}catch(e){this.h('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.zr(handler);}catch(e){this.h('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.GF(handler);}catch(e){this.h('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.zx(handler);}catch(e){this.h('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Fm(handler);}catch(e){this.h('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.zm(handler);}catch(e){this.h('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Gg(handler);}catch(e){this.h('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.WN(handler);}catch(e){this.h('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Vj(handler);}catch(e){this.h('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.ayd(handler);}catch(e){this.h('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.azE(handler);}catch(e){this.h('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.wm(handler);}catch(e){this.h('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.xe(handler);}catch(e){this.h('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.XR(handler);}catch(e){this.h('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.ahr(handler);}catch(e){this.h('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.za(handler);},remove_textExtractionFailed:function(handler){this.Gv(handler);},add_allPagesAdded:function(handler){try{this.ayG(handler);}catch(e){this.h('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.aAp(handler);}catch(e){this.h('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.LW(handler);}catch(e){this.h('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.KQ(handler);}catch(e){this.h('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.LE(handler);}catch(e){this.h('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.LM(handler);}catch(e){this.h('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Ax(handler);}catch(e){this.h('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.AK(handler);}catch(e){this.h('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Mo(handler);}catch(e){this.h('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Lb(handler);}catch(e){this.h('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.ij(handler);}catch(e){this.h('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mr(handler);}catch(e){this.h('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.yH(handler);}catch(e){this.h('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.xP(handler);}catch(e){this.h('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.XL(handler);}catch(e){this.h('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.SA(handler);}catch(e){this.h('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Ez(handler);}catch(e){this.h('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.ER(handler);}catch(e){this.h('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.Eu(handler);}catch(e){this.h('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Gz(handler);}catch(e){this.h('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.CY(handler);}catch(e){this.h('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Gm(handler);}catch(e){this.h('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.Ln(handler);}catch(e){this.h('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.LC(handler);}catch(e){this.h('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.AF(handler);}catch(e){this.h('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.xS(handler);}catch(e){this.h('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.ayl(handler);}catch(e){this.h('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.aAT(handler);}catch(e){this.h('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.xw(handler);}catch(e){this.h('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.Fl(handler);}catch(e){this.h('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.xv(handler);}catch(e){this.h('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.Fk(handler);}catch(e){this.h('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.wV(handler);}catch(e){this.h('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.wK(handler);}catch(e){this.h('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.WC(handler);}catch(e){this.h('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.UY(handler);}catch(e){this.h('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.Wi(handler);},remove_exceptionThrown:function(handler){this.TO(handler);},writeToLog:function(message){try{this.hY(message);}catch(e){this.h('writeToLog',e);throw e;}},get_currentState:function(){try{var bA=this.xI();this.bz('get_currentState',arguments,bA);return bA;}catch(e){this.h('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var bA=this.uh();this.bz('get_scaleFactor',arguments,bA);return bA;}catch(e){this.h('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.bp('set_scaleFactor',arguments);this.asg(scaleFactor);}catch(e){this.h('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.bp('zoomIn',arguments);this.Pl(factor);}catch(e){this.h('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bp('zoomOut',arguments);this.aaR(factor);}catch(e){this.h('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.atO();},displayAll:function(){try{this.bp('displayAll',arguments,1);this.arB();}catch(e){this.h('displayAll',e);throw e;}},display:function(pageIndex){try{this.bp('display',arguments);this.cg(pageIndex);}catch(e){this.h('display',e);throw e;}},get_textRequired:function(){try{var bA=this.hW();this.bz('get_textRequired',arguments,bA);return bA;}catch(e){this.h('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.bp('set_textRequired',arguments);this.xF(value);}catch(e){this.h('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.bp('selectText',arguments,1);this.VC(pageIndex,startIndex,endIndex,color);}catch(e){this.h('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.bp('clearSelectedText',arguments,1);this.aru(pageIndex);}catch(e){this.h('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.bp('clearAllSelectedText',arguments);this.axm();}catch(e){this.h('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var bA=this.aut();this.bz('get_maxPrefetch',arguments,bA);return bA;}catch(e){this.h('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.bp('set_maxPrefetch',arguments);this.aqx(value);}catch(e){this.h('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var bA=this.aui();this.bz('get_displayPagesWhenScrolling',arguments,bA);return bA;}catch(e){this.h('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.bp('set_displayPagesWhenScrolling',arguments);this.apd(value);}catch(e){this.h('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var bA=this.aul();this.bz('get_maxOutOfViewDisplay',arguments,bA);return bA;}catch(e){this.h('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.bp('set_maxOutOfViewDisplay',arguments);this.arm(value);}catch(e){this.h('set_maxOutOfViewDisplay',e);throw e;}},get_scrollDisplayThreshold:function(){try{var bA=this.auf();this.bz('get_scrollDisplayThreshold',arguments,bA);return bA;}catch(e){this.h('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.bp('set_scrollDisplayThreshold',arguments);this.apZ(value);}catch(e){this.h('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var bA=this.ahT();this.bz('get_mouseCursor',arguments,bA);return bA;}catch(e){this.h('ahT',e);throw e;}},set_mouseCursor:function(value){try{this.bp('set_mouseCursor',arguments);this.apK(value);}catch(e){this.h('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var bA=this.XN();this.bz('get_mouseTool',arguments,bA);return bA;}catch(e){this.h('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bp('set_mouseTool',arguments);this.Kl(value);}catch(e){this.h('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var bA=this.zE();this.bp('get_markHandleMode',arguments);return bA;}catch(e){this.h('get_markHandleMode',e);throw e;}},set_markHandleMode:function(L){try{this.bp('set_markHandleMode',arguments);this.Ih(L);}catch(e){this.h('set_markHandleMode',e);throw e;}},get_allowMarkEdits:function(){try{var bA=this.atK();this.bp('get_allowMarkEdits',arguments);return bA;}catch(e){this.h('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.bp('set_allowMarkEdits',arguments);this.aEG(! !bool);}catch(e){this.h('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var bA=this.aoG();this.bz('get_currentPage',arguments,bA);return bA;}catch(e){this.h('get_currentPage',e);throw e;}},scrollToNextPage:function(){try{this.bp('scrollToNextPage',arguments);this.aDe();}catch(e){this.h('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.bp('scrollToPreviousPage',arguments);this.aCB();}catch(e){this.h('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.bp('scrollToFirstPage',arguments);this.aGv();}catch(e){this.h('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.bp('scrollToLastPage',arguments);this.aEM();}catch(e){this.h('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.bp('scrollToPage',arguments,1);this.wk(pageIndex);}catch(e){this.h('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.bp('rotate',arguments,1);this.aBU(degreesClockwise);}catch(e){this.h('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.bp('rotateAll',arguments,1);this.agO(degreesClockwise,true);}catch(e){this.h('rotateAll',e);throw e;}},get_enabled:function(){try{var bA=this.Pe();this.bz('get_enabled',arguments,bA);return bA;}catch(e){this.h('get_enabled',e);throw e;}},get_pageLayout:function(){try{var bA=this.atF();this.bz('get_pageLayout',arguments,bA);return bA;}catch(e){this.h('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.bp('set_pageLayout',arguments);this.aqW(value);}catch(e){this.h('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var bA=this.atY();this.bz('get_viewMode',arguments,bA);return bA;}catch(e){this.h('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.bp('set_viewMode',arguments);this.NI(value);}catch(e){this.h('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var bA=this.atx();this.bz('get_loadingContent',arguments,bA);return bA;}catch(e){this.h('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.bp('set_loadingContent',arguments);this.aom(value);}catch(e){this.h('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.bp('fitPages',arguments,1);this.atM(fitType);}catch(e){this.h('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.bp('openPage',arguments,1);this.DA(pageIndex);}catch(e){this.h('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.bp('requestPageAttributes',arguments,1);this.Po(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.h('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.bp('scrollRegionIntoView',arguments,1);return this.aDZ(pageIndex,rectangle);}catch(e){this.h('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.bp('scrollBy',arguments,1);return this.aDR(xVal,yVal);}catch(e){this.h('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.bp('scrollConversationIntoView',arguments,1);return this.aEs(conversation);}catch(e){this.h('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.XZ();},get_encryption:function(){try{var bA=this.ed();this.bz('get_encryption',arguments,bA);return bA;}catch(e){this.h('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bp('set_encryption',arguments);this.hS(value);}catch(e){this.h('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var bA=this.auI();return bA;}catch(e){this.h('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aEx(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.h('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var bA=this.pd();this.bz('get_resourcePath',arguments,bA);return bA;}catch(e){this.h('get_resourcePath',e);throw e;}},set_resourcePath:function(L){try{this.bp('set_resourcePath',arguments);this.uE(L);}catch(e){this.h('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var bA=this.lO();this.bz('get_redactionDraftMode',arguments,bA);return bA;}catch(e){this.h('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.bp('set_redactionDraftMode',arguments);this.rd(value);}catch(e){this.h('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var bA=this.auT();this.bz('get_displayedPages',arguments,bA);return bA;}catch(e){this.h('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var bA=this.oJ();this.bz('get_requireRequestsOptimize',arguments,bA);return bA;}catch(e){this.h('oJ',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bp('set_requireRequestsOptimize',arguments);this.rC(value);}catch(e){this.h('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var bA=this.iR();this.bz('get_serviceResponseTimeout',arguments,bA);return bA;}catch(e){this.h('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bp('set_serviceResponseTimeout',arguments);this.sh(value);}catch(e){this.h('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var bA=this.atC();this.bz('get_pageRotation',arguments,bA);return bA;}catch(e){this.h('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.bp('set_pageRotation',arguments);this.aqf(value);}catch(e){this.h('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.bp('getNodeID',arguments,1);return this.auk(pageIndex);}catch(e){this.h('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var bA=this.atm();this.bz('get_isCommentsPanelOpen',arguments,bA);return bA;}catch(e){this.h('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.bp('openCommentsPanel',arguments);this.aAR();}catch(e){this.h('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.bp('closeCommentsPanel',arguments);this.asz();}catch(e){this.h('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var bA=this.atH();this.bz('get_conversationDOMFactory',arguments,bA);return bA;}catch(e){this.h('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.bp('set_conversationDOMFactory',arguments);this.aEz(value);}catch(e){this.h('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var bA=this.auX();this.bz('get_selectedConversation',arguments,bA);return bA;}catch(e){this.h('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.bp('set_selectedConversation',arguments);this.are(value);}catch(e){this.h('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.bp('refreshConversations',arguments);this.azl(markIDs);}catch(e){this.h('refreshConversations',e);throw e;}}};IPCC.PageList.registerClass=IPCC.Web.regClass;IPCC.PageList.registerClass('IPCC.PageList',IPCC.Sys.UI.Control);IPCC.ds=function(au){this.by=undefined;this.aR=0;this.bF=0;this.hB=72;this.fK=72;var al=new IPCC.Web.UI.gj();this.bU=undefined;this.yG=undefined;this.Ah=undefined;this.gA=false;this.bG=undefined;this.eT=undefined;this.BM=false;this.Gn=0;this.arQ=undefined;this.iT=false;this.gE=false;this.ud=false;this.gR=0;this.KN=0;this.EK=false;if(arguments.length>0){if(au.page!==undefined){this.by=au.page;}}this.bS=function(dK){var T=al.getHandler('propertyChanged');if(T){T(this,new IPCC.pQ(dK));}};return this;};IPCC.ds.prototype.le=function(){if(this.by){return this.by.lN()||this.aR;}return this.aR;};IPCC.ds.prototype.pF=function(){if(this.by){return this.by.mN()||this.bF;}return this.bF;};IPCC.ds.prototype.Rf=function(bool){bool= ! !bool;if(this.by){this.by.EK=bool;}this.EK=bool;};IPCC.ds.prototype.ahN=function(){if(this.by){return this.by.EK||this.EK;}return this.EK;};IPCC.fo=function(){this.dq=undefined;return this;};var PCCViewer=PCCViewer||{};(function(PCCViewer){PCCViewer.Error=function(code,message){var aiF=Error.call(null,message);this.code=code;function awb(dR,hs){Object.getOwnPropertyNames(hs).forEach(function(propName){Object.defineProperty(dR,propName,Object.getOwnPropertyDescriptor(hs,propName));});return dR;};function avp(dR,hs){for(var i in hs){if(hs.hasOwnProperty(i)){dR[i]=hs[i];}}return dR;};if(typeof Object.create==='function'){awb(this,aiF);}else{avp(this,aiF);}};var aCW=(function(){var dX=function(){};return function(adR){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof adR!=='object'){throw TypeError('Argument must be an object');}dX.prototype=adR;var ap=new dX();dX.prototype=null;return ap;};})();if(typeof Object.create==='function'){PCCViewer.Error.prototype=Object.create(Error.prototype);}else{PCCViewer.Error.prototype=aCW(Error.prototype);}PCCViewer.Error.prototype.constructor=PCCViewer.Error;})(PCCViewer||{});var PCCViewer=PCCViewer||{};PCCViewer.Language=(function(){var aBK=function(languageData){this.data=languageData;return this;};var atZ=function(){return this.data;};var atu=function(key){if(typeof this.data==='undefined'){throw new Error('Language data is not set.');}var sV=key.split('.'),ah=this.data,aq;while(sV.length){aq=sV.shift();ah=ah[aq];if(typeof ah==='undefined'){ah=key;break;}}return ah;};return{data:{},initializeData:aBK,getData:atZ,getValue:atu};})();var PCCViewer=window.PCCViewer||{};(function(){"use strict";function Event(target,type){this.dR=target;this.bP=type;};PCCViewer.Event=Event;PCCViewer.Event.prototype.getTarget=function(){return this.dR;};PCCViewer.Event.prototype.getType=function(){return this.bP;};if(Object.defineProperties){Object.defineProperties(PCCViewer.Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}PCCViewer.EventEmitter=(function(){function on(eventType,handler){if(!this.lo){this.lo={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.lo[lowerCaseEventType];if(!handlers){handlers=this.lo[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.lo){this.lo={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.lo[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.lo){this.lo={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.lo[lowerCaseEventType],i,length=0;if(properties){PCCViewer.BK.ur(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();})();var PCCViewer=PCCViewer||{};(function(){'use strict';function PromiseDeferred(){this.eK=PromiseDeferred.States.Pending;this.L=null;this.fz=null;this.Sa=[];this.Sl=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var Bq=new PromiseDeferred();if(onFulfilled&&typeof onFulfilled==='function'){var aAt=function(L){try{var bA=onFulfilled(L);Bq.resolve(bA);}catch(e){Bq.reject(e);}};this.Sa.push(aAt);}else{var azV=function(L){Bq.resolve(L);};this.Sa.push(azV);}if(onRejected&&typeof onRejected==='function'){var azf=function(fz){try{var bA=onRejected(fz);Wr(Bq,bA);}catch(e){Bq.reject(e);}};this.Sl.push(azf);}else{var azH=function(fz){Bq.reject(fz);};this.Sl.push(azH);}if(this.eK===PromiseDeferred.States.Fulfilled){this.acn();}if(this.eK===PromiseDeferred.States.Rejected){this.acv();}return Bq;};PromiseDeferred.prototype.resolve=function(x){if(!this.aca()){return;}Wr(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.aca()){return;}this.CA(reason);};PromiseDeferred.prototype.Zc=function(aF){this.eK=PromiseDeferred.States.Fulfilled;this.L=aF;this.acn();};PromiseDeferred.prototype.acn=function(){var callback;while(this.Sa.length>0){callback=this.Sa.shift();(function(nJ,L){setTimeout(function(){nJ(L);},0);})(callback,this.L);}};PromiseDeferred.prototype.acv=function(){var callback;while(this.Sl.length>0){callback=this.Sl.shift();(function(nJ,L){setTimeout(function(){nJ(L);},0);})(callback,this.fz);}};function Wr(dQ,aF){if(dQ===aF){dQ.CA(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aF&&aF.acC&&dQ.afB&&dQ.afB===aF){dQ.CA(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aF&&aF.acC&&aF.acC==="PCCViewer.Promise"){aF.then(function(anG){dQ.Zc(anG);},function(apt){dQ.CA(apt);});}else if(aF!==null&&(typeof aF==='object'||typeof aF==='function')){var abj;try{abj=aF.then;}catch(e){dQ.CA(e);return;}if(typeof abj==='function'){var IS=true;var anQ=function(ey){if(IS){Wr(dQ,ey);IS=false;}};var anT=function(bA){if(IS){dQ.CA(bA);IS=false;}};try{abj.call(aF,anQ,anT);}catch(e){if(IS){dQ.CA(e);}}}else{dQ.Zc(aF);}}else{dQ.Zc(aF);}};PromiseDeferred.prototype.CA=function(reason){this.eK=PromiseDeferred.States.Rejected;this.fz=reason;this.acv();};PromiseDeferred.prototype.aca=function(){return this.eK===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};PCCViewer.Deferred=function(){var VZ=new PromiseDeferred();function Promise(dQ){this.then=function(onFulfilled,onRejected){return new Promise(dQ.then(onFulfilled,onRejected));};this.acC="PCCViewer.Promise";dQ.afB=this;};var promise=new Promise(VZ);return{getPromise:function(){return promise;},resolve:function(value){VZ.resolve(value);},reject:function(reason){VZ.reject(reason);}};};PCCViewer.Promise={all:function(promises){var i,aZ=new PCCViewer.Deferred(),Wl=aZ.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var aZ=new PCCViewer.Deferred();aZ.resolve(value);return aZ.getPromise();};aZ.resolve([]);for(i=0;i<promises.length;i++){Wl=Wl.then(createPushFunction(promises[i]));}return Wl;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=PCCViewer.Deferred;}})();(function(PCCViewer){"use strict";PCCViewer.AjaxResponse=function(ao){if(ao instanceof PCCViewer.AjaxResponse){return ao;}else if(!(this instanceof PCCViewer.AjaxResponse)){return new PCCViewer.AjaxResponse(ao);}this.sX=new IPCC.R.sX(ao);this.status=this.sX.status;this.statusText=this.sX.statusText;this.responseText=this.sX.responseText;if(typeof this.sX.responseBody!=='undefined'){this.responseBody=this.sX.responseBody;}return this;};PCCViewer.AjaxResponse.prototype.getResponseHeader=function(XI){return this.sX.getResponseHeader(XI);};PCCViewer.Ajax=(function(){function avM(){return IPCC.R.extend({},IPCC.R.mB.iL);};function ayN(iL){if(!(typeof iL==='undefined'||(typeof iL==='object'&&iL!==null&& !(iL instanceof Array)))){throw new Error('Headers should be an object or undefined.');}IPCC.R.mB.iL=IPCC.R.extend({},iL);return PCCViewer.Ajax;};function awE(){return IPCC.R.mB.NQ;};function axV(jv){if(typeof jv!=='undefined'&&typeof jv!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.R.mB.NQ=jv;return PCCViewer.Ajax;};function es(aa){var aZ=PCCViewer.Deferred();if(!(typeof aa==='undefined'||(typeof aa==='object'&&aa!==null&& !(aa instanceof Array)))){throw new Error('Options should be an object or undefined.');}function fe(ao){if(!(ao instanceof PCCViewer.AjaxResponse)){ao=new PCCViewer.AjaxResponse(ao);}aZ.resolve(ao);};function fg(ap){if(ap.response){ap.response=new PCCViewer.AjaxResponse(ap.response);}aZ.reject(ap);};IPCC.R.mB.es(aa).then(fe,fg);return aZ.getPromise();};return{getHeaders:avM,setHeaders:ayN,getOverrideMethod:awE,setOverrideMethod:axV,es:es,};})();if(Object.defineProperties){Object.defineProperties(PCCViewer.Ajax,{"headers":{enumerable:true,get:function(){return PCCViewer.Ajax.getHeaders();},set:function(iL){return PCCViewer.Ajax.setHeaders(iL);}},"overrideMethod":{enumerable:true,get:function(){return PCCViewer.Ajax.getOverrideMethod();},set:function(jv){return PCCViewer.Ajax.setOverrideMethod(jv);}}});}})(window.PCCViewer||{});(function(PCCViewer){function aeN(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function awk(aBd){var bQ=[];var ajS=function(n){return!(isNaN(+n));};var alr=aBd.split(',');var Qi,Ss;var TP=0;var RU=0;for(var G=0;G<alr.length;G++){var Jk=alr[G].split('-');var DZ=Jk[0].replace(/\s+/g,'');if(DZ.length===0){continue;}var Ib=DZ;if(Jk[1]!==undefined&&Jk[1]!==""){Ib=Jk[1].replace(/\s+/g,'');}DZ= +(DZ);Ib= +(Ib);if(ajS(DZ)===true){TP=parseInt(DZ);}if(ajS(Ib)===true){RU=parseInt(Ib);}if(TP<RU){Qi=TP;Ss=RU;}else{Qi=RU;Ss=TP;}if(Jk.length>1){for(var bC=Qi;bC<=Ss;bC++){bQ.push(bC);}}else{bQ.push(Qi);}}bQ.sort(function(a,b){return a-b;});for(G=bQ.length-1;G>0;G--){if(bQ[G-1]===bQ[G]){bQ.splice(G,1);}}return bQ;};var alternateObjectURL=function(blob,str){blob.data=str;var type=blob.type,data_URI_header;if(type===null){type="application/octet-stream";}data_URI_header="data:"+type;if(blob.encoding==="base64"){return data_URI_header+";base64,"+blob.data;}else if(blob.encoding==="URI"){return data_URI_header+","+decodeURIComponent(blob.data);}if(btoa){return data_URI_header+";base64,"+btoa(blob.data);}else{return data_URI_header+","+encodeURIComponent(blob.data);}};PCCViewer.Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else if(window.URL&&window.URL.createObjectURL){var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}else{var objectURL=alternateObjectURL(blob,stringValue);window.open(objectURL);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var hv;if(!(selections instanceof Array)){hv=[selections];}else{hv=selections;}IPCC.R.forEach(hv,function(di){IPCC.aV.ov(di.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.aV.ov(di.length,'selection.length',1,Number.MAX_VALUE);IPCC.aV.fr(di.color,'selection.color');IPCC.aV.ov(di.opacity,'selection.opacity',0,255);});IPCC.aV.fr(backgroundColor,'backgroundColor');var aqI=IPCC.R.amW(hv);return IPCC.R.map(aqI,function(bn){bn.length=bn.endIndex-bn.startIndex+1;return bn;});},layerColors:function(colors,backgroundColor){var NC;if(!(colors instanceof Array)){NC=[colors];}else{NC=colors;}IPCC.R.forEach(NC,function(di){IPCC.aV.fr(di.color,'selection.color');IPCC.aV.ov(di.opacity,'selection.opacity',0,255);});IPCC.aV.fr(backgroundColor,'backgroundColor');return IPCC.R.akK(NC,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw aeN('Illegal page range value',pageRange);}var cI=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){cI.unshift(upperLimit--);}}else{cI=awk(pageRange);if((cI.length===0&& !allowEmpty)||cI[0]<lowerLimit||cI[cI.length-1]>upperLimit){throw aeN('Pages are out of range',cI.join(', '));}}return cI;}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.ObservableCollection=function(){var AY=[];var pK={};PCCViewer.EventEmitter.extend(pK);pK.QI=function(FY,dN){var C=this;return setTimeout(function(){C.trigger(FY,dN);},0);};this.add=function(item){AY.push(item);pK.QI(this.EventType.ItemAdded,{item:item,count:AY.length});return this;};this.remove=function(item){var C=this;this.forEach(function(e,idx){if(e===item){AY.splice(idx,1);pK.QI(C.EventType.ItemRemoved,{item:item,count:AY.length});}});return this;};this.removeAll=function(){AY=[];pK.QI(this.EventType.ItemRemoved,{count:AY.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.R.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(AY);};this.on=function(eventType,handler){pK.on.apply(pK,arguments);return this;};this.off=function(eventType,handler){pK.off.apply(pK,arguments);return this;};};PCCViewer.ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};})(PCCViewer||{});var PCCViewer=window.PCCViewer||{};(function(){"use strict";PCCViewer.Data=(function(){function getData(key){return this.df.get_data(key);};function setData(key,value){this.df.set_data(key,value);return this;};function getDataKeys(){return this.df.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},qc:function(hs,qm){if(typeof hs.getData!=="function"||typeof hs.setData!=="function"||typeof hs.getDataKeys!=="function"||typeof qm.getData!=="function"||typeof qm.setData!=="function"||typeof qm.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var sV=hs.getDataKeys(),i,length=sV.length;for(i=0;i<length;i++){var aq=sV[i];qm.setData(aq,hs.getData(aq));}}};})();PCCViewer.SessionData=(function(){function getSessionData(key){return this.FZ.get_data(key);};function setSessionData(key,value){this.FZ.set_data(key,value);return this;};function getSessionDataKeys(){return this.FZ.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aGN:function(hs,qm){if(typeof hs.getSessionData!=="function"||typeof hs.setSessionData!=="function"||typeof hs.getSessionDataKeys!=="function"||typeof qm.getSessionData!=="function"||typeof qm.setSessionData!=="function"||typeof qm.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var sV=hs.getSessionDataKeys(),i,length=sV.length;for(i=0;i<length;i++){var aq=sV[i];qm.setSessionData(aq,hs.getSessionData(aq));}}};})();})();(function(undefined){'use strict';function Mark(parameters){this.aY=0;this.ct=undefined;this.JD=false;this.oj=PCCViewer.Mark.InteractionMode.Full;this.ge=true;if(parameters.uid&&parameters.viewerControl){(function(ac,mi){IPCC.R.forEach(ac,function validateMark(lK){if(lK.getUid()===mi){throw new Error('Uid '+mi+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var mi=parameters.uid||IPCC.R.aju();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.aJ=parameters.igMark;this.ct=this.aJ.get_markID().toString();this.df=this.aJ.get_data();}else{this.df=new IPCC.Web.UI.Data();}PCCViewer.Data.extend(this);this.FZ=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.aV.iu(parameters.pageNumber,'pageNumber');this.aY=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.aV.iZ(parameters.id,'id');this.ct=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.JD){this.bP=parameters.type;this.JD=true;}else if(parameters.type!==undefined){IPCC.aV.iZ(parameters.type,'type');var Mr=RW(parameters.type,PCCViewer.Mark.Type);if(Mr===null){throw new RangeError("The value of mark type was invalid.");}this.bP=Mr;}if('cl'in parameters){this.cl=parameters.cl;}if('bv'in parameters){this.bv=parameters.bv;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return mi;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:mi,enumerable:true,writable:false});}};PCCViewer.Mark=Mark;PCCViewer.Mark.prototype.getType=function(){return this.bP;};PCCViewer.Mark.prototype.getId=function(){return this.ct;};PCCViewer.Mark.prototype.getPageNumber=function(){return this.aY;};PCCViewer.Mark.prototype.getConversation=function(){if(!this.dw){this.dw=new PCCViewer.Conversation(this);}return this.dw;};PCCViewer.Mark.prototype.getBoundingRectangle=function(){if(this.aJ){var aK=this.aJ.get_boundingRectangle();if(aK instanceof IPCC.Web.UI.Rectangle){this.pS={width:aK.width,height:aK.height,x:aK.x,y:aK.y};}}return this.pS;};PCCViewer.Mark.prototype.getInteractionMode=function(){if(this.aJ){switch(this.aJ.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.oj;};PCCViewer.Mark.prototype.setInteractionMode=function(interactionMode){var oj=RW(interactionMode,PCCViewer.Mark.InteractionMode),WU;switch(oj){case PCCViewer.Mark.InteractionMode.SelectionDisabled:WU=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:WU=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.aJ){this.aJ.set_interactionMode(WU);}this.oj=oj;return this;};PCCViewer.Mark.prototype.reset=function(){var eP=new Mark({type:this.bP,JD:this.JD});this.df={};if(this.setBorderColor&&eP.getBorderColor){this.setBorderColor(eP.getBorderColor());}if(this.setBorderThickness&&eP.getBorderThickness){this.setBorderThickness(eP.getBorderThickness());}if(this.setColor&&eP.getColor){this.setColor(eP.getColor());}if(this.setEndHeadType&&eP.getEndHeadType){this.setEndHeadType(eP.getEndHeadType());}if(this.setEndPoint&&eP.getEndPoint){this.setEndPoint(eP.getEndPoint());}if(this.setFillColor&&eP.getFillColor){this.setFillColor(eP.getFillColor());}if(this.setFontColor&&eP.getFontColor){this.setFontColor(eP.getFontColor());}if(this.setFontName&&eP.getFontName){this.setFontName(eP.getFontName());}if(this.setFontSize&&eP.getFontSize){this.setFontSize(eP.getFontSize());}if(this.setFontStyle&&eP.getFontStyle){this.setFontStyle(eP.getFontStyle());}if(this.setHorizontalAlignment&&eP.getHorizontalAlignment){this.setHorizontalAlignment(eP.getHorizontalAlignment());}if(this.setLabel&&eP.getLabel){this.setLabel(eP.getLabel());}if(this.setPosition&&this.aJ&&eP.getPosition){this.setPosition(eP.getPosition());}if(this.setReason&&eP.setReason){this.setReason(eP.getReason());}if(this.setOpacity&&eP.getOpacity){this.setOpacity(eP.getOpacity());}if(this.setRectangle&&eP.getRectangle){this.setRectangle(eP.getRectangle());}if(this.setStartPoint&&eP.getStartPoint){this.setStartPoint(eP.getStartPoint());}if(this.setText&&eP.getText){this.setText(eP.getText());}if(this.setThickness&&eP.getThickness){this.setThickness(eP.getThickness());}if(this.setPath&&eP.getPath){this.setPath(eP.getPath());}if(this.setHref&&eP.getHref){this.setHref(eP.getHref());}if(this.setImage&&eP.getImage){this.setImage(eP.getImage());}if(this.setInteractionMode&&eP.getInteractionMode){this.setInteractionMode(eP.getInteractionMode());}if(this.setPoints&&eP.getPoints){this.setPoints(eP.getPoints());}};if(Object.defineProperties){Object.defineProperties(PCCViewer.Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}PCCViewer.Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};PCCViewer.Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};PCCViewer.Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};PCCViewer.Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};PCCViewer.Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function RW(YT,bP){var aaI=YT.toLowerCase();for(var standardType in bP){if(bP.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===aaI){return standardType;}}return null;};function addMethodsToMark(F){function avT(F){F.highlightText=function(highlights){if(!this.aJ){throw new Error("It is invalid to highlight text on this mark.");}var mk;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){mk=[highlights];}else{mk=highlights;}for(var i=0;i<mk.length;i++){ayV(mk[i]);}}else{mk=[];}var bP=F.getType();switch(bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:F.aJ.selectText(mk);break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:var C=this;var QN=[];var ur=false,Ok=0,PB,FG;var aeL=function(Ij,aoL,hv){var zp;var UB= -1,RQ=[];var yC=(Ij.aM+Ij.cY);if(ur===true&&PB>=0&&FG>=0){if(Ij.ai-1===PB){zp=0;if(Ok<=yC){RQ.push({startIndex:zp,length:Ok,color:hv[FG].color,opacity:(hv[FG].opacity)?hv[FG].opacity:127});ur=false;Ok=0;PB= -1;FG= -1;}}}for(var bB=0;bB<hv.length;bB++){zp=Ij.aM+hv[bB].startIndex-aoL;if(zp<0){continue;}if(Array.prototype.indexOf){UB=QN.indexOf(bB);}else{UB=IPCC.Web.gq(QN,bB);}var cs=127;if(UB=== -1){if(zp+hv[bB].length<=yC){if(hv[bB].opacity){cs=hv[bB].opacity;}RQ.push({startIndex:zp,length:hv[bB].length,color:hv[bB].color,opacity:cs});QN.push(bB);C.CV.push(hv[bB]);}else{var SF=yC-zp;if(SF>0){Ok=hv[bB].length-SF;cs=127;if(hv[bB].opacity){cs=hv[bB].opacity;}RQ.push({startIndex:zp,length:SF,color:hv[bB].color,opacity:cs});QN.push(bB);C.CV.push(hv[bB]);ur=true;FG=bB;PB=Ij.ai;}}}}return RQ;};this.CV=[];var fi=aeL(this.aJ,0,mk);F.clearHighlights();if(fi.length>0){C.aJ.selectText(fi);}fi=[];var lm=this.aJ.cY;if(this.bY&&this.bY.length){for(var G=0;G<this.bY.length;G++){fi=[];fi=aeL(this.bY[G],lm,mk);lm+=this.bY[G].cY;if(fi.length>0){this.bY[G].selectText(fi);}}}break;}return this;};function ayV(LK){IPCC.aV.ov(LK.startIndex,'highlight.startIndex',0,F.getText().length);IPCC.aV.ov(LK.length,'highlight.length',1,Number.MAX_VALUE);IPCC.aV.fr(LK.color,'highlight.color');if(LK.opacity){IPCC.aV.ov(LK.opacity,"highlight.opacity",0,255);}};F.clearHighlights=function(){if(this.aJ){if(!this.aJ){throw new Error("It is invalid to clear highlights on this mark.");}}var bP=F.getType();switch(bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:F.aJ.selectText();break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:this.aJ.selectText();if(this.bY&&this.bY.length){for(var G=0;G<this.bY.length;G++){this.bY[G].selectText();}}break;}return this;};};var bP=F.getType();switch(bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:avT(F);break;default:break;}};function addPropertiesToMark(F){F.pS={x:0,y:0,width:0,height:0};var bP=F.getType();switch(bP){case PCCViewer.Mark.Type.LineAnnotation:F.fr='#18385F';F.gY=IPCC.Web.UI.LineStyle.Solid;F.pW=6;F.cs=255;F.Qw={x:0,y:0};F.yC={x:0,y:0};F.mc="None";break;case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:F.dP='#FB0404';F.cs=255;F.qQ='#000000';F.oX=4;F.K={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.RectangleRedaction:F.fz="";F.dP='#000000';F.qQ='#000000';F.oX=1;F.jU='#FFFFFF';F.K={x:0,y:0,width:0,height:0};F.oR=true;if(F.aJ){F.aJ.mG(F.oR);}break;case PCCViewer.Mark.Type.TransparentRectangleRedaction:F.K={x:0,y:0,width:0,height:0};F.oR=true;if(F.aJ){F.aJ.mG(F.oR);F.aJ.set_fillColor('#FFFF00');F.aJ.set_opacity(127);F.aJ.set_lineWidth(1);F.aJ.set_lineColor('#FFFF00');}break;case PCCViewer.Mark.Type.TextAnnotation:F.ay='';F.dP='#FFFFFF';F.cs=127;F.qQ='#000000';F.oX=4;F.jU='#000000';F.gp="Arial";F.dB=12;F.eR=[];F.yj="Left";F.K={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:F.yL="Approved";F.K={x:0,y:0,width:0,height:0};if(bP===PCCViewer.Mark.Type.StampRedaction){F.oR=true;if(F.aJ){F.aJ.mG(F.oR);F.aJ.set_fillColor('#000000');}}else{F.fr="#000000";}break;case PCCViewer.Mark.Type.HighlightAnnotation:F.dP="#FFFF00";F.ay='';F.ck='';if(F.aJ){if(F.aJ.ck){F.ay=F.aJ.ck;}}F.cG={startIndex:0,length:0};F.CV=[];F.bY=[];break;case PCCViewer.Mark.Type.TextSelectionRedaction:F.fz="";F.ay='';F.cG={startIndex:0,length:0};if(F.aJ){F.aJ.set_fillColor('#000000');if(F.aJ.ck){F.ay=F.aJ.ck;}}F.CV=[];F.bY=[];break;case PCCViewer.Mark.Type.TextHyperlinkAnnotation:F.rf='';F.dP="#3B00FF";F.ay='';if(F.aJ){if(F.aJ.ck){F.ay=F.aJ.ck;}}F.cG={startIndex:0,length:0};F.CV=[];F.bY=[];break;case PCCViewer.Mark.Type.TextRedaction:F.ay='';F.jU='#000000';F.gp="Arial";F.dB=12;F.K={x:0,y:0,width:0,height:0};F.oR=true;if(F.aJ){F.aJ.mG(F.oR);F.aJ.set_fillColor('#FFFFFF');}break;case PCCViewer.Mark.Type.FreehandAnnotation:F.cs=255;case PCCViewer.Mark.Type.FreehandSignature:F.K={x:0,y:0,width:0,height:0};F.pW=4;F.fr='#000000';F.dm='M0,0';break;case PCCViewer.Mark.Type.TextSignature:F.ay="John Doe";F.K={x:0,y:0,width:0,height:0};F.fr="#000000";if(F.aJ){F.fr=F.aJ.dP||'#000000';F.aJ.mG(F.oR);F.aJ.set_fillColor(F.fr);}F.gp="";break;case PCCViewer.Mark.Type.TextInputSignature:F.ay="";F.K={x:0,y:0,width:0,height:0};F.jU="#000000";if(F.aJ){F.jU=F.aJ.get_textColor()||'#000000';F.aJ.mG(false);}F.gp="Courier New";break;case 'PlaceSignature':F.mH=undefined;F.K={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:F.bK="";F.rQ="";F.K={x:0,y:0,width:0,height:0};if(F.aJ&&bP===PCCViewer.Mark.Type.ImageStampRedaction){F.oR=true;F.aJ.mG(F.oR);}break;case PCCViewer.Mark.Type.PolylineAnnotation:F.fr='#000000';F.gY=IPCC.Web.UI.LineStyle.Solid;F.pW=2;F.cs=255;F.aX=[{x:0,y:0},{x:0,y:0}];break;case PCCViewer.Mark.Type.StrikethroughAnnotation:F.fr='#000000';F.gY=IPCC.Web.UI.LineStyle.Solid;F.pW=2;F.ay='';F.ck='';if(F.aJ){if(F.aJ.ck){F.ay=F.aJ.ck;}}F.cG={startIndex:0,length:0};F.CV=[];F.bY=[];break;}function getSignature(){return this.mH||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.mH=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.mH=signature;return this;};if(F.mH||F.bP==='PlaceSignature'){F.getSignature=getSignature;F.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(F,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:this.fr=this.aJ.get_lineColor()||this.fr;break;case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.TextSignature:this.fr=this.aJ.get_fillColor()||this.fr;break;}}return this.fr;};function setColor(value){IPCC.aV.fr(value,'color');this.fr=value;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:this.aJ.set_lineColor(value);break;case PCCViewer.Mark.Type.StampAnnotation:this.aJ.set_fillColor(value);break;case PCCViewer.Mark.Type.TextSignature:this.aJ.set_textColor(value);this.aJ.set_fillColor(value);break;case PCCViewer.Mark.Type.StrikethroughAnnotation:this.aJ.set_lineColor(value);if(this.bY&&this.bY.length){for(var G=0;G<this.bY.length;G++){this.bY[G].set_lineColor(value);}}break;}}return this;};if(F.fr!==undefined){F.getColor=getColor;F.setColor=setColor;if(Object.defineProperties){Object.defineProperties(F,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:this.dP=this.aJ.get_fillColor()||this.dP;break;}}return this.dP;};function setFillColor(value){if(this.bP===PCCViewer.Mark.Type.HighlightAnnotation||this.bP===PCCViewer.Mark.Type.TextHyperlinkAnnotation){IPCC.aV.fr(value,'fillColor');}else{IPCC.aV.YD(value,'fillColor');}this.dP=value;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:this.aJ.set_fillColor(value);break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:this.aJ.set_fillColor(value);if(this.bY&&this.bY.length){for(var G=0;G<this.bY.length;G++){this.bY[G].set_fillColor(value);}}break;}}return this;};if(F.dP!==undefined){F.getFillColor=getFillColor;F.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(F,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.bK,id:this.rQ};return retVal;};function setImage(params){IPCC.aV.iZ(params.dataUrl,'string');IPCC.aV.iZ(params.id,'string');this.bK=params.dataUrl;this.rQ=params.id;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:this.aJ.set_image(params.dataUrl);this.aJ.rQ=params.id;break;}}return this;};if(F.bK!==undefined){F.getImage=getImage;F.setImage=setImage;if(Object.defineProperties){Object.defineProperties(F,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:this.qQ=this.aJ.get_lineColor()||this.qQ;break;}}return this.qQ;};function setBorderColor(value){IPCC.aV.YD(value,'borderColor');this.qQ=value;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:this.aJ.set_lineColor(value);break;}}return this;};if(F.qQ!==undefined){F.getBorderColor=getBorderColor;F.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(F,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.cs=this.aJ.get_opacity()||this.cs;break;}}return this.cs;};function setOpacity(value){IPCC.aV.ov(value,'opacity',0,255);this.cs=value;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.aJ.set_opacity(value);break;}}return this;};if(F.cs!==undefined&&F.cs>=0){F.getOpacity=getOpacity;F.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(F,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:this.pW=this.aJ.get_lineWidth()||this.pW;break;}}return this.pW;};function setThickness(value){IPCC.aV.mR(value,'thickness',1,50);this.pW=value;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.aJ.set_lineWidth(value);break;case PCCViewer.Mark.Type.StrikethroughAnnotation:this.aJ.set_lineWidth(value);if(this.bY&&this.bY.length){for(var G=0;G<this.bY.length;G++){this.bY[G].set_lineWidth(value);}}break;}}return this;};if(F.pW){F.getThickness=getThickness;F.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(F,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:this.oX=this.aJ.get_lineWidth()||this.oX;break;}}return this.oX;};function setBorderThickness(value){IPCC.aV.mR(value,'borderThickness',1,50);this.oX=value;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:this.aJ.set_lineWidth(value);break;}}return this;};if(F.oX!==undefined){F.getBorderThickness=getBorderThickness;F.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(F,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.aJ){this.ge=this.aJ.get_visible();}return this.ge;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.ge=value;if(this.aJ){this.aJ.set_visible(value);}var G;switch(this.bP){case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:if(this.bY&&this.bY.length){for(G=0;G<this.bY.length;G++){this.bY[G].set_visible(value);}}if(this.bP===PCCViewer.Mark.Type.TextSelectionRedaction){var eQ=this.aJ;for(G=0;G<this.aJ.bk.length;G++){eQ.bk[G].set_visible(value);}if(eQ.bZ){IPCC.R.forEach(this.bY,function(aJ){for(G=0;G<aJ.bk.length;G++){aJ.bk[G].set_visible(value);}});}}break;}return this;};if(F.ge!==undefined){F.getVisible=getVisible;F.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(F,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.aJ&&this.aJ!==null){var aX=this.aJ.get_points();if(aX.get_length()>0){switch(this.bP){case PCCViewer.Mark.Type.LineAnnotation:var aP=aX.getPoint(0);if(aP){this.Qw={x:aP.x,y:aP.y};}break;}}}return this.Qw;};function setStartPoint(value){IPCC.aV.iu(value.x,'startPoint'+'.x');IPCC.aV.iu(value.y,'startPoint'+'.y');if(this.aJ&&this.aJ!==null){var aX=this.aJ.get_points();switch(this.bP){case PCCViewer.Mark.Type.LineAnnotation:aX.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.Qw=value;return this;};if(F.Qw){F.getStartPoint=getStartPoint;F.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(F,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.aJ&&this.aJ!==null){var aX=this.aJ.get_points();if(aX.get_length()>0){switch(this.bP){case PCCViewer.Mark.Type.LineAnnotation:var aP=aX.getPoint(1);if(aP){this.yC={x:aP.x,y:aP.y};}break;}}}return this.yC;};function setEndPoint(value){IPCC.aV.iu(value.x,'endPoint'+'.x');IPCC.aV.iu(value.y,'endPoint'+'.y');if(this.aJ&&this.aJ!==null){var aX=this.aJ.get_points();switch(this.bP){case PCCViewer.Mark.Type.LineAnnotation:aX.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.yC=value;return this;};if(F.yC){F.getEndPoint=getEndPoint;F.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(F,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.aJ&&this.aJ!==null){var DB;switch(this.bP){case PCCViewer.Mark.Type.LineAnnotation:DB=this.aJ.get_endHeadType();switch(DB){case IPCC.Web.UI.LineHeadType.None:this.mc=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.mc=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.mc;};function setEndHeadType(value){var DB;switch(value){case PCCViewer.Mark.LineHeadType.None:DB=IPCC.Web.UI.LineHeadType.None;break;case PCCViewer.Mark.LineHeadType.FilledTriangle:DB=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.aJ&&this.aJ!==null){switch(this.bP){case PCCViewer.Mark.Type.LineAnnotation:this.aJ.set_endHeadType(DB);break;}}this.mc=value;return this;};if(F.mc){F.getEndHeadType=getEndHeadType;F.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(F,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.aJ&&this.aJ!==null){var GU=this.aJ.get_points();var bd=GU.get_length();var afR=[];var WH=function(aDG,bC){afR.push(aDG.getPoint(bC));};if(bd>1){switch(this.bP){case PCCViewer.Mark.Type.PolylineAnnotation:for(var G=0;G<bd;G++){WH(GU,G);}this.aX=afR;break;}}}return this.aX.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var bB=0;bB<value.length;bB++){IPCC.aV.aP(value[bB],'PolylinePoint');}if(this.aJ&&this.aJ!==null){var GU=this.aJ.get_points();var apV=function(bC){GU.addPoint(new IPCC.Web.UI.Point(value[bC].x,value[bC].y));};switch(this.bP){case PCCViewer.Mark.Type.PolylineAnnotation:GU.removeAllPoints();for(var G=0;G<value.length;G++){apV(G);}}}this.aX=value;return this;};if(F.aX){F.getPoints=getPoints;F.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(F,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TransparentRectangleRedaction:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:var aK=this.aJ.get_rectangle();if(aK instanceof IPCC.Web.UI.Rectangle){this.K={width:aK.width,height:aK.height,x:aK.x,y:aK.y};}break;}}return this.K;};function setRectangle(value){IPCC.aV.iu(value.x,'rectangle'+'.x');IPCC.aV.iu(value.y,'rectangle'+'.y');IPCC.aV.iu(value.width,'rectangle'+'.width');IPCC.aV.iu(value.height,'rectangle'+'.height');if(this.aJ&&this.aJ!==null){switch(this.bP){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TransparentRectangleRedaction:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:var aK=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.aJ.set_rectangle(aK);break;}}this.K=value;return this;};if(F.K){F.getRectangle=getRectangle;F.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(F,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var dC=0;if(this.aJ&&this.aJ.ck){dC=this.aJ.ck.length;}else if(this.aJ){dC=IPCC.R.reduce([this.aJ].concat(this.bY||[]),function(bd,aJ){return bd+aJ.get_textLength();},0);}return this.aJ?{startIndex:this.aJ.aM,length:dC}:this.cG;};function setPosition(value){IPCC.aV.iu(value.startIndex,'position.startIndex');IPCC.aV.iu(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.aJ===undefined||this.aJ===null){throw new Error("The mark must be on a page.");}var bq;var bG;var ai=this.aY-1;var wU= -value.startIndex;var pB=[];var ck="";var ea;while(true){if(ai>=this.cl.get_length()){throw new Error("The specified length is out of range.");}bq=this.cl.getPage(ai);if(bq.cT()&&bq.cT().zK()&&bq.cT().nj()===true){var aoV=wU;var ZB=bq.cT().Gk();wU+=ZB.length;if(wU<0||(wU===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var UH=0;if(ai===this.aY-1){UH=value.startIndex;}if(wU>=value.length){ea=value.startIndex+value.length-1;if(aoV>=0){ea=value.length-1-aoV;}pB.push({pageIndex:ai,endIndex:ea});ck+=ZB.substring(UH,ea+1);break;}else{ea=bq.cT().Gk().length-1;pB.push({pageIndex:ai,endIndex:ea});ck+=ZB.substring(UH,ea+1);}}else{throw new Error("The text has not been retrieved for this page.");}ai++;}this.bZ=IPCC.Ef();var G=0;if(this.bY){if(this.aJ){this.aJ.bZ=this.bZ;bG=this.bv.gJ(this.cl.getPage(this.aJ.ai));if(this.aJ.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var UK=this.aJ.bk.length-1;UK>=0;UK--){bG.removeMark(this.aJ.bk[UK]);this.aJ.bk.pop();}}}for(G=this.bY.length-1;G>=0;G--){var nt=this.bY[G];bG=this.bv.gJ(this.cl.getPage(nt.ai));bG.removeMark(nt);this.bY.splice(G,1);}}else{this.bY=[];}IH.call(this,pB,ea,ck,value);this.cG=value;return this;};function IH(pB,ea,ck,value,aap){var G,ai,bq,bG;aap=aap||{};var bk;this.bY=this.bY||[];var aex=(this.aJ.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?ayk:axY;for(G=0;G<pB.length;G++){ai=pB[G].pageIndex;bq=this.cl.getPage(ai);var aof=bq.cT().fI();bG=this.bv.gJ(bq);var eQ;var aM=0;ea=pB[G].endIndex;if(G===0){aM=value.startIndex;}ai=pB[G].pageIndex;bk=aap[ai]||IPCC.R.Pg(aof,aM,ea);if(G===0){eQ=aex(this.aJ,aM,ea-aM+1,ck,bk,ai,this.bZ,this.aJ.get_type(),bG);this.aJ.kc=true;}else{eQ=aex(null,aM,ea-aM+1,ck,bk,ai,this.bZ,this.aJ.get_type(),bG);this.bY.push(eQ);bG.addMark(eQ);eQ.set_selected(this.aJ.get_selected());if(this.getFillColor){eQ.set_fillColor(this.aJ.get_fillColor());}if(this.getColor){eQ.set_lineColor(this.aJ.get_lineColor());}if(this.getThickness){eQ.set_lineWidth(this.aJ.get_lineWidth());}if(this.getHref){eQ.set_href(this.aJ.get_href());}if(this.getReason){eQ.set_text(this.aJ.get_text());}}if(G===pB.length-1){eQ.mD=true;}}};if(F.cG){F.getPosition=getPosition;F.setPosition=setPosition;F.IH=IH;if(Object.defineProperties){Object.defineProperties(F,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function axY(F,aM,dC,ck,bk,ai,kT,bH,bG){if(!F){F=new IPCC.Web.UI.Mark(bH);}F.aM=aM;F.cY=dC;F.lz='y';F.bZ=kT;F.ck=ck;F.bk=bk||[];F.ai=ai;var aau=IPCC.R.reduce(F.bk,function(JY,aK){if(!JY){return aK.clone();}else{return JY.union(aK);}},null);F.set_rectangle(aau);return F;};function ayk(F,aM,dC,ck,bk,ai,kT,bH,bG){if(!F){F=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}F.aM=aM;F.cY=dC;F.bZ=kT;F.ck=ck;F.ai=ai;F.bk=IPCC.R.map(bk,function(aK){var zl=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);zl.set_rectangle(aK);zl.mG(true);zl.set_fillColor('#000000');zl.set_text(F.ay);zl.set_lineWidth(0);zl.bZ=kT;bG.addMark(zl);return zl;});var aau=IPCC.R.reduce(bk,function(JY,aK){if(!JY){return aK.clone();}else{return JY.union(aK);}},null);F.set_rectangle(aau);return F;};function getText(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.ay=(typeof this.aJ.get_text()==="string")?this.aJ.get_text():this.ay;break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:if(F.aJ.ck){this.ay=F.aJ.ck;}break;}}return this.ay;};function setText(value){IPCC.aV.iZ(value,'text');this.ay=value;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.aJ.set_text(value);break;}}return this;};if(F.ay!==undefined){F.getText=getText;var bH=F.getType();if(bH!==PCCViewer.Mark.Type.HighlightAnnotation&&bH!==PCCViewer.Mark.Type.TextSelectionRedaction&&bH!==PCCViewer.Mark.Type.TextHyperlinkAnnotation&&bH!==PCCViewer.Mark.Type.StrikethroughAnnotation){F.setText=setText;}if(Object.defineProperties){var alD={enumerable:true,get:function(){return this.getText();}};if(F.setText!==undefined){alD.set=function(value){return this.setText(value);};}Object.defineProperties(F,{"text":alD});}}function getFontColor(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.RectangleRedaction:this.jU=this.aJ.get_textColor()||this.jU;break;}}return this.jU;};function setFontColor(value){IPCC.aV.fr(value,'fontColor');this.jU=value;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.RectangleRedaction:this.aJ.set_textColor(value);break;}}return this;};if(F.jU){F.getFontColor=getFontColor;F.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(F,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.gp=this.aJ.get_fontName()||this.gp;break;}}return this.gp;};function setFontName(value){IPCC.aV.iZ(value,'fontName');this.gp=value;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.aJ.set_fontName(value);break;}}return this;};if(F.gp!==undefined){F.getFontName=getFontName;F.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(F,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.dB=this.aJ.get_fontSize()||this.dB;break;}}return this.dB;};function setFontSize(value){IPCC.aV.mR(value,'fontSize',0.1,288);this.dB=value;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.aJ.set_fontSize(value);break;}}return this;};if(F.dB){F.getFontSize=getFontSize;F.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(F,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.aJ){var sf;switch(this.bP){case PCCViewer.Mark.Type.TextAnnotation:sf=this.aJ.get_textHorizontalAlignment();if(sf){if(sf===IPCC.Web.UI.HorizontalAlignment.Center){this.yj="Center";}else if(sf===IPCC.Web.UI.HorizontalAlignment.Left){this.yj="Left";}else if(sf===IPCC.Web.UI.HorizontalAlignment.Right){this.yj="Right";}}break;}}return this.yj;};function setHorizontalAlignment(value){IPCC.aV.iZ(value,'horizontalAlignment');var sf;var uu=RW(value,PCCViewer.Mark.HorizontalAlignment);if(uu==="Center"){sf=IPCC.Web.UI.HorizontalAlignment.Center;}else if(uu==="Left"){sf=IPCC.Web.UI.HorizontalAlignment.Left;}else if(uu==="Right"){sf=IPCC.Web.UI.HorizontalAlignment.Right;}else{throw "Invalid value found for the Text horizontalAlignment.";}F.yj=uu;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.TextAnnotation:if(sf!==undefined){this.aJ.set_textHorizontalAlignment(sf);this.yj=uu;}break;}}return this;};if(F.yj){F.getHorizontalAlignment=getHorizontalAlignment;F.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(F,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function avw(YE){var AX=[];for(var G=0;G<YE.length;G++){switch(YE[G]){case "Bold":AX.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":AX.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":AX.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":AX.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+YE[G]);}}if(AX.length===0){AX.push(IPCC.Web.UI.FontStyle.Regular);}return AX;};function getFontStyle(){if(this.aJ){var sr=[];switch(this.bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:var vP=this.aJ.get_fontStyle();if(vP&IPCC.Web.UI.FontStyle.Bold){sr.push("Bold");}if(vP&IPCC.Web.UI.FontStyle.Italic){sr.push("Italic");}if(vP&IPCC.Web.UI.FontStyle.Strikeout){sr.push("Strikeout");}if(vP&IPCC.Web.UI.FontStyle.Underline){sr.push("Underline");}if(sr.length>0){this.eR=sr;}break;}}return this.eR;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var Rg,G,akH=[];for(G=0;G<value.length;G++){Rg=RW(value[G],PCCViewer.Mark.FontStyles);if(Rg===null){throw new RangeError("The value of font styles "+value[G]+" is invalid.");}else{IPCC.aV.iZ(Rg,'fontStyle');akH.push(Rg);}}this.eR=akH;var vP=[];vP=avw(this.eR);var aE=this;function axP(dA){setTimeout(function(){aE.aJ.set_fontStyle(dA);},2);};if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:var aiA=vP[0];for(G=1;G<vP.length;G++){aiA|=vP[G];}axP(aiA);break;}}return this;};if(F.eR){F.getFontStyle=getFontStyle;F.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(F,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:this.yL=this.aJ.get_text()||this.yL;break;}}return this.yL;};function setLabel(value){IPCC.aV.iZ(value,'label');this.yL=value;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:this.aJ.set_text(value);break;}}return this;};if(typeof F.yL!=='undefined'){F.getLabel=getLabel;F.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(F,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TextSelectionRedaction:this.fz=this.aJ.get_text()||this.fz;break;}}return this.fz;};function setReason(value){IPCC.aV.iZ(value,'text');this.fz=value;if(this.aJ){switch(this.bP){case PCCViewer.Mark.Type.RectangleRedaction:this.aJ.set_text(value);break;case PCCViewer.Mark.Type.TextSelectionRedaction:this.aJ.set_text(value);if(this.bY&&this.bY.length){for(var G=0;G<this.bY.length;G++){this.bY[G].set_text(value);}}break;}}return this;};if(typeof F.fz!=='undefined'){F.getReason=getReason;F.setReason=setReason;if(Object.defineProperties){Object.defineProperties(F,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getPath(){if(this.aJ){return this.aJ.get_pathString();}else{return this.dm;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var vs=IPCC.R.ZU(path);this.dm=path;if(this.aJ){this.aJ.set_pathString(path);this.aJ.set_pathWidth(vs.width);this.aJ.set_pathHeight(vs.height);}return this;};if(F.dm){F.setPath=setPath;F.getPath=getPath;if(Object.defineProperties){Object.defineProperties(F,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.aJ){return this.aJ.get_href();}else{return this.rf;}};function setHref(href){if(href!==null){var bP=typeof href;if(bP!=="undefined"&&bP!=="number"&&bP!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.rf=href;if(this.aJ){this.aJ.set_href(href);}if(this.bY){IPCC.R.forEach(this.bY,function(aJ){aJ.set_href(href);});}return this;};if(typeof F.rf!=='undefined'){F.setHref=setHref;F.getHref=getHref;if(Object.defineProperties){Object.defineProperties(F,{"href":{enumerable:true,get:getHref,set:setHref}});}}}})();(function(undefined){'use strict';function MouseTool(name,type){this.cV=name;var Mr=awR(type);if(Mr===null){throw new RangeError("The value of type was invalid.");}this.bP=Mr;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.cV;};MouseTool.prototype.getType=function(){return this.bP;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function awR(YT){var aaI=YT.toLowerCase();for(var standardType in PCCViewer.MouseTool.Type){if(PCCViewer.MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===aaI){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var bP=mouseTool.getType();switch(bP){case PCCViewer.MouseTool.Type.Magnifier:break;case PCCViewer.MouseTool.Type.SelectToZoom:break;case PCCViewer.MouseTool.Type.Pan:mouseTool.BF=false;break;case PCCViewer.MouseTool.Type.PanAndEdit:mouseTool.BF=true;break;case PCCViewer.MouseTool.Type.SelectText:break;case PCCViewer.MouseTool.Type.EditMarks:break;case PCCViewer.MouseTool.Type.LineAnnotation:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.LineAnnotation});break;case PCCViewer.MouseTool.Type.RectangleAnnotation:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.RectangleAnnotation});break;case PCCViewer.MouseTool.Type.EllipseAnnotation:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.EllipseAnnotation});break;case PCCViewer.MouseTool.Type.TextAnnotation:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextAnnotation});break;case PCCViewer.MouseTool.Type.StampAnnotation:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StampAnnotation});break;case PCCViewer.MouseTool.Type.HighlightAnnotation:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.HighlightAnnotation});break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextHyperlinkAnnotation});break;case PCCViewer.MouseTool.Type.FreehandAnnotation:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.FreehandAnnotation});break;case PCCViewer.MouseTool.Type.RectangleRedaction:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.RectangleRedaction});break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TransparentRectangleRedaction});break;case PCCViewer.MouseTool.Type.TextRedaction:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextRedaction});break;case PCCViewer.MouseTool.Type.TextInputSignature:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextInputSignature});break;case PCCViewer.MouseTool.Type.StampRedaction:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StampRedaction});break;case PCCViewer.MouseTool.Type.PlaceSignature:mouseTool.bI=new PCCViewer.Mark({type:'PlaceSignature',JD:true});break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextSelectionRedaction});break;case PCCViewer.MouseTool.Type.ImageStampAnnotation:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.ImageStampAnnotation});break;case PCCViewer.MouseTool.Type.ImageStampRedaction:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.ImageStampRedaction});break;case PCCViewer.MouseTool.Type.PolylineAnnotation:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.PolylineAnnotation});break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:mouseTool.bI=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StrikethroughAnnotation});break;}if(mouseTool.bI){mouseTool.getTemplateMark=function(){return this.bI;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.bI){this.bI.reset();}};PCCViewer.MouseTools={Ub:{},createMouseTool:function(name,type){var CN=name.toLowerCase();var existingTool=this.Ub[CN];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.Ub[CN]=new MouseTool(name,type);}return this.Ub[CN];},getMouseTool:function(name){if(name&&name.toLowerCase){var CN=name.toLowerCase();return this.Ub[CN];}return undefined;}};PCCViewer.MouseTool=MouseTool;PCCViewer.MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};PCCViewer.MouseTools.createMouseTool("AccusoftMagnifier",PCCViewer.MouseTool.Type.Magnifier);PCCViewer.MouseTools.createMouseTool("AccusoftSelectToZoom",PCCViewer.MouseTool.Type.SelectToZoom);PCCViewer.MouseTools.createMouseTool("AccusoftPan",PCCViewer.MouseTool.Type.Pan);PCCViewer.MouseTools.createMouseTool("AccusoftPanAndEdit",PCCViewer.MouseTool.Type.PanAndEdit);PCCViewer.MouseTools.createMouseTool("AccusoftSelectText",PCCViewer.MouseTool.Type.SelectText);PCCViewer.MouseTools.createMouseTool("AccusoftEditMarks",PCCViewer.MouseTool.Type.EditMarks);PCCViewer.MouseTools.createMouseTool("AccusoftLineAnnotation",PCCViewer.MouseTool.Type.LineAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftArrowAnnotation",PCCViewer.MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");PCCViewer.MouseTools.createMouseTool("AccusoftRectangleAnnotation",PCCViewer.MouseTool.Type.RectangleAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftEllipseAnnotation",PCCViewer.MouseTool.Type.EllipseAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftTextAnnotation",PCCViewer.MouseTool.Type.TextAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftStampAnnotation",PCCViewer.MouseTool.Type.StampAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftHighlightAnnotation",PCCViewer.MouseTool.Type.HighlightAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",PCCViewer.MouseTool.Type.TextHyperlinkAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftFreehandAnnotation",PCCViewer.MouseTool.Type.FreehandAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftPlaceSignature",PCCViewer.MouseTool.Type.PlaceSignature);PCCViewer.MouseTools.createMouseTool("AccusoftTextSelectionRedaction",PCCViewer.MouseTool.Type.TextSelectionRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftRectangleRedaction",PCCViewer.MouseTool.Type.RectangleRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",PCCViewer.MouseTool.Type.TransparentRectangleRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTextRedaction",PCCViewer.MouseTool.Type.TextRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTextInputSignature",PCCViewer.MouseTool.Type.TextInputSignature);PCCViewer.MouseTools.createMouseTool("AccusoftStampRedaction",PCCViewer.MouseTool.Type.StampRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftImageStampAnnotation",PCCViewer.MouseTool.Type.ImageStampAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftImageStampRedaction",PCCViewer.MouseTool.Type.ImageStampRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftPolylineAnnotation",PCCViewer.MouseTool.Type.PolylineAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",PCCViewer.MouseTool.Type.StrikethroughAnnotation);})();var PCCViewer=window.PCCViewer||{};(function(undefined){"use strict";function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}if(!IPCC.R.vN(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var C=this;IPCC.R.Od(element);var nm=document.createElement('div');nm.className='pccViewerControl';nm.id='pccViewerControl-'+IPCC.Ef();element.appendChild(nm);this.aQ=nm;this.hi=element;var tZ=document.createElement('div');tZ.className='pccPageListLoading';nm.appendChild(tZ);this.tZ=tZ;PCCViewer.EventEmitter.extend(this);this.EQ=false;this.aa=PCCViewer.BK.ur({},ViewerControl.BJ,options);this.aa.language=PCCViewer.BK.ur({},ViewerControl.arA,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.aa.pageLayout.toLowerCase()==="vertical"){this.aa.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.aa.pageLayout.toLowerCase()==="horizontal"){this.aa.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.aa.viewMode.toLowerCase()==="document"){this.aa.viewMode=IPCC.ViewMode.Document;}else if(this.aa.viewMode.toLowerCase()==="equalwidthpages"){this.aa.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.aa.viewMode.toLowerCase()==="equalfitpages"){this.aa.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.aa.viewMode.toLowerCase()==="singlepage"){this.aa.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}if(this.aa.redactionViewMode){if(this.aa.redactionViewMode.toLowerCase()==="draft"){this.aa.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.aa.redactionViewMode.toLowerCase()==="normal"){this.aa.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.aa.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var jz=this.aa.pageRotation%360;if(jz!==0){var xT=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jz||xT.indexOf(jz)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!jz||IPCC.Web.gq(xT,jz)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.aa.pageRotation=jz;if(this.aa.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.aa.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.aa.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.aa.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.aa.serviceResponseTimeout)||typeof this.aa.serviceResponseTimeout!=='number'||this.aa.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.aa.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}this.lo={};this.dk="";this.fG=1;this.bv=undefined;this.anS=new PCCViewer.Deferred();this.If=this.anS.getPromise();this.ee=false;this.aU=undefined;this.MB=0;this.cl=undefined;this.cO=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.qd=false;this.Ai=false;this.IA=false;this.Gi=[];this.Qm=new PCCViewer.Deferred();this.asr=this.Qm.getPromise();this.Aj=[];this.cS={};this.Ys=[];this.Iw=[];this.ab=null;this.Lz={};this.hf=null;this.oO=new PCCViewer.MarkupLayerCollection(this);this.zz=new PCCViewer.MarkupLayer(this);this.oO.addItem(this.zz);this.uv=true;setTimeout(function(){C.ajk(nm,C.aa);},0);this.Bz=null;this.ce=null;this.Ue=false;this.TQ=false;this.JX= -1;this.XV={};this.aCa=this.aa.printTemplate||(this.aa.template?this.aa.template.print:"");this.kb=null;this.xq=null;this.qv=function(dw,eK,alR){var dq=document.createElement('div'),bJ=dq.style;bJ.position='absolute';if(eK.isSelected){bJ.backgroundColor='white';}else{bJ.backgroundColor='lightgray';}bJ.left='10px';bJ.right='0';bJ.textAlign='left';IPCC.R.forEach(dw.getComments(),function(ot,G){var Zh=document.createElement('div'),Pj=Zh.style;Pj.position='relative';Pj.padding='5px';Pj.border='1px solid gray';if(G>0){Pj.borderTop='none';}Zh.appendChild(document.createTextNode(ot.getText()));dq.appendChild(Zh);});return dq;};return C;};PCCViewer.ViewerControl=ViewerControl;ViewerControl.BJ={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal"};ViewerControl.arA={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};ViewerControl.prototype.ajk=function(element,options){if(this.EQ){return;}var C=this;var afY=function(ai){if(C.aa.viewMode===IPCC.ViewMode.SinglePage||C.EQ){return;}var uR=C.aQ.childNodes[0].childNodes[0].childNodes[0].childNodes,G=0;for(G;G<uR.length;G+=1){if(G===ai){if(document.documentMode===8){uR[G].style.outline='2px solid #aaa';}else{uR[G].style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}}else{if(document.documentMode===8){uR[G].style.outline='';}else{if(uR[G].style.boxShadow){uR[G].style.boxShadow='';}}}}};var akt=function(){if(C.tZ.parentNode){C.tZ.parentNode.removeChild(C.tZ);}C.bv.remove_pageOpenFailed(abG);C.bv.remove_pageDisplayed(akt);var Zg=arguments[1];setTimeout(function(){C.trigger("PageDisplayed",{pageNumber:(Zg.pageIndex+1)});afY(Zg.pageIndex);},10);if(Zg.pageIndex!==0){return;}function fe(ao){if(C.EQ){return;}var ap;if(ao.status===200){if(typeof JSON!=='undefined'){ap=JSON.parse(ao.responseText);}else{ap=IPCC.dh.qY(ao.responseText);}if(ap.pageCountConfidence<100){var dk;if(!(/^[\x00-\x7F]*$/.test(sZ))){dk=C.aa.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+sZ+'&DesiredPageCountConfidence=100';}else{dk=C.aa.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(C.aa.documentID)+'&DesiredPageCountConfidence=100';}PCCViewer.Ajax.es({method:'GET',url:dk,headers:{'Content-Type':'application/json'}}).then(fe,fg);C.fG=ap.pageCount;C.aU.fG=ap.pageCount;C.IA=true;setTimeout(function(){C.trigger("EstimatedPageCountReady",{pageCount:ap.pageCount});},10);agY();}else{if(C.fG>1){C.aU.fG=ap.pageCount;setTimeout(function(){var G;if(ap.pageCount<C.fG){for(G=C.fG-1;G>=ap.pageCount;G--){C.cl.removePage(G);}}else if(ap.pageCount>C.fG){for(G=C.fG;G<ap.pageCount;G++){var VE=new IPCC.Web.UI.ImGearPage({pageNumber:G});C.cl.addPage(VE);}}C.fG=ap.pageCount;if(C.ee===true){C.qd=true;C.Ai=true;setTimeout(function(){C.trigger("PageCountReady",{pageCount:ap.pageCount});},30);}},30);}else{C.fG=ap.pageCount;C.aU.fG=ap.pageCount;if(C.ee===true){agY(function(){C.qd=true;C.Ai=true;setTimeout(function(){C.trigger("PageCountReady",{pageCount:ap.pageCount});},0);});}}}}};function fg(ap){if(C.EQ){return;}var Ze="None",amY,Zn;var ane=ap.response.getResponseHeader('Accusoft-Status-Message');if(ane){Ze=ane;Zn=ap.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vt(Zn)){amY=parseInt(Zn,10);}}else if(ap.response.statusText){Ze=ap.response.statusText;}setTimeout(function(){C.trigger("PageLoadFailed",{statusCode:ap.response.status,errorMessage:Ze,accusoftErrorNumber:amY});},1);throw("Unable to obtain document information from the server");};var sZ=IPCC.gr.sz(C.aa.documentID);if(!sZ||sZ===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(sZ))){C.dk=C.aa.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+sZ+'&DesiredPageCountConfidence=50';}else{C.dk=C.aa.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(C.aa.documentID)+'&DesiredPageCountConfidence=50';}PCCViewer.Ajax.es({method:'GET',url:C.dk,headers:{'Content-Type':'application/json'}}).then(fe,fg);};function agY(rG){rG=rG||function(){};var aix=C.fG;function aes(){C.bv.remove_allPagesAdded(aes);rG();};if(aix>1){C.bv.add_allPagesAdded(aes);if(!C.amR){C.bv.add_currentPageChanged(function(){if(arguments<2){throw("Controls currentPageChanged event did not provide any expected information");}var dN=arguments[1];setTimeout(function(){C.trigger('PageChanged',{pageNumber:dN.pageIndex+1});afY(dN.pageIndex);},0);});C.bv.add_pageDisplayed(function(){if(arguments<2){throw("Controls pageDisplayed event did not provide any expected information");}var dN=arguments[1];if(C.kb){C.kb();C.kb=null;if(C.hf){C.hf.resolve();}C.hf=null;}setTimeout(function(){C.trigger('PageDisplayed',{pageNumber:dN.pageIndex+1});},0);setTimeout(function(){C.Zj(dN.pageIndex+1,C.JX);},10);});C.bv.add_pageOpenFailed(function(){agV(arguments);});C.amR=true;}for(var G=C.MB;G<aix;G++){C.cl.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:G}));C.MB++;}}else{rG();}};var azN=function(dN){var an=document.getElementById(dN.pageNodeID),bn=document.createElement('div'),CG=document.createElement('button'),adp='pccPageLoadFailRetry'+dN.pageIndex,ahs=function(){C.bv.DA(dN.pageIndex);},aou=PCCViewer.Language.data.pageLoadFailed,anZ=PCCViewer.Language.getValue("pageLoadFailedPassword"),aos=PCCViewer.Language.data.pageLoadFailedRetry,azZ=dN.exception.statusCode===480&&dN.exception.customErrorCode===4001;if(an===null){return;}CG.id=adp;CG.innerHTML=aos;bn.className='pccPageLoadFail';if(azZ){bn.innerHTML=anZ+'<br>';an.appendChild(bn);}else{bn.innerHTML=aou+'<br>';bn.appendChild(CG);an.appendChild(bn);CG=document.getElementById(adp);if(!CG.addEventListener){CG.attachEvent('onclick',ahs);}else{CG.addEventListener('click',ahs,false);}}};function agV(GE){if(GE<2){throw("controls PageOpenFailed event did not provide any expected information");}var anv,amx,dN=GE[1];if(GE[1].exception.customErrorCode!==undefined){amx=GE[1].exception.customErrorCode;}if(GE[1].exception.message!==undefined){anv=GE[1].exception.message;}setTimeout(function(){C.trigger('PageLoadFailed',{statusCode:dN.exception.statusCode,pageNumber:dN.pageIndex+1,errorMessage:anv,accusoftErrorNumber:amx});azN(dN);},0);};function awm(){if(C.bv&&typeof C.bv.dispose==="function"){C.bv.dispose();}C.dk="";C.bv=undefined;while(C.aQ.firstChild){C.aQ.removeChild(C.aQ.firstChild);}};function aIE(amz){var aZ=new PCCViewer.Deferred();if(typeof amz==="string"){PCCViewer.Ajax.es({url:C.aa.imageHandlerUrl+'/ViewingSession/u'+C.aa.documentID+'/Replacement',body:JSON.stringify({password:amz}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aGG(ao){var result=JSON.parse(ao.responseText);var ajK=result.viewingSessionId;C.aa.documentID=ajK;awm();C.ajk(C.aQ,C.aa);aZ.resolve(ajK);},function aGC(err){aZ.reject(new PCCViewer.Error("AjaxError","The call to replace the viewing session failed."));});}else{aZ.reject(new PCCViewer.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return aZ.getPromise();};function abG(){C.bv.remove_pageOpenFailed(abG);agV(arguments);};function adM(){C.anS.resolve(C.bv);C.bv.remove_pageOpened(adM);C.ee=true;var aE=C;setTimeout(function(){C.trigger("ViewerReady",{});if(aE.qd===true&&aE.Ai===false){aE.Ai=true;setTimeout(function(){C.trigger("PageCountReady",{pageCount:aE.getPageCount()});},10);}},10);C.setCurrentMouseTool("AccusoftPanAndEdit");};var aqy=function(aj,H){if(H.containsText===true){C.Qm.resolve(true);}var ze= -1;if(Array.prototype.indexOf){ze=(C.Aj.indexOf(H.pageIndex)>=0);}else{ze=(IPCC.Web.gq(C.Aj,H.pageIndex)>=0);}if(ze===false){C.Aj.push(H.pageIndex);if(C.Aj.length===C.fG){C.Qm.resolve(false);}}setTimeout(function(){C.trigger("PageTextReady",{pageNumber:H.pageIndex+1});},0);};var aqV=function(aj,H){var ze= -1;if(Array.prototype.indexOf){ze=(C.Aj.indexOf(H.pageIndex)>=0);}else{ze=(IPCC.Web.gq(C.Aj,H.pageIndex)>=0);}if(ze===false){C.Aj.push(H.pageIndex);if(C.Aj.length===C.fG){C.Qm.resolve(false);}}};function axG(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var kJ=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){kJ.push(eventArgs.pageNumbers[i]+1);}var kF=[],wU= -eventArgs.startIndex,aM,ea,kH,bk,j,k;for(j=0;j<kJ.length;j++){kH=C.cl.kj(kJ[j]-1).cT().fI();wU+=kH.dY();aM=0;if(j===0){aM=eventArgs.startIndex;}if(wU>=eventArgs.text.length){ea=wU-eventArgs.text.length-1;}else{ea=kH.dY()-1;}bk=IPCC.R.Pg(kH,aM,ea);for(k=0;k<bk.length;k++){kF.push({x:bk[k].x,y:bk[k].y,width:bk[k].width,height:bk[k].height,pageNumber:kJ[j]});}}C.ab={pageNumber:kJ[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:kF};var F,aiL={selectedText:eventArgs.text,pageNumbers:kJ,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:C.ab};function axd(){var wA=C.ka;C.afr=true;C.ka=function(sender,args){C.ka=wA;setTimeout(function(){C.trigger(PCCViewer.EventType.MarkCreated,{mark:F,pageNumber:kJ[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){F=C.cS[eventArgs.previousFirstMark.get_markID()];C.bv.remove_markRemoved(C.Dx);C.bv.remove_markSelectionChanged(C.EG);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.ai){var aCj=F.aJ.aan;var VK;if(F.getReason){VK=F.aJ.get_text();}var Vt;if(F.getFillColor){Vt=F.aJ.get_fillColor();}var Vu;if(F.getColor){Vu=F.aJ.get_lineColor();}var VR;if(F.getThickness){VR=F.aJ.get_lineWidth();}var VH;if(F.getHref){VH=F.aJ.get_href();}var aBp=new PCCViewer.Conversation(F);var bG=C.bv.gJ(C.cl.getPage(F.aJ.ai));bG.removeMark(F.aJ);for(var G=F.bY.length-1;G>=0;G--){var nt=F.bY[G];bG=C.bv.gJ(C.cl.getPage(nt.ai));bG.removeMark(nt);F.bY.splice(G,1);}F.aJ=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());F.aJ.ai=eventArgs.pageNumbers[0];F.aY=eventArgs.pageNumbers[0]+1;F.aJ.kc=true;F.aJ.aan=aCj;var wA=C.ka;C.ka=null;C.bv.remove_markChanged(C.rg);bG=C.bv.gJ(C.cl.getPage(F.aJ.ai));bG.addMark(F.aJ);if(VK){F.aJ.set_text(VK);}if(Vt){F.aJ.set_fillColor(Vt);}if(Vu){F.aJ.set_lineColor(Vu);}if(VR){F.aJ.set_lineWidth(VR);}if(VH){F.aJ.set_href(VH);}F.dw=new PCCViewer.Conversation(F);PCCViewer.Conversation.ub(aBp,F.dw);C.bv.add_markChanged(C.rg);C.ka=wA;}F.aJ.set_selected(true);F.aJ.set_visible(true);F.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});C.bv.add_markRemoved(C.Dx);C.bv.add_markSelectionChanged(C.EG);C.rm(F,eventArgs.pageNumbers[0]);return;}var CE=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:CE='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:CE='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:CE='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:CE='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:ayq(eventArgs.text);C.Lz[kJ[0]]='selectText';break;}var cO=PCCViewer.MouseTools.getMouseTool(C.getCurrentMouseTool());var bI=(cO&&cO.getTemplateMark)?cO.getTemplateMark():undefined;var apC=bI?bI.getType():"";if(CE){axd();C.trigger(PCCViewer.EventType.TextSelected,aiL);F=C.addMark(kJ[0],CE);if(C.uv){C.zz.addMarks(F);}F.aJ.kc=true;F.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(apC===CE){if(bI.getFillColor){F.setFillColor(bI.getFillColor());}if(bI.getReason){F.setReason(bI.getReason());}if(bI.getHref){F.setHref(bI.getHref());}if(bI.getColor){F.setColor(bI.getColor());}if(bI.getThickness){F.setThickness(bI.getThickness());}PCCViewer.Data.qc(bI,F);}return;}setTimeout(function(){C.trigger(PCCViewer.EventType.TextSelected,aiL);},0);};function avP(){var an=C.aQ,bn=document.createElement('div');bn.className='pccCopyText';an.appendChild(bn);C.OP=bn;};function ayq(ay){var un,aGd=ay.split('\n'),KP=document.createDocumentFragment(),Fe,ky;un=document.createTextNode(ay);KP.appendChild(un);IPCC.R.Od(C.OP);C.OP.appendChild(KP);if(document.body.createTextRange){Fe=document.body.createTextRange();Fe.moveToElementText(C.OP);Fe.select();}else if(window.getSelection){ky=window.getSelection();Fe=document.createRange();Fe.selectNodeContents(C.OP);ky.removeAllRanges();ky.addRange(Fe);}};this.aU=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.aa.documentID,imageServicePath:this.aa.imageHandlerUrl});this.aU.set_encryption(this.aa.encryption||false);var VE=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.aU.get_pages().addPage(VE);this.cl=this.aU.get_pages();this.bv=IPCC.initializePageListPlugin(element,options);this.bv.get_documents().addDocument(this.aU);this.MB=1;this.bv.add_pageDisplayed(akt);this.bv.add_pageOpenFailed(abG);this.bv.add_pageOpened(adM);this.bv.add_textPageReady(aqy);this.bv.add_textExtractionFailed(aqV);this.bv.set_conversationDOMFactory(function(aJ,eK,alR){var F=C.cS[aJ.get_markID()];if(F){return C.qv(F.getConversation(),eK,alR);}});avP();this.bv.add_selectTextMouseToolCompleted(axG);this.bv.add_propertyChanged(function(Ak,bE){var proprtyName=bE.atN();if(proprtyName==="mouseTool"){setTimeout(function(){C.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:C.cO.getName()});},0);}});this.bv.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&C.cS[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.bZ!==undefined){C.rm(eventArgs.mark,eventArgs.pageIndex);}if(C.ka){var bH=eventArgs.mark.get_type();if(bH!==IPCC.Web.UI.MarkType.Highlight&& !(bH===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.bZ!==undefined)){C.ka(sender,eventArgs);}}});this.bv.add_markCreating(function(sender,eventArgs){if(C.IL){C.IL(sender,eventArgs);}});this.bv.zr(function(sender,eventArgs){var Gt=0;var Bs=0;var ahE=0;var vI=0;var wM=0;var QU=0;var arX=C.cO.getName().toLowerCase(),asJ=C.cO.getType();if(asJ===PCCViewer.MouseTool.Type.PlaceSignature){var cO=C.cO;var bI=cO.getTemplateMark(),mH=bI.getSignature(),aid=bI.getRectangle(),F,K={};if(!mH){return;}C.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var vs;if(attributes.width>0){Bs=aid.width||(attributes.width/5);}if(mH.path&&mH.path.length>0){vs=IPCC.R.ZU(mH.path);K={x:0,y:0,width:vs.width,height:vs.height};F=C.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);F.setPath(mH.path);F.setThickness(mH.thickness||4);}if(mH.text&&mH.text.length){vs=IPCC.R.wW(mH.text,mH.fontName);F=C.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);K={x:0,y:0,width:vs.width,height:vs.height};F.setText(mH.text);F.setFontName(mH.fontName);}ahE=(K.width/Bs);Gt=aid.height||(K.height/ahE);vI=(eventArgs.imagePoint.x-(Bs/2));wM=(eventArgs.imagePoint.y-(Gt/2));if(vI<=0){vI=0;}if(wM<=0){wM=0;}if((vI+Bs)>=attributes.width){QU=(vI+Bs)-attributes.width;vI=vI-QU;}if((wM+Gt)>=attributes.height){QU=(wM+Gt)-attributes.height;wM=wM-QU;}K={x:vI,y:wM,width:Bs,height:Gt};F.setRectangle({x:vI,y:wM,width:Bs,height:Gt});PCCViewer.Data.qc(bI,F);PCCViewer.Conversation.ub(bI.getConversation(),F.getConversation());});C.setCurrentMouseTool(arX);}});function MouseEvent(bi){var C=this;for(var i in bi){if(i){C[i]=bi[i];}}};this.bv.zm(function(sender,eventArgs){var ab=null,ii=null,F=null,ic=null,zD=false,TS=eventArgs.upTarget.type,aav=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){aav=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){zD=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&aav===false){C.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){ic=C.aux(eventArgs.upMark);zD=ic!==null;TS="documentHyperlink";}else{F=C.cS[eventArgs.upMark.get_markID()];if(F===undefined){for(var jB in C.cS){if(C.cS.hasOwnProperty(jB)){if(C.cS[jB].aJ.bZ===eventArgs.upMark.bZ&&C.cS[jB].aJ.bZ===eventArgs.downMark.bZ){F=C.cS[jB];eventArgs.pageIndex=F.aY-1;zD=true;if(aav===false){C.deselectAllMarks();F.aJ.set_selected(true);}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.gU()===eventArgs.upMark.gU()){zD=true;}if(F===undefined){if(C.ce&&C.Lz[eventArgs.upTarget.pageIndex+1]==='search'){var eZ=C.ce.getResults();for(var G=0;G<eZ.length;G++){if(eZ[G].aY===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.aM!=='undefined'&&typeof eventArgs.upMark.aM!=='undefined'&&typeof eventArgs.downMark.cY!=='undefined'&&typeof eventArgs.upMark.cY!=='undefined'&&eventArgs.downMark.aM>=eZ[G].getStartIndexInPage()&&eventArgs.downMark.aM+eventArgs.downMark.cY<=eZ[G].getStartIndexInPage()+eZ[G].getText().length&&eventArgs.upMark.aM>=eZ[G].getStartIndexInPage()&&eventArgs.upMark.aM+eventArgs.upMark.cY<=eZ[G].getStartIndexInPage()+eZ[G].getText().length){TS='searchResult';ii=eZ[G];eventArgs.upTarget.pageIndex=ii.aY-1;zD=true;break;}}}}if(zD===false&&F===undefined&&C.Lz[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.aM!=='undefined'&&typeof eventArgs.upMark.aM!=='undefined'&&eventArgs.downMark.aM>=C.ab.startIndex&&eventArgs.downMark.aM+eventArgs.downMark.cY<=C.ab.startIndex+C.ab.length&&eventArgs.upMark.aM>=C.ab.startIndex&&eventArgs.upMark.aM+eventArgs.upMark.cY<=C.ab.startIndex+C.ab.length){TS='textSelection';ab=C.ab;zD=true;}}}var ZE=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var ayJ=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var H={pageNumber:ayJ,targetType:TS,textSelection:ab,searchResult:ii,mark:F,originalEvent:ZE,hyperlink:ic,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(zD===true){C.trigger('Click',H);}},0);});(function(){var Bw=null;C.bv.zx(function(sender,eventArgs){var ZE=new MouseEvent(eventArgs.domEvent);var H={originalEvent:ZE,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(Bw!==null){H.mark=C.cS[Bw];Bw=null;setTimeout(function(){C.trigger('MarkMouseLeave',H);},0);}}else{H.mark=C.cS[eventArgs.mark.get_markID()];if(H.mark===undefined){for(var jB in C.cS){if(C.cS.hasOwnProperty(jB)){if(C.cS[jB].aJ.bZ===eventArgs.mark.bZ){H.mark=C.cS[jB];break;}}}}if(!H.mark){return;}setTimeout(function(){if(Bw!==H.mark.getId()){if(Bw!==null){C.trigger('MarkMouseLeave',IPCC.R.extend({},H,{mark:C.cS[Bw]}));}Bw=H.mark.getId();C.trigger('MarkMouseEnter',H);}C.trigger('MarkMouseOver',H);},0);}});})();this.bv.add_hyperlinkPageReady(function(sender,eventArgs){var ai=eventArgs.pageIndex,bq=C.cl.getPage(ai),HC=bq.get_hyperlinkPage().Mh(),xo=C.Ys[ai]=[];HC.mq(function(CC){xo.push(new PCCViewer.DocumentHyperlink({aY:ai+1,CC:CC}));});if(!C.Iw[ai]){C.Iw[ai]=new PCCViewer.Deferred();}C.Iw[ai].resolve(xo);});this.rm=function(F,il){var VA=false;function aaT(){var oW=false;var cu=C.bv.get_displayedPages();for(var G=0;G<cu.get_length();G++){var bq=cu.getPage(G);if(bq.get_pageNumber()===il){oW=true;break;}}return oW;};function aym(eO){if(C.bv){C.bv.cg(eO);}};if(aaT()){if(Array.prototype.indexOf){if(IPCC.Web.gq(C.Gi,il)>=0){VA=true;}}else{if(IPCC.Web.gq(C.Gi,il)>=0){VA=true;}}if(!VA){C.Gi.push(il);setTimeout(function(){var bd=C.Gi.length;if(bd>0){for(var G=0;G<bd;G++){aym(C.Gi[G]);}C.Gi.splice(0,bd);}},10);}}};var Hb={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var TW={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.rg=function(aj,H){var F=C.cS[H.mark.get_markID()];var bP;if(F){bP=F.bP;}if(bP&&Hb[bP]&&Hb[bP][H.propertyName]===false){return;}var dK;if(bP){dK=Hb[bP]&&Hb[bP][H.propertyName]?Hb[bP][H.propertyName]:TW[H.propertyName]?TW[H.propertyName]:H.propertyName;}else{dK=TW[H.propertyName]?TW[H.propertyName]:H.propertyName;}if(H.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||H.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||H.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||H.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||H.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||H.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(H.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&H.mark.bZ!==undefined)){if(F){setTimeout(function(){C.trigger('MarkChanged',{mark:F,pageNumber:H.pageIndex+1,propertyName:dK});},0);}else{for(var jB in C.cS){if(C.cS.hasOwnProperty(jB)){F=C.cS[jB];if(F.bZ===H.mark.bZ){break;}}}}C.rm(F,H.pageIndex);}else if(F&&H.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&dK==='points'){if(F.abp){clearTimeout(F.abp);}F.abp=setTimeout(function(){F.abp=undefined;C.rm(F,H.pageIndex);C.trigger('MarkChanged',{mark:F,pageNumber:H.pageIndex+1,propertyName:dK});},1);}else if(F){C.rm(F,H.pageIndex);setTimeout(function(){C.trigger('MarkChanged',{mark:F,pageNumber:H.pageIndex+1,propertyName:dK});},0);}if(F&&F.type===PCCViewer.Mark.Type.TextRedaction){F.aJ.set_opacity(0);}if(F&&F.bP===PCCViewer.Mark.Type.TextInputSignature){F.aJ.set_lineVisible(false);}};this.bv.add_markChanged(C.rg);this.bv.add_markReordered(function(sender,eventArgs){var F=C.cS[eventArgs.mark.get_markID()];setTimeout(function(){C.trigger('MarkReordered',{mark:F,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.EG=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var F;for(var MR in C.cS){if(C.cS.hasOwnProperty(MR)){F=C.cS[MR];if(F.aJ.bZ===eventArgs.mark.bZ){F.aJ.set_selected(eventArgs.mark.get_selected());C.rm(F.aJ,F.aJ.ai);for(var G=0;G<F.bY.length;G++){F.bY[G].set_selected(eventArgs.mark.get_selected());C.rm(F.bY[G],F.bY[G].ai);}}}}}setTimeout(function(){C.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.bv.add_markSelectionChanged(C.EG);this.bv.add_markTextSelectionChanged(function(sender,eventArgs){C.rm(eventArgs.mark,eventArgs.pageIndex);});this.Dx=function(sender,eventArgs){var F;if(eventArgs.mark){F=C.cS[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&F===undefined&&eventArgs.mark.bZ!==undefined){C.rm(eventArgs.mark,eventArgs.pageIndex);}else if(F){setTimeout(function(){C.trigger('MarkRemoved',{mark:F,pageNumber:eventArgs.pageIndex});},0);}}};this.bv.add_markRemoved(C.Dx);this.bv.add_commentAdding(function(sender,eventArgs){var F=C.cS[eventArgs.mark.get_markID()];if(eventArgs.comment.Io.jE===undefined){eventArgs.comment.Io.jE=C.getActiveMarkupLayer();}});this.bv.add_commentAdded(function(sender,eventArgs){var F=C.cS[eventArgs.mark.get_markID()];C.trigger(PCCViewer.EventType.CommentCreated,{conversation:F.getConversation(),comment:eventArgs.comment.Io});});this.bv.add_commentRemoved(function(sender,eventArgs){var F=C.cS[eventArgs.mark.get_markID()];C.trigger(PCCViewer.EventType.CommentRemoved,{conversation:F.getConversation(),comment:eventArgs.comment.Io});});this.bv.add_commentChanged(function(sender,eventArgs){var F=C.cS[eventArgs.mark.get_markID()];C.trigger(PCCViewer.EventType.CommentChanged,{conversation:F.getConversation(),comment:eventArgs.comment.Io});});this.bv.add_scaleChanged(function(sender,eventArgs){var fd;switch(eventArgs.fitType){case 0:fd=PCCViewer.FitType.FullWidth;break;case 1:fd=PCCViewer.FitType.ShrinkToWidth;break;case 2:fd=PCCViewer.FitType.ActualSize;break;case 3:fd=PCCViewer.FitType.FullHeight;break;case 4:fd=PCCViewer.FitType.FullPage;break;default:break;}C.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:fd,scaleFactor:eventArgs.scaleFactor});});};PCCViewer.ViewerControl.prototype.getPageCount=function(){return this.fG;};PCCViewer.ViewerControl.prototype.getPageNumber=function(){return(this.bv)?(this.bv.aoG().get_pageNumber()+1):1;};PCCViewer.ViewerControl.prototype.setPageNumber=function(pageNumber){var aY;if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aY=Number(pageNumber);}}if(parseInt(aY,10)!==aY){throw new Error("The 'pageNumber' value "+aY+" is not an integer page number.");}if(aY<1||aY>this.getPageCount()|| !isFinite(aY)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===aY){return this;}if(this.bv){this.bv.scrollToPage(aY-1);}return this;};PCCViewer.ViewerControl.prototype.changeToFirstPage=function(){if(this.bv){if(this.IA||this.qd){this.bv.scrollToFirstPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToLastPage=function(){if(this.bv){if(this.IA||this.qd){this.bv.scrollToLastPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToNextPage=function(){if(this.bv){if(this.IA||this.qd){this.bv.scrollToNextPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToPrevPage=function(){if(this.bv){if(this.IA||this.qd){this.bv.scrollToPreviousPage();}}return this;};PCCViewer.ViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.ee){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var C=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){C.bv.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{C.bv.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};PCCViewer.ViewerControl.prototype.scrollTo=function(target){if(!this.ee){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.hf){this.hf.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.hf=null;this.kb=null;}var C=this;var Kz=function(){C.bv.scrollConversationIntoView(target.getMark().aJ.get_conversation());if(C.hf){C.hf.resolve();}C.hf=null;C.kb=null;};var vm=function(ev){if(ev.target.xq===target){C.off(PCCViewer.EventType.CommentCreated,vm);C.xq=null;C.scrollTo(target);}else if(ev.target.xq===null){C.off(PCCViewer.EventType.CommentCreated,vm);}if(C.hf){C.hf.resolve();}C.hf=null;C.kb=null;};var JV=function(aY,iY){C.bv.scrollRegionIntoView(aY-1,iY);if(C.hf){C.hf.resolve();}C.hf=null;C.kb=null;};acQ(C,target,vm,Kz,JV);return this;};PCCViewer.ViewerControl.prototype.scrollToAsync=function(target){if(this.hf){this.hf.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.hf=null;this.kb=null;}var aZ=PCCViewer.Deferred();var dQ=aZ.getPromise();var C=this;C.hf=aZ;try{var Kz=function(){C.bv.scrollConversationIntoView(target.getMark().aJ.get_conversation());if(C.hf){C.hf.resolve();}C.hf=null;C.kb=null;};var vm=function(ev){if(ev.target.xq===target){C.off(PCCViewer.EventType.CommentCreated,vm);C.xq=null;C.scrollTo(target);}else if(ev.target.xq===null){C.off(PCCViewer.EventType.CommentCreated,vm);}if(C.hf){C.hf.resolve();}C.hf=null;C.kb=null;};var JV=function(aY,iY){C.bv.scrollRegionIntoView(aY-1,iY);if(C.hf){C.hf.resolve();}C.hf=null;C.kb=null;};if(acQ(C,target,vm,Kz,JV)===true){aZ.resolve();}}catch(e){C.hf=null;C.kb=null;aZ.reject(new PCCViewer.Error("Error",e));}return dQ;};function acQ(cw,dR,vm,Kz,JV){var iY,aY,aK;cw.xq=null;if(dR instanceof PCCViewer.Conversation){if(cw.cS[dR.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var aeP=cw.bv.scrollConversationIntoView(dR.getMark().aJ.get_conversation());if(aeP==="PageOutOfView"){cw.kb=Kz;cw.setPageNumber(dR.getMark().getPageNumber());return false;}else if(aeP==="ConversationDivDoesNotExist"&&dR.getMark().aJ.get_conversation().get_length()>0){cw.xq=dR;cw.on(PCCViewer.EventType.CommentCreated,vm);return false;}else{cw.kb=null;return true;}}else if(dR instanceof PCCViewer.SearchResult){if(dR.PR!==cw.aU.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}aK=dR.getBoundingRectangle();iY=new IPCC.Web.UI.Rectangle(aK.x,aK.y,aK.width,aK.height);aY=dR.getPageNumber();}else if(dR instanceof PCCViewer.Mark){if(cw.cS[dR.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}aK=dR.getBoundingRectangle();iY=new IPCC.Web.UI.Rectangle(aK.x,aK.y,aK.width,aK.height);aY=dR.getPageNumber();}else if(dR!==undefined&&dR!==null){if(typeof dR.x==='number'&&typeof dR.y==='number'){iY=new IPCC.Web.UI.Rectangle(+dR.x,+dR.y,0,0);}else{if(isNaN(+dR.x)||isNaN(+dR.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{iY=new IPCC.Web.UI.Rectangle(Number(+dR.x),Number(+dR.y),0,0);}}if(dR.width){if(typeof dR.width==='number'){iY.width=dR.width;}else{if(isNaN(+dR.width)){throw new Error('The parameter target does not contain a valid width value.');}else{iY.width=Number(+dR.width);}}}if(dR.height){if(typeof dR.height==='number'){iY.height=dR.height;}else{if(isNaN(+dR.height)){throw new Error('The parameter target does not contain a valid height value.');}else{iY.height=Number(+dR.height);}}}if(typeof dR.pageNumber==='number'){aY= +dR.pageNumber;}else{if(isNaN(+dR.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{aY=Number(+dR.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(aY<1||aY>cw.getPageCount()|| !isFinite(aY)){throw new RangeError("The parameter pageNumber is out of range.");}if(cw.bv.scrollRegionIntoView(aY-1,iY)===false){cw.kb=function(){JV(aY,iY);};cw.setPageNumber(aY);return false;}else{cw.kb=null;return true;}};PCCViewer.ViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.ee){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(Ao(this.getPageNumber()-1,this)===false){this.bv.cg(this.getPageNumber()-1);}var jz=degreesClockwise%360,C=this;if(jz!==0){var xT=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jz||xT.indexOf(jz)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!jz||IPCC.Web.gq(xT,jz)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.bv.rotate(jz);}setTimeout(function(){C.trigger("PageRotated",{degreesClockwise:jz,pageNumber:(C.getPageNumber())});},0);return this;};PCCViewer.ViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.ee){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(Ao(this.getPageNumber()-1,this)===false){this.bv.cg(this.getPageNumber()-1);}var jz=degreesClockwise%360,C=this;if(jz!==0){var xT=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jz||xT.indexOf(jz)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!jz||IPCC.Web.gq(xT,jz)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.bv.agO(jz);}setTimeout(function(){C.trigger("DocumentRotated",{degreesClockwise:jz});},0);return this;};PCCViewer.ViewerControl.prototype.getScaleFactor=function(){if(!this.ee){throw "The getScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}return this.bv.get_scaleFactor();};PCCViewer.ViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.ee){throw "The setScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.bv.set_scaleFactor(+scaleFactor);return this;};PCCViewer.ViewerControl.prototype.getMinScaleFactor=function(){if(!this.ee){throw "The getMinScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}return this.bv.getMinMaxZoom().minFactor;};PCCViewer.ViewerControl.prototype.getMaxScaleFactor=function(){if(!this.ee){throw "The getMaxScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}return this.bv.getMinMaxZoom().maxFactor;};PCCViewer.ViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.ee){throw "The zoomIn method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.bv){this.bv.zoomIn(+zoomFactor);}return this;};PCCViewer.ViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.ee){throw "The zoomOut method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.bv){this.bv.zoomOut(+zoomFactor);}return this;};PCCViewer.ViewerControl.prototype.getViewMode=function(){var ob;if(this.bv&&this.bv.get_viewMode){ob=this.bv.get_viewMode();}else{ob=this.aa.viewMode;}if(ob===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(ob===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(ob===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};PCCViewer.ViewerControl.prototype.setViewMode=function(viewMode){var ob;switch(viewMode){case PCCViewer.ViewMode.Document:ob=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:ob=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:ob=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:ob=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.bv&&this.bv.set_viewMode){var Kw=this.bv.get_viewMode();if(Kw!==ob){if(Kw===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(ob===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.bv.set_viewMode(ob);}}else{this.aa.viewMode=ob;}return this;};PCCViewer.ViewerControl.prototype.getPageLayout=function(){var xp;if(this.bv&&this.bv.get_pageLayout){xp=this.bv.get_pageLayout();}else{xp=this.aa.pageLayout;}if(xp===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};PCCViewer.ViewerControl.prototype.setPageLayout=function(pageLayout){var xp;if(this.aa.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:xp=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.bv&&this.bv.closeCommentsPanel){this.bv.closeCommentsPanel();var C=this;setTimeout(function(){C.trigger("CommentsPanelToggled",{isOpen:false});},10);}xp=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.bv&&this.bv.set_pageLayout){this.bv.set_pageLayout(xp);}else{this.aa.pageLayout=xp;}return this;};PCCViewer.ViewerControl.prototype.getAtMaxScale=function(){if(!this.ee){throw "The getAtMaxScale method requires the viewer to be in a 'ViewerReady' state.";}return this.bv.getMinMaxZoom().atMax;};PCCViewer.ViewerControl.prototype.getAtMinScale=function(){if(!this.ee){throw "The getAtMinScale method requires the viewer to be in a 'ViewerReady' state.";}return this.bv.getMinMaxZoom().atMin;};PCCViewer.ViewerControl.prototype.fitContent=function(fitType){if(!this.ee){throw "The fitContent method requires the viewer to be in a 'ViewerReady' state.";}var GL;switch(fitType){case PCCViewer.FitType.FullWidth:GL=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:GL=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}GL=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:GL=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:GL=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.If.then(function(Ak){Ak.fitPages(GL);});return this;};PCCViewer.ViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.ee){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var aY;if(arguments.length>0){if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aY=Number(pageNumber);}}if(parseInt(aY,10)!==aY){throw new Error("The 'pageNumber' value "+aY+" is not an integer page number.");}if(aY<1||aY>this.getPageCount()|| !isFinite(aY)){throw new Error("The parameter pageNumber is out of range.");}return this.bv.Xr(aY-1);}else{return this.bv.Xr();}};PCCViewer.ViewerControl.prototype.search=function(searchQuery){if(this.Ai===false){throw "The search method requires PagecountReady event to be triggered.";}PCCViewer.SearchTask.prototype.aeO(searchQuery);if(!this.aU.aji()){this.aU.Mw(0,this.aU.fG-1,this.aU.fG);}else{this.TQ=true;}this.Bz=null;this.XV={};this.bv.clearAllSelectedText();var cZ=new PCCViewer.Search();searchQuery=cZ.aku(searchQuery);if(this.Ue===false){this.ce=cZ._search(searchQuery,this.TQ,this.aU);this.Ue=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}var aE=this;this.ce.on('PartialSearchResultsAvailable',function(bE){var JM=[];var WV={};JM=bE.partialSearchResults;var ap=JM[0];WV.aM=ap.getId();ap=JM[JM.length-1];WV.ea=ap.getId();aE.XV[ap.getPageNumber()]=WV;var cu=aE.bv.get_displayedPages();for(var G=0;G<cu.get_length();G++){var bq=cu.getPage(G);if(bq.get_pageNumber()+1===ap.getPageNumber()){aE.amd(bq.get_pageNumber(),JM);}}});this.ce.on('SearchCompleted',function(bE){aE.Ue=false;});this.trigger('SearchPerformed',{searchRequest:this.ce});return this.ce;};PCCViewer.ViewerControl.prototype.getSearchRequest=function(){return this.ce;};PCCViewer.ViewerControl.prototype.clearSearch=function(){if(!this.ee){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var C=this;if(this.getSelectedSearchResult()){this.Bz=null;setTimeout(function(){C.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.bv.clearAllSelectedText();this.ce=null;setTimeout(function(){C.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};PCCViewer.ViewerControl.prototype.validateSearch=function(ja){var fp={errorsExist:false};var searchTermObj,ahS,G,bB,Yt,Rv,Pn;if(typeof ja!=='object'&&typeof ja!=='string'){fp.errorsExist=true;fp.summaryMsg="Search query must be either an object or string.";return fp;}if(typeof ja==='string'&&ja.length<0){fp.errorsExist=true;fp.summaryMsg="Search term must contain at least 3 characters.";return fp;}else if(typeof ja==='string'){return fp;}if(!ja.hasOwnProperty('searchTerms')){fp.errorsExist=true;fp.summaryMsg="Search options must have a 'searchTerms' key.";return fp;}if(Object.prototype.toString.call(ja.searchTerms)!=='[object Array]'){fp.errorsExist=true;fp.summaryMsg="Search terms value must be an array.";return fp;}if(!ja.searchTerms.length){fp.errorsExist=true;fp.summaryMsg="Search terms array must contain at least one value.";return fp;}fp.searchTerms=[];IPCC.R.forEach(ja.searchTerms,function(searchTermObj){var Ke=aeV(searchTermObj);if(Ke.errorsExist){fp.errorsExist=true;}fp.searchTerms=fp.searchTerms.concat(Ke.searchTerms);});return fp;};function aeV(lB){var fp={errorsExist:false,searchTerms:[]};var aCh=lB.type?IPCC.R.trim(lB.type).toLowerCase():undefined;if(aCh==='proximity'){if(Object.prototype.toString.call(lB.terms)!=='[object Array]'){fp.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});fp.errorsExist=true;return fp;}if(lB.terms.length<2){fp.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});fp.errorsExist=true;return fp;}if(!lB.distance){fp.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});fp.errorsExist=true;return fp;}IPCC.R.forEach(lB.terms,function(aCd){var Ke=aeV(aCd);if(Ke.errorsExist){fp.errorsExist=true;}fp.searchTerms=fp.searchTerms.concat(Ke.searchTerms);});return fp;}var Yt,Pn;var Rv=(typeof lB.matchingOptions!=='undefined'&&lB.matchingOptions.hasOwnProperty('matchCase'))?lB.matchingOptions.matchCase:false;if(typeof lB.searchTerm==='undefined'||typeof lB.searchTerm!=='string'||(lB.searchTermIsRegex===true&& !aDu(lB.searchTerm,Rv))){fp.errorsExist=true;fp.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return fp;}Yt=(typeof lB.matchingOptions!=='undefined'&&lB.matchingOptions.hasOwnProperty('exactPhrase'))?lB.matchingOptions.exactPhrase:false;if(Yt){if(lB.searchTerm.length<0){fp.errorsExist=true;fp.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return fp;}}else{var ahS=lB.searchTerm.split(' ');IPCC.R.forEach(ahS,function(Pn){if(Pn.length>0&&Pn.length<0){fp.errorsExist=true;fp.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!fp.searchTerms.length){fp.searchTerms.push({isValid:true,message:null});}return fp;};var aDu=function(TC,Rv){var aCZ,YU,NR;if(Rv){YU='gm';}else{YU='igm';}if(!TC&&TC!==null){NR=false;}else{try{aCZ=new RegExp(TC,YU);NR=true;}catch(err){NR=false;}}return NR;};PCCViewer.ViewerControl.prototype.getDownloadDocumentURL=function(){var dk;if(!(/^[\x00-\x7F]*$/.test(this.aU))){dk=this.aa.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.aa.documentID+'/SourceFile';}else{dk=this.aa.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.aa.documentID);}return dk;};PCCViewer.ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var PW,Wk;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:PW=true;Wk=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:PW=false;Wk=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.bv&&this.bv.set_redactionDraftMode){var asv=this.bv.get_redactionDraftMode();if(asv!==PW){this.bv.set_redactionDraftMode(PW);}}else{this.aa.redactionViewMode=Wk;}return this;};PCCViewer.ViewerControl.prototype.getRedactionViewMode=function(){var api;if(this.bv&&this.bv.get_redactionDraftMode){api=this.bv.get_redactionDraftMode();if(api===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.aa.redactionViewMode;}};PCCViewer.ViewerControl.prototype.convertToRedaction=function(searchResult){var ii=searchResult;if(this.ee===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}if(ii instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(ii instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(ii.PR!==this.aU.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var C=this;var mp=ii.getStartIndexInPage();var ht=ii.getStartIndexInPage()+ii.getText().length;var kT=IPCC.Ef();var bq=C.cl.getPage(ii.getPageNumber()-1);var bG=C.bv.gJ(bq);var ho=bq.cT().fI();var eQ=arN(bG,ho,mp,ht,kT,ii.getPageNumber()-1);var F=new PCCViewer.Mark({type:'TextSelectionRedaction',igMark:eQ,pageNumber:ii.getPageNumber()});F.aJ=eQ;F.bY=[];this.cS[eQ.get_markID()]=F;var wA=C.ka;C.ka=function(sender,eventArgs){if(C.uv){C.zz.addMarks(F);}setTimeout(function(){C.trigger('MarkCreated',{mark:F,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bG.addMark(eQ);C.ka=wA;C.bv.display(ii.getPageNumber()-1);return F;};var arN=function(bG,ho,mp,ht,kT,aiz){var eQ=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);eQ.bZ=kT;eQ.ai=aiz;var F=null;var nq={hm:Number.MAX_VALUE,gL:0,_top:Number.MAX_VALUE,hM:0};for(var bB=mp;bB<ht;bB++){var fn=ho.jY(bB);if(F){var AG=F.get_rectangle();if(Math.abs(fn.aD.y-AG.y)<1&&Math.abs(fn.aD.height-AG.height)<1&&fn.aD.x+fn.aD.width>=AG.x+AG.width){F.set_rectangle(new IPCC.Web.UI.Rectangle(AG.x,AG.y,fn.aD.x+fn.aD.width-AG.x,AG.height));}else{apg(bG,eQ,F,nq);F=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);F.set_rectangle(fn.aD);F.mG(true);F.set_fillColor('#000000');F.set_text(eQ.ay);F.set_lineWidth(0);F.bZ=kT;}}else{F=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);F.set_rectangle(fn.aD);F.mG(true);F.set_fillColor('#000000');F.set_text(eQ.ay);F.set_lineWidth(0);F.bZ=kT;}F.ai=aiz;}if(F!==null){apg(bG,eQ,F,nq);}eQ.set_rectangle(new IPCC.Web.UI.Rectangle(nq.hm,nq._top,nq.gL-nq.hm,nq.hM-nq._top));return eQ;};var apg=function(bG,eQ,F,nq){var K=F.get_rectangle();if(K.x<nq.hm){nq.hm=K.x;}if(K.y<nq._top){nq._top=K.y;}if(K.x+K.width>nq.gL){nq.gL=K.x+K.width;}if(K.y+K.height>nq.hM){nq.hM=K.y+K.height;}bG.addMark(F);eQ.bk.push(F);};PCCViewer.ViewerControl.prototype.convertToHighlight=function(searchResult){var ii=searchResult;if(this.ee===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(ii instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(ii instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(ii.PR!==this.aU.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var eQ;var aeC;var bG;var ap=ii;var mp=ap.getStartIndexInPage();var ht=ap.getStartIndexInPage()+ap.getText().length;var kT=IPCC.Ef();var C=this;var F;bG=this.bv.gJ(this.cl.getPage(ap.getPageNumber()-1));eQ=amP(IPCC.Web.UI.MarkType.HighlightText,ap,mp,kT);F=new PCCViewer.Mark({type:'HighlightAnnotation',igMark:eQ,pageNumber:ap.getPageNumber()});for(mp;mp<ht;mp++){aeC=amP(IPCC.Web.UI.MarkType.Highlight,ap,mp,kT);bG.addMark(aeC);}this.cS[eQ.get_markID()]=F;var wA=this.ka;this.ka=function(sender,eventArgs){if(C.uv){C.zz.addMarks(F);}setTimeout(function(){C.trigger('MarkCreated',{mark:F,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bG.addMark(eQ);C.ka=wA;this.bv.display(ap.getPageNumber()-1);F.fillColor=ap.getHighlightColor();return F;};var amP=function(bH,ap,aDA,kT){var F=new IPCC.Web.UI.Mark(bH);if(bH===IPCC.Web.UI.MarkType.HighlightText){F.ck=ap.getText();}F.aM=aDA;F.set_rectangle({x:0,y:0,width:0,height:0});F.cY=ap.getText().length;F.aFm=ap.getStartIndexInPage()+ap.getText().length;F.cs=127;F.dP=ap.getHighlightColor();F.lz='y';F.bZ=kT;return F;};PCCViewer.ViewerControl.prototype.amd=function(ai,eZ){var ap={};for(var bB=0;bB<eZ.length;bB++){ap=eZ[bB];this.bv.selectText(ap.getPageNumber()-1,ap.getStartIndexInPage(),ap.getText().length,ap.getHighlightColor());}this.bv.display(ap.getPageNumber()-1);this.Lz[ap.getPageNumber()]='search';};PCCViewer.ViewerControl.prototype.Zj=function(ai,searchResult){var ap={};if(this.ce===null||typeof this.ce.getResults!=='function'){return;}var eZ=this.ce.getResults();this.bv.clearSelectedText(ai-1);var ZF=this.XV[ai];if(!ZF){return;}for(var bB=ZF.aM;bB<ZF.ea+1;bB++){ap=eZ[bB];if(ap.getPageNumber()===ai){this.bv.selectText(ap.getPageNumber()-1,ap.getStartIndexInPage(),ap.getText().length,ap.getHighlightColor());if(searchResult===ap.getId()){this.bv.selectText(ap.getPageNumber()-1,ap.getStartIndexInPage(),ap.getText().length,ap.getHighlightColor());}}}this.bv.display(ap.getPageNumber()-1);this.Lz[ap.getPageNumber()]='search';};PCCViewer.ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.ee){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.JX= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.ce){throw "There is no current SearchRequest object available.";}var ahy=this.ce.getResults();if(ahy[searchResult.getId()].oM!==searchResult.oM){throw "The parameter searchResult is not current. There is a newer version of search result available.";}ahy=null;this.JX=searchResult.getId();if(scrollTo){var aK=searchResult.getBoundingRectangle();var iY=new IPCC.Web.UI.Rectangle(aK.x,aK.y,aK.width,aK.height);if(this.bv.scrollRegionIntoView(searchResult.getPageNumber()-1,iY)===false){this.kb=function(){C.bv.scrollRegionIntoView(searchResult.getPageNumber()-1,iY);};this.setPageNumber(searchResult.getPageNumber());}else{this.kb=null;}}}var azD=searchResult!==null?searchResult.getPageNumber(): -1;if(this.Bz&&this.Bz.getPageNumber()!==azD){this.Zj(this.Bz.getPageNumber(),this.JX);}if(searchResult){this.Zj(searchResult.getPageNumber(),this.JX);}this.Bz=searchResult;var C=this;setTimeout(function(){C.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};PCCViewer.ViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.ee){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};PCCViewer.ViewerControl.prototype.getSelectedSearchResult=function(){return this.Bz;};PCCViewer.ViewerControl.prototype.requestPageText=function(pageNumber){var aY;var aZ=PCCViewer.Deferred();var dQ=aZ.getPromise();var C=this;try{if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aY=parseInt(pageNumber,10);}}if(aY<1||aY>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.If.then(function(Ak){var bq=C.cl.getPage(aY-1);if(bq.cT()&&bq.cT().zK()){if(bq.cT().nj()===true){var ay=bq.cT().Gk();aZ.resolve(ay);}else{aZ.resolve("");}}else{var Ku=function(aj,dN){if(dN.containsText===true){var ay=bq.cT().Gk();aZ.resolve(ay);}else{aZ.resolve("");}bq.xe(Ku);bq.Gv(Jt);};var Jt=function(aj,dN){if(dN.exception&&dN.exception.message){aZ.reject(new PCCViewer.Error("TextExtractionFailed",dN.exception.message));}else{aZ.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}bq.xe(Ku);bq.Gv(Jt);};bq.wm(Ku);bq.za(Jt);bq.zd();}});}catch(e){aZ.reject(new PCCViewer.Error("Error",e));}return dQ;};PCCViewer.ViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.aV.ov(pageNumber,"pageNumber",1,this.getPageCount());var bq;return(this.bv&&this.cl&&(bq=this.cl.getPage(pageNumber-1))&&bq.cT()&&bq.cT().zK())===true;};PCCViewer.ViewerControl.prototype.documentHasText=function(){return this.asr;};PCCViewer.ViewerControl.prototype.requestPageAttributes=function(pageNumber){var aY;var aZ=PCCViewer.Deferred();var dQ=aZ.getPromise();var C=this;try{if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aY=parseInt(pageNumber,10);}}if(aY<1||aY>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.If.then(function(Ak){var bq=C.cl.getPage(aY-1);if(bq.lN()>0||bq.mN()>0){aZ.resolve({'width':bq.lN(),'height':bq.mN()});}else{var Bk=function(av,dc){aZ.resolve({'width':av,'height':dc});};var Ci=function(errorMessage){aZ.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};Ak.requestPageAttributes(bq,Bk,Ci);}});}catch(e){aZ.reject(new PCCViewer.Error("Error",e));}return dQ;};PCCViewer.ViewerControl.prototype.destroy=function(){if(!this.EQ){if(this.bv&&typeof this.bv.dispose==="function"){this.bv.dispose();}this.dk="";this.fG=0;delete this.bv;this.aU=undefined;this.MB=0;this.cl=undefined;this.amR=false;if(this.hi){IPCC.R.Od(this.hi);this.hi=this.aQ=undefined;}this.qd=false;this.Ai=false;this.IA=false;this.bv=undefined;this.ee=false;this.EQ=true;this.trigger=function aaw(){};this.lo=undefined;this.lo={};}};PCCViewer.ViewerControl.prototype.getMarkById=function(markId){var C=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(C.cS[markId]){return C.cS[markId];}else{return null;}};PCCViewer.ViewerControl.prototype.getMarksByType=function(markType){var abx=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}acr(markType);if(!this.bv){return abx;}var G=0;var dC=this.cl.get_length();var C=this;function avH(aJ){var F=C.cS[aJ.get_markID()];if(F&&F.getType().toLowerCase()===markType.toLowerCase()){abx.push(F);}};for(G=0;G<dC;G++){var bG=this.bv.gJ(this.cl.getPage(G));if(bG){bG.forEachMark(avH);}}return abx;};PCCViewer.ViewerControl.prototype.getAllMarks=function(){var EP=[];if(!this.bv){return EP;}var dC=this.cl.get_length();var C=this;var G=0;var F;function Sf(aJ){var F=C.cS[aJ.get_markID()];if(typeof F!=='undefined'){EP.push(F);}};for(G=0;G<dC;G++){var bG=this.bv.gJ(this.cl.getPage(G));if(bG){bG.forEachMark(Sf);}}return EP;};function acr(markType){var fh;switch(markType.toLowerCase()){case "lineannotation":fh=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":fh=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":fh=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":fh=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":fh=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":fh=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":fh=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":fh=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":fh=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":fh=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":fh=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":fh=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":fh=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":fh=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":fh=IPCC.Web.UI.MarkType.TextLine;break;case "textselectionredaction":fh=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":fh=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":fh=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":fh=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":fh=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return fh;};PCCViewer.ViewerControl.prototype.addMark=function(pageNumber,markType){if(this.ee===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var aY;if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{aY=parseInt(pageNumber,10);}}if(aY<1||aY>this.cl.get_length()|| !isFinite(aY)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}return this.aef(aY,markType);};PCCViewer.ViewerControl.prototype.aef=function(aY,bH,aa){var C=this;aa=aa||{};var fh=acr(bH);var aJ=new IPCC.Web.UI.Mark(fh);aJ.ai=aY-1;var YN={type:bH,igMark:aJ,pageNumber:aY,uid:aa.uid,viewerControl:this};if(bH.toLowerCase()==="highlightannotation"||bH.toLowerCase()==="textselectionredaction"||bH.toLowerCase()==="strikethroughannotation"||bH.toLowerCase()==="texthyperlinkannotation"){YN.cl=C.cl;YN.bv=C.bv;}var F=new PCCViewer.Mark(YN);if(C.afr===true){C.afr=false;}else{var wA=C.ka;C.ka=function(sender,eventArgs){C.ka=wA;if(C.uv){C.zz.addMarks(F);}setTimeout(function(){C.trigger('MarkCreated',{mark:F,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var bG=this.bv.gJ(this.cl.getPage(aY-1));bG.addMark(aJ);C.cS[aJ.get_markID()]=F;C.rm(F,aY-1);return F;};PCCViewer.ViewerControl.prototype.deleteMarks=function(marks){var C=this;var G=0;var F;if(!this.ee){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function HX(te){var ai=te.getPageNumber()-1;var bZ='';var bP='';var HO=ai;var bG=C.bv.gJ(C.cl.getPage(ai));bG.removeMark(te.aJ);if(C.cS[te.getId()]){bZ=te.aJ.bZ;bP=te.getType();delete C.cS[te.getId()];}var MF=bP.toLowerCase();if((MF==='highlightannotation'||MF==='textselectionredaction'||MF==='strikethroughannotation'||MF==='texthyperlinkannotation')&&(te.bY&&te.bY.length)){for(var G=0;G<te.bY.length;G++){var nt=te.bY[G];bG=C.bv.gJ(C.cl.getPage(nt.ai));bG.removeMark(nt);C.rm(nt,nt.ai);}}C.oO.forEach(function(hA){if(hA.hasMark(te.getId())){hA.removeMarks(te);}});};if(marks instanceof Array){for(G=0;G<marks.length;G++){F=marks[G];if(!(F instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(C.cS[F.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(G=0;G<marks.length;G++){HX(marks[G]);C.rm(marks[G],marks[G].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(C.cS[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}HX(marks);C.rm(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};PCCViewer.ViewerControl.prototype.deleteAllMarks=function(){var EP=this.getAllMarks();if(EP.length>0){return this.deleteMarks(EP);}return this;};PCCViewer.ViewerControl.prototype.hideMarks=function(marks){acL(this,marks,false,'hideMarks');return this;};PCCViewer.ViewerControl.prototype.showMarks=function(marks){acL(this,marks,true,'showMarks');return this;};function acL(cw,ac,JF,azr){var G=0;var F;if(!cw.ee){throw new PCCViewer.Error("InvalidArgument","The method "+azr+" can not be used until 'ViewerReady' state is reached.");}if(ac instanceof Array){for(G=0;G<ac.length;G++){F=ac[G];if(!(F instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(cw.cS[F.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(G=0;G<ac.length;G++){ac[G].setVisible(JF);}}else{if(ac instanceof PCCViewer.Mark){if(!(cw.cS[ac.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}ac.setVisible(JF);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function Ao(aEf,nn){var oW=false;var cu=nn.bv.get_displayedPages();for(var G=0;G<cu.get_length();G++){var bq=cu.getPage(G);if(bq.get_pageNumber()===aEf){oW=true;break;}}return oW;};PCCViewer.ViewerControl.prototype.moveMarkToFront=function(mark){var bG;var il;if(!this.ee){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){il=mark.getPageNumber();if(mark.getPageNumber()>0){bG=this.bv.gJ(this.cl.getPage(il-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.aJ){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bG){if(mark.aJ instanceof IPCC.Web.UI.Mark){mark.aJ.moveToFront();if(Ao(il-1,this)===true){var nn=this;setTimeout(function(){nn.bv.cg(il-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkToBack=function(mark){var bG;var il;if(!this.ee){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}il=mark.getPageNumber();if(il>=1){bG=this.bv.gJ(this.cl.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.aJ){throw "The parameter, mark may be a templateMark or has not been initialized";}if(bG){if(mark.aJ instanceof IPCC.Web.UI.Mark){mark.aJ.moveToBack();if(Ao(il-1,this)===true){var nn=this;setTimeout(function(){nn.bv.cg(il-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkForward=function(mark){var bG,il;if(!this.ee){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}il=mark.getPageNumber();if(il>=1){bG=this.bv.gJ(this.cl.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.aJ){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bG){if(mark.aJ instanceof IPCC.Web.UI.Mark){mark.aJ.moveForward();if(Ao(il-1,this)===true){var nn=this;setTimeout(function(){nn.bv.cg(il-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkBackward=function(mark){var bG,il;if(!this.ee){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}il=mark.getPageNumber();if(il>=1){bG=this.bv.gJ(this.cl.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.aJ){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bG){if(mark.aJ instanceof IPCC.Web.UI.Mark){mark.aJ.moveBackward();if(Ao(il-1,this)===true){var nn=this;setTimeout(function(){nn.bv.cg(il-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.getSelectedMarks=function(){var ac=[];var TF=[];if(this.ee===false){return ac;}var dC=this.cl.get_length(),bG,eJ;var C=this;function avs(QK){if(QK){var Rz=QK.get_type();if(Rz===IPCC.Web.UI.MarkType.HighlightText||Rz===IPCC.Web.UI.MarkType.TextSelectionRedaction||Rz===IPCC.Web.UI.MarkType.Strikethrough||Rz===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var jB in C.cS){if(C.cS.hasOwnProperty(jB)){eJ=C.cS[jB];if(QK.bZ===eJ.aJ.bZ){for(var G=0;G<TF.length;G++){if(eJ.aJ.bZ===TF[G]){return;}}TF.push(eJ.aJ.bZ);break;}}}}else{eJ=C.cS[QK.get_markID()];}if(eJ&&eJ instanceof PCCViewer.Mark){ac.push(eJ);}else{return ac;}}};for(var G=0;G<dC;G++){bG=this.bv.gJ(this.cl.getPage(G));if(bG){bG.get_selectedMarks().forEach(avs,{});}}return ac;};function aeU(ac,aoa,nn){var eJ,G;function aaT(eO){var oW=false;var cu=nn.bv.get_displayedPages();for(var G=0;G<cu.get_length();G++){var bq=cu.getPage(G);if(bq.get_pageNumber()===eO){oW=true;break;}}return oW;};if(!ac.length){return;}for(G=0;G<ac.length;G++){if(ac[G]instanceof PCCViewer.Mark){eJ=nn.cS[parseInt(ac[G].getId(),10)];if(eJ&&eJ instanceof PCCViewer.Mark){if(eJ.aJ&&eJ.aJ instanceof IPCC.Web.UI.Mark){if(eJ.getId()!==eJ.aJ.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(G+1)+" is invalid";}}var pe=[];var wH=false;for(G=0;G<ac.length;G++){eJ=nn.cS[parseInt(ac[G].getId(),10)];wH=false;if(eJ){if(eJ.getId()===eJ.aJ.get_markID().toString()){eJ.aJ.set_selected(aoa);if(Array.prototype.IndexOf){wH=(pe.IndexOf(eJ.getPageNumber())>=0);}else{wH=(IPCC.Web.gq(pe,eJ.getPageNumber())>=0);}}if(!wH){var cR=eJ.getPageNumber();if(aaT(cR-1)){pe.push(cR);}}}}if(pe.length>0){setTimeout(function(){for(G=0;G<pe.length;G++){nn.bv.cg(pe[G]-1);}},1);}};PCCViewer.ViewerControl.prototype.selectMarks=function(marks){if(this.ee===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var ac=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){ac.push(marks);}}else{ac=marks;}if(ac.length===0){return this;}aeU(ac,true,this);return this;};PCCViewer.ViewerControl.prototype.deselectMarks=function(marks){if(this.ee===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var ac=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){ac.push(marks);}}else{ac=marks;}if(ac.length===0){return this;}aeU(ac,false,this);return this;};PCCViewer.ViewerControl.prototype.deselectAllMarks=function(){var pe=[];var ac=this.getSelectedMarks();var wH=false,G,eJ;for(G=0;G<ac.length;G++){eJ=this.cS[parseInt(ac[G].getId(),10)];wH=false;if(eJ){if(eJ.getId()===eJ.aJ.get_markID().toString()){eJ.aJ.set_selected(false);if(Array.prototype.IndexOf){wH=(pe.IndexOf(eJ.getPageNumber())>=0);}else{wH=(IPCC.Web.gq(pe,eJ.getPageNumber())>=0);}}if(!wH){var cR=eJ.getPageNumber();if(Ao(cR-1,this)===true){pe.push(cR);}}}}if(pe.length>0){var nn=this;setTimeout(function(){for(G=0;G<pe.length;G++){nn.bv.cg(pe[G]-1);}},1);}return this;};PCCViewer.ViewerControl.prototype.copyMarks=function(marks){var cw=this,amk;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var ac=[];IPCC.R.forEach(marks,function(F){if(F instanceof PCCViewer.Mark){if(cw.cS[F.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}ac.push(F);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var uD=[];IPCC.R.forEach(ac,function(F,bC){PCCViewer.ew[F.getType()]({mark:F},function(cj,df){df.uid=undefined;uD[bC]=df;});});this.uv=false;amk=cw.deserializeMarks(uD);this.uv=true;return amk;};PCCViewer.ViewerControl.prototype.enterTextMarkEditingMode=function(F){var cw=this,bv=this.bv;var acR=function(aqX){var Np=false,cu=bv.get_displayedPages();for(var G=0;G<cu.get_length();G++){var bq=cu.getPage(G);if(bq.get_pageNumber()===aqX){Np=true;}bv.pM(bq.get_pageNumber());}return Np;};if(typeof F==="undefined"||F===null){acR(-1);}else{if(this.ee===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(F instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var agw=this.cS[parseInt(F.getId(),10)];if(!(agw&&agw instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(F.aJ&&F.aJ instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(F.getId()!==F.aJ.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var bH=F.getType();if(bH!==PCCViewer.Mark.Type.TextAnnotation&&bH!==PCCViewer.Mark.Type.TextRedaction&&bH!==PCCViewer.Mark.Type.TextInputSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', or 'TextInputSignature'.");}var Np=acR(F.getPageNumber()-1);if(Np){cw.bv.yJ(F.getPageNumber()-1,F.aJ);}}return this;};PCCViewer.ViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.ee===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var Jp= -1;var cc;var aK;var aY=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){cc=sortableObject.getStartPoint();}else{aK=(sortableObject.aJ)?sortableObject.aJ.get_boundingRectangle():sortableObject.getRectangle();cc={x:aK.x,y:aK.y};}aY=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){cc={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{cc={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){aY= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{aY=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(aY<1||aY>this.getPageCount()|| !isFinite(aY)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(aY)){return-2;}var bq=this.cl.getPage(aY-1);var vF=bq.cT().Xq();var ho=bq.cT().fI();function aeG(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function afU(cW,ez){var aF=Math.max(Math.min(ez.x,cW.x+cW.width),cW.x);var ey=Math.max(Math.min(ez.y,cW.y+cW.height),cW.y);return(ez.x-aF)*(ez.x-aF)+(ez.y-ey)*(ez.y-ey);};var Hl;var PU=Number.MAX_VALUE;for(var G=0;G<vF.dY();G++){var iK=vF.ats(G);if(aeG(iK.eo(),cc)){for(var bB=iK.ajx();bB<iK.alI();bB++){var YW=ho.jY(bB);var uH=YW.vj();if(aeG(uH,cc)){return bB;}Hl=afU(uH,cc);if(Hl<PU){Jp=bB;PU=Hl;}}return Jp;}Hl=afU(iK.eo(),cc);if(Hl<PU){if(iK.eo().y>cc.y){Jp=iK.ajx()-1;}else{Jp=iK.alI();}PU=Hl;}}return Jp;};PCCViewer.ViewerControl.prototype.getCurrentMouseTool=function(){return this.cO.getName();};PCCViewer.ViewerControl.prototype.setCurrentMouseTool=function(name){var C=this;if(this.ee===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var CN=name.toLowerCase();var cO=PCCViewer.MouseTools.getMouseTool(CN);if(!cO){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var jF,kL;switch(cO.getType()){case PCCViewer.MouseTool.Type.Magnifier:jF=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:jF=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:jF=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:jF=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:jF=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:jF=IPCC.Web.UI.MouseTool.CreateLineMark;kL=avD(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:jF=IPCC.Web.UI.MouseTool.CreateRectangleMark;kL=acw(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:jF=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;kL=awt(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:jF=IPCC.Web.UI.MouseTool.CreateRectangleMark;kL=axH(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:jF=IPCC.Web.UI.MouseTool.CreateEllipseMark;kL=acw(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:jF=IPCC.Web.UI.MouseTool.CreateTextMark;kL=ayC(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:jF=IPCC.Web.UI.MouseTool.CreateTextMark;kL=afq(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:jF=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;kL=afq(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:jF=IPCC.Web.UI.MouseTool.CreateStampMark;kL=ayg(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:jF=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;kL=QS(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:jF=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;kL=QS(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:jF=IPCC.Web.UI.MouseTool.CreateFreehandMark;kL=awh(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:jF=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;kL=QS(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var aph=this.aa.resourcePath+'/placeSignatureCursor.cur';this.bv.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.bv.set_allowMarkEdits(false);this.bv.set_mouseCursor('url('+aph+'), pointer');this.cO=cO;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:jF=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;kL=agK(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:jF=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;kL=agK(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:jF=IPCC.Web.UI.MouseTool.CreatePolylineMark;kL=avy(cO.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:jF=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;kL=QS(cO.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var ask=this.bv.get_mouseTool();if(this.cO!==cO&&ask===jF){setTimeout(function(){C.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:C.cO.getName()});},0);}this.cO=cO;if(kL){this.IL=kL.onCreating;this.ka=kL.onAdded;}else{this.IL=undefined;this.ka=undefined;}this.bv.set_mouseTool(jF);this.bv.set_allowMarkEdits((cO.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function aaL(cw,VG,nJ){if(cw.Ai!==true){var aiM=function(){cw.off('PageCountReady',aiM);aaL(cw,VG,nJ);};cw.on('PageCountReady',aiM);return;}var aE=cw;var yz;var kr={},vr={},uC=[];var fW=aE.fG;var mI;var aa;if(VG){aa=VG;}var afF=[];var Uj=aE.aU.get_pages();var atA=function(bq,done){var aGP=false;var kj=bq;var aY=bq.get_pageNumber();var da=kj.get_pageWidth();var cf=kj.get_pageHeight();try{if(kj){var gJ=aE.bv.gJ(kj),Fo=0,GW=0,fz="",aHF=false;var getArt=function getArt(){var Oz;if(aa&&aa.Do&&aa.Do[aY]){Oz=IPCC.R.extend({},aa);Oz.Do=aa.Do[aY];}else{Oz=aa;}var bB,Vx;var It=gJ.azL(aY,Fo,GW,Oz);if(It.kr){kr[aY]=It.kr;}else{var ayH=auo(aY,mI,GW,Fo);kr[aY]=ayH;}if(It.uC){for(bB=0;bB<It.uC.length;bB++){Vx=It.uC[bB];vr[Vx.bo.imageStampId]=Vx;}}done();};if(gJ){if(!da|| !cf){if(gJ.get_markCount()>0){aE.bv.Po(bq,function(av,dc){Fo=av;if(Fo){kj.GN(Fo);}GW=dc;if(GW){kj.Jz(GW);}getArt();},function(Qt){done(Qt);});}else{getArt();}}else{Fo=da;GW=cf;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};Uj.forEach(function(bq,fk,lw){afF.push(function(done){atA(bq,done);});});var Tf=function(an,bq){var yr="";var G;if(!an.gd){if(an.toString()){return an.toString();}else{return '<![CDATA[]]>';}}if((fW===1||bq===0||(bq>0&&an.gd!=="documentAnnotations"&&an.gd!=="pages"))&&an.gd!=="highlights"){yr='<'+an.gd;for(var Cp in an.bo){if(an.bo.hasOwnProperty(Cp)){var Yh=an.bo[Cp];if(Yh===undefined||Yh===null){continue;}var bo=Yh.toString();bo=bo.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');yr=yr+' '+Cp+'="'+bo+'"';}}yr+='>';}for(G=0;G<an.cv.length;G++){yr+=Tf(an.cv[G],bq);}if(fW===1||(bq===fW-1)||(bq!==fW-1&&an.gd!=="documentAnnotations"&&an.gd!=="pages"&&an.gd!=="highlights")){if(an.gd!=="highlights"){yr+='</'+an.gd+'>';}else{yr+='<'+an.gd+' />';}}return yr;};IPCC.R.abD(afF,function(cj){if(cj){nJ(cj);return;}yz='<?xml version="1.0"?>';for(var G=0;G<(aE.fG);G++){yz=yz+Tf(kr[G],G);}var stampImageXml='';for(var LF in vr){if(vr.hasOwnProperty(LF)){stampImageXml+=Tf(vr[LF],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';yz=yz.replace('</documentAnnotations>',stampImagesXml);}nJ(undefined,yz);});};PCCViewer.ViewerControl.prototype.saveMarkup=function(recordName,options){var aZ=PCCViewer.Deferred();var dQ=aZ.getPromise();var aa;if(options){aa=options;}else{aa={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){aZ.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return dQ;}if(!apQ(recordName)){aZ.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return dQ;}var aE=this;this.If.then(function(Ak){var CI=recordName;aaL(aE,aa,function(err,yz){if(err){aZ.reject(new PCCViewer.Error("Error",err));return dQ;}var RO=IPCC.gr.sz(CI);var dk;if(!(/^[\x00-\x7F]*$/.test(aE.aU.get_documentIdentifier()))){dk=aE.aa.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+aE.aa.documentID+'&AnnotationID=e'+RO;}else{dk=aE.aa.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(aE.aa.documentID)+'&AnnotationID=u'+encodeURIComponent(CI);}function fe(ao){aZ.resolve(CI);setTimeout(function(){aE.trigger('MarkupSaved',{name:CI});},0);};function fg(ap){aZ.reject(new PCCViewer.Error("AjaxError","Status Code "+ap.response.status+" "+ap.response.statusText));};PCCViewer.Ajax.es({method:'POST',url:dk,headers:{'Content-Type':'application/xml'},body:yz}).then(fe,fg);});});}catch(e){aZ.reject(new PCCViewer.Error("Error",e.message));}return dQ;};var apQ=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var abO=function(kq){var aF=kq.firstChild;while(aF.nodeType!==1){aF=aF.nextSibling;}return aF;};var auo=function(cR,mI,cf,da){var kr={gd:'documentAnnotations',cv:[],bo:{}};var aoq={gd:'pages',cv:[],bo:{}};kr.cv.push(aoq);var mk={gd:'highlights',cv:[],bo:{}};var bq={gd:'page',cv:[],bo:{id:(cR+1).toString(),pageWidth:da,pageHeight:cf}};kr.cv.push(mk);try{if(mI){var aF=mI.getElementsByTagName("documentAnnotations");if(aF.length>1){throw 'ERROR: Invalid PCC annotations XML';}var PE;var EY;if(document.documentMode<9){var WJ=mI.firstChild.nodeName;if(WJ.toLowerCase()==='xml'){PE=mI.firstChild.nextSibling;}else{PE=mI.firstChild;}}else{PE=mI.firstChild;}var cI=abO(PE);if(cI.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(cI.hasChildNodes()){var G;var jI=false;for(G=0;G<cI.childNodes.length;G++){EY=cI.childNodes[G];if(EY.nodeName!=='page'){continue;}var zT=EY.getAttribute('id');jI=false;if(zT&&parseFloat(zT)===cR+1){jI=true;for(var bB=0;bB<EY.childNodes.length;bB++){var bw=EY.childNodes[bB];var aS={gd:'annotation',cv:[],bo:{}};if(bw.nodeName!=='annotation'){continue;}var Tl=EY.childNodes[bB].attributes;if(Tl.length>0){for(var cA=0;cA<Tl.length;cA++){aS.bo[Tl[cA].name]=Tl[cA].value;}}if(bw.childNodes[0].data){aS.cv.push('<![CDATA['+bw.childNodes[0].data+']]>');}else{aS.cv.push('');}bq.cv.push(aS);}break;}}}}aoq.cv.push(bq);return kr;}catch(e){throw(e.message);}};PCCViewer.ViewerControl.prototype.loadMarkup=function(recordName,options){var IV=recordName;var aZ=PCCViewer.Deferred(),dQ=aZ.getPromise(),aE=this;var aa=options||{};var xa=aa.retainExistingMarks;var jE=aa.markupLayer;var ue=aa.loadAsHidden;this.If.then(function(Ak){var dk,RO,bv=aE.bv,cl=aE.cl;if(typeof IV!=="string"){aZ.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(xa!==undefined){if(typeof xa!=='boolean'){aZ.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(jE!==undefined){if(!(jE instanceof PCCViewer.MarkupLayer)){aZ.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(aE.oO.getItem(jE.getId())===undefined){aZ.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function fe(ao){var aay,Ng=ao.responseText,QV;if(Ng.indexOf('xml')=== -1){aZ.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Ng=Ng.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.R.xs(p2)+p3;});if(window.DOMParser){QV=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){QV=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{QV=function(){return null;};}aay=QV(Ng);var ajX=aay.getElementsByTagName('stampImage');var uC={};var WH=function(bC){F.aX.push(ajb.getPoint(bC));};for(var G=0;G<ajX.length;G++){var Wp=ajX[G];uC[Wp.getAttribute('imageStampId')]={imageStampId:Wp.getAttribute('imageStampId'),base64format:Wp.getAttribute('base64format')};}bv.set_annotationXmlDom(aay,uC,xa===true,ue===true);if(xa!==true){aE.cS={};}var dC=aE.cl.get_length();var F;var bH,fh;var yV={};var JR=[];for(G=0;G<dC;G++){var bG=aE.bv.gJ(aE.cl.getPage(G));if(bG){var CZ={};var bB=0;for(bB=0;bB<bG.get_markCount();bB++){var aJ=bG.getMark(bB);if(aE.cS[aJ.get_markID()]!==undefined){continue;}fh=aJ.get_type();switch(fh){case IPCC.Web.UI.MarkType.Rectangle:if(aJ.jg()===true){if(aJ.get_opacity()===255){bH=PCCViewer.Mark.Type.RectangleRedaction;}else{bH=PCCViewer.Mark.Type.TransparentRectangleRedaction;}F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});}else{bH=PCCViewer.Mark.Type.RectangleAnnotation;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});F.oX=aJ.get_lineWidth();F.dP=aJ.get_fillColor();F.qQ=aJ.get_lineColor();F.cs=aJ.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:bH=PCCViewer.Mark.Type.EllipseAnnotation;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});F.oX=aJ.get_lineWidth();F.dP=aJ.get_fillColor();F.qQ=aJ.get_lineColor();F.cs=aJ.get_opacity();break;case IPCC.Web.UI.MarkType.Line:bH=PCCViewer.Mark.Type.LineAnnotation;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});F.pW=aJ.get_lineWidth();F.fr=aJ.get_lineColor();F.cs=aJ.get_opacity();if(aJ.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){F.mc="FilledTriangle";}else{F.mc="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(aJ.jg()===true){bH=PCCViewer.Mark.Type.StampRedaction;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});}else{bH=PCCViewer.Mark.Type.StampAnnotation;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});F.fr=aJ.get_fillColor();}F.yL=aJ.get_text();break;case IPCC.Web.UI.MarkType.Text:if(aJ.jg()===true){bH=PCCViewer.Mark.Type.TextRedaction;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});}else{bH=PCCViewer.Mark.Type.TextAnnotation;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});F.oX=aJ.get_lineWidth();F.dP=aJ.get_fillColor();F.qQ=aJ.get_lineColor();F.cs=aJ.get_opacity();}F.gp=aJ.get_fontName();F.jU=aJ.get_textColor();F.dB=aJ.get_fontSize();var eR=aJ.get_fontStyle();var KR=[];if((eR&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){KR.push("Bold");}if((eR&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){KR.push("Italic");}if((eR&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){KR.push("Strikeout");}if((eR&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){KR.push("Underline");}F.eR=KR;var uu;switch(aJ.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:uu="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:uu="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:uu="right";break;}F.yj=uu;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:bH=(fh===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(fh===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:(fh===IPCC.Web.UI.MarkType.Strikethrough)?PCCViewer.Mark.Type.StrikethroughAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var WB=aJ.bZ;if(typeof yV[WB]==='undefined'){F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,cl:cl,bv:bv,uid:aJ.bo.lA});F.bY=[];if(bH===PCCViewer.Mark.Type.HighlightAnnotation){F.dP=aJ.get_fillColor();}yV[WB]=F;aJ.ai=G;aJ.kc=true;}else{aJ.ai=G;yV[WB].bY.push(aJ);}break;case IPCC.Web.UI.MarkType.Freehand:bH=PCCViewer.Mark.Type.FreehandAnnotation;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});F.pW=aJ.get_lineWidth();F.fr=aJ.get_lineColor();F.cs=aJ.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:bH=PCCViewer.Mark.Type.FreehandSignature;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});F.pW=aJ.get_lineWidth();F.fr=aJ.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:bH=PCCViewer.Mark.Type.TextSignature;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});F.gp=aJ.get_fontName();F.fr=aJ.get_fillColor();F.ay=aJ.get_text();break;case IPCC.Web.UI.MarkType.TextLine:bH=PCCViewer.Mark.Type.TextInputSignature;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});F.gp=aJ.get_fontName();F.jU=aJ.get_textColor();F.ay=aJ.get_text();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!aJ.bZ){bH=PCCViewer.Mark.Type.RectangleRedaction;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,cl:cl,bv:bv,uid:aJ.bo.lA});F.oX=aJ.get_lineWidth();F.dP=aJ.get_fillColor();F.qQ=aJ.get_lineColor();F.cs=aJ.get_opacity();}else{if(CZ[aJ.bZ]===undefined){CZ[aJ.bZ]=[];}CZ[aJ.bZ].push(aJ);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bH=(fh===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});F.setImage({dataUrl:aJ.get_image(),id:aJ.rQ});break;case IPCC.Web.UI.MarkType.Polyline:bH=PCCViewer.Mark.Type.PolylineAnnotation;F=new PCCViewer.Mark({type:bH,igMark:aJ,pageNumber:G+1,uid:aJ.bo.lA});F.pW=aJ.get_lineWidth();F.fr=aJ.get_lineColor();F.cs=aJ.get_opacity();var ajb=aJ.get_points();F.aX=[];for(var bN=0;bN<ajb.get_length();bN++){WH(bN);}break;default:F=undefined;continue;}if(typeof F!=='undefined'&&fh!==IPCC.Web.UI.MarkType.HighlightText&& !(fh===IPCC.Web.UI.MarkType.RectangleRedaction&&aJ.bZ!==undefined)&&fh!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&fh!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&fh!==IPCC.Web.UI.MarkType.Strikethrough){aE.cS[aJ.get_markID()]=F;JR.push(F);}}for(var Sv in CZ){if(CZ.hasOwnProperty(Sv)&&yV[Sv]){var Gd=yV[Sv];var amL=Gd.aJ;if(Gd.bY&&Gd.bY.length>0){for(var MW=0;MW<Gd.bY.length;MW++){if(Gd.bY[MW].ai===G){amL=Gd.bY[MW];}}}var bk=CZ[Sv];for(var UO=0;UO<bk.length;UO++){amL.bk.push(bk[UO]);}}}}}for(var pl in yV){if(yV.hasOwnProperty(pl)){var xi=yV[pl];aE.cS[xi.aJ.get_markID()]=xi;JR.push(xi);if(xi.bY&&xi.bY.length>0){xi.bY[xi.bY.length-1].mD=true;}else{xi.aJ.mD=true;}}}aZ.resolve(IV);if(jE!==undefined){jE.addMarks(JR);}else{aE.getActiveMarkupLayer().addMarks(JR);}aE.trigger('MarkupLoaded',{name:IV,loadedMarks:JR});};function fg(ap){aZ.reject(new PCCViewer.Error("Error","Status Code "+ap.response.status+" "+ap.response.statusText));};RO=IPCC.gr.sz(IV);if(!(/^[\x00-\x7F]*$/.test(aE.aU.get_documentIdentifier()))){dk=aE.aa.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+aE.aa.documentID+'&AnnotationID=e'+RO;}else{dk=aE.aa.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(aE.aa.documentID)+'&AnnotationID=u'+encodeURIComponent(IV);}PCCViewer.Ajax.es({method:'GET',url:dk,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(fe,fg);});return dQ;};PCCViewer.ViewerControl.prototype.getSavedMarkupNames=function(){var aZ=PCCViewer.Deferred();var dQ=aZ.getPromise();try{var G=0,IY=0;var CI='';var dk=this.aa.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.aa.documentID)+'&AnnotationID=u'+encodeURIComponent(CI);var fe=function(ao){var uo;if(typeof ao.responseText!=='unknown'&&ao.responseText.length>0){try{uo=JSON.parse(ao.responseText);}catch(e){}}var WA=[],IY=0;for(var G=0,bd=uo.annotationFiles.length;G<bd;G++){if(uo.annotationFiles[G].annotationLabel){WA[IY]={};WA[IY].name=uo.annotationFiles[G].annotationLabel;IY++;}}aZ.resolve(WA);};var fg=function(ap){aZ.reject(new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server."));};PCCViewer.Ajax.es({method:'GET',url:dk}).then(fe,fg);}catch(e){aZ.reject(new PCCViewer.Error("Error",e.message));}return dQ;};PCCViewer.ViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.oO){this.oO=new PCCViewer.MarkupLayerCollection(this);}return this.oO;};PCCViewer.ViewerControl.prototype.requestMarkupLayerNames=function(metadata){var aZ=PCCViewer.Deferred(),dQ=aZ.getPromise(),dk,aAe=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.aU.get_documentIdentifier()))){dk=this.aa.imageHandlerUrl+'/MarkupLayers/e'+this.aa.documentID+'/';}else{dk=this.aa.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.aa.documentID)+'/';}if(metadata){var aBV=aAe(metadata);dk+=aBV;}dk+='?nocache='+new Date().getTime();PCCViewer.Ajax.es({url:dk,method:'GET'}).then(function fe(ao){var aFu=JSON.parse(ao.responseText);aZ.resolve(aFu);},function fg(ap){aZ.reject(ap.error);});return dQ;};PCCViewer.ViewerControl.prototype.getActiveMarkupLayer=function(){return this.zz;};PCCViewer.ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.oO.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.zz=markupLayer;};PCCViewer.ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var abH,C=this;abH=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this,options||{});function AN(){setTimeout(function(){abH.Fd();},20);};function sg(){C.off(PCCViewer.EventType.PageCountReady,sg);AN();};if(this.qd===false){C.on(PCCViewer.EventType.PageCountReady,sg);}else{AN();}return abH;};PCCViewer.ViewerControl.prototype.saveMarkupLayer=function(id){var aZ=PCCViewer.Deferred();var dQ=aZ.getPromise();var C=this;if(typeof id!=='string'|| !id){aZ.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return dQ;}var hA=this.oO?this.oO.getItem(id):undefined;if(!hA){aZ.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return dQ;}function ayY(rG){var Ni=hA.getMarks();if(!Ni.length){rG(undefined,[]);}else{C.serializeMarks(Ni).then(function hQ(ac){rG(undefined,IPCC.R.map(ac,function(F){if(F.conversation&&F.conversation.comments){delete F.conversation.comments;}return F;}));},function _f(fz){rG(fz);});}};function ayT(rG){var Ni=hA.getMarks();var Wy=function(fA,gm,mi){var Wd=IPCC.R.filter(gm,function(ot){return!ot.jE||ot.jE===hA;});IPCC.R.forEach(Wd,function(cU){var ah=PCCViewer.ew.Comment(cU);ah.markUid=mi;fA.push(ah);});return fA;};var VD=IPCC.R.reduce(Ni,function(fA,F){var dw=F.getConversation();var gm=dw.getComments();return gm.length?Wy(fA,gm,F.getUid()):fA;},[]);rG(undefined,VD);};function axO(rG){var aug=IPCC.R.reduce(C.oO.getAll(),function(fA,akV){return fA.concat(hA===akV?[]:akV.getMarks());},[]);var Wy=function(fA,gm,mi){var Wd=IPCC.R.filter(gm,function(ot){return ot.jE===hA;});IPCC.R.forEach(Wd,function(ot){var ah=PCCViewer.ew.Comment(ot);ah.markUid=mi;fA.push(ah);});return fA;};var VD=IPCC.R.reduce(aug,function(fA,F){var dw=F.getConversation();var gm=dw.getComments();return gm.length?Wy(fA,gm,F.getUid()):fA;},[]);rG(undefined,VD);};var agf=[],aCw=function(sl){if(sl.markupLayer===hA){agf.push({text:sl.text,data:sl.data,creationDateTime:sl.creationDateTime,markUid:sl.markUid});}};for(var adW in this.oO.jG){if(this.oO.jG.hasOwnProperty(adW)){IPCC.R.forEach(this.oO.jG[adW],aCw);}}var BB={layerRecordId:hA.getRecordId(),name:hA.getName(),originalXmlName:hA.getOriginalXmlName(),comments:agf,data:PCCViewer.ew.Data(hA)};var yf;IPCC.R.abD([function(ou){ayY(function(cj,df){if(cj&& !yf){yf=cj;}else{BB.marks=df;}ou();});},function(ou){ayT(function(cj,df){if(cj&& !yf){yf=cj;}else{BB.comments=BB.comments.concat(df);}ou();});},function(ou){axO(function(cj,df){if(cj&& !yf){yf=cj;}else{BB.comments=BB.comments.concat(df);}ou();});}],function(){if(!yf){ayy(BB);}else{aZ.reject(new PCCViewer.Error('SerializationError',yf.message));}});function ayy(aGT){var RR,gZ={method:'POST',body:JSON.stringify(BB),headers:{'Content-Type':'application/json'}};if(!(/^[\x00-\x7F]*$/.test(C.aU.get_documentIdentifier()))){RR=C.aa.imageHandlerUrl+'/MarkupLayers/e'+C.aa.documentID+'/';}else{RR=C.aa.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(C.aa.documentID)+'/';}if(hA.getRecordId()){gZ.url=RR+hA.getRecordId();gZ.headers['X-HTTP-Method-Override']='PUT';}else{gZ.url=RR;}PCCViewer.Ajax.es(gZ).then(fe,fg);};function fe(ao){if(ao.responseText&&typeof ao.responseText==='string'){var PV;try{PV=JSON.parse(ao.responseText);}catch(e){}if(PV&&PV.layerRecordId){hA.Vp=PV.layerRecordId;}}aZ.resolve({layerRecordId:hA.getRecordId()});};function fg(ap){aZ.reject(new PCCViewer.Error('AjaxError',ap.error.message||'An unknown server error occured.'));};return dQ;};PCCViewer.ViewerControl.prototype.burnMarkup=function(burnOptions){var pz={burnSignatures:true,burnRedactions:true,burnAnnotations:false};var Kb;var adC;var abl;if(burnOptions){if(typeof burnOptions.marks==='object'){if(burnOptions.marks instanceof PCCViewer.Mark){Kb=[burnOptions.marks];}else if(burnOptions.marks instanceof Array){Kb=burnOptions.marks;}pz={marks:Kb};}else{pz.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:pz.burnSignatures;pz.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:pz.burnRedactions;pz.burnAnnotations=(burnOptions.burnAnnotations!==undefined)? ! !burnOptions.burnAnnotations:pz.burnAnnotations;}if(typeof burnOptions.filename==='string'){pz.filename=burnOptions.filename;}}var Bo=new PCCViewer.BurnRequest(pz),C=this;if(Kb){var fB=[];for(var G=0,bd=this.getPageCount();G<bd;G++){fB[G]=[];}fB=IPCC.R.reduce(Kb,function(ac,bn){var aY=bn.getPageNumber()-1;if(!(typeof bn==='object'&&bn instanceof PCCViewer.Mark&&bn.aJ)){Bo.Tx(new Error('The burnOptions.marks parameter is an invalid object.'));return ac;}if(!C.getMarkById(bn.ct)){Bo.Tx(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));return ac;}ac[aY].push(bn.aJ);if(bn.aJ.bk){for(var G=0,bd=bn.aJ.bk.length;G<bd;G++){if(bn.aJ.bk[G]instanceof IPCC.Web.UI.Mark){ac[aY].push(bn.aJ.bk[G]);}}}if(bn.bY){for(var bB=0,aCl=bn.bY.length;bB<aCl;bB++){ac[aY+1+bB].push(bn.bY[bB]);if(bn.bY[bB].bk){for(var cA=0,aCb=bn.bY[bB].bk.length;cA<aCb;cA++){if(bn.bY[bB].bk[cA]instanceof IPCC.Web.UI.Mark){ac[aY+1+bB].push(bn.bY[bB].bk[cA]);}}}}}return ac;},fB);abl={Do:fB,ww:true};}else{abl={includeAnnotations:pz.burnAnnotations,includeRedactions:pz.burnRedactions,includeSignatures:pz.burnSignatures,ww:true};}function abZ(){aaL(C,abl,function(cj,adC){if(cj){setTimeout(function(){Bo.Tx(cj);},20);}else{Bo.OA({aU:C.aU,aa:C.aa});Bo.anH(adC);setTimeout(function(){Bo.Fd();},20);}});};function sg(){C.off(PCCViewer.EventType.PageCountReady,sg);abZ();};if(this.qd===false){C.on(PCCViewer.EventType.PageCountReady,sg);}else{abZ();}return Bo;};PCCViewer.ViewerControl.prototype.convertDocument=function(Ye){var yt,C=this,BJ={targetExtension:'pdf',filename:'document'},aa={};PCCViewer.BK.ur(aa,BJ,Ye);aa.Ck=1;yt=new PCCViewer.ConversionRequest(aa);function AN(){yt.OA({aU:C.aU,aa:C.aa});setTimeout(function(){yt.Fd(aa);},20);};function sg(){C.off(PCCViewer.EventType.PageCountReady,sg);AN();};if(this.qd===false){C.on(PCCViewer.EventType.PageCountReady,sg);}else{AN();}return yt;};PCCViewer.ViewerControl.prototype.requestDocumentConversion=function(Ye){var yt,C=this,BJ={targetExtension:'pdf',filename:'document'},aa={};PCCViewer.BK.ur(aa,BJ,Ye);aa.Ck=2;yt=new PCCViewer.ConversionRequest(aa);function AN(){yt.OA({aU:C.aU,aa:C.aa});setTimeout(function(){yt.Fd(aa);},20);};function sg(){C.off(PCCViewer.EventType.PageCountReady,sg);AN();};if(this.qd===false){C.on(PCCViewer.EventType.PageCountReady,sg);}else{AN();}return yt;};PCCViewer.ViewerControl.prototype.loadAttachments=function(){var aZ=PCCViewer.Deferred();var dQ=aZ.getPromise();try{var G=0,IY=0;var CI='';var dk=this.aa.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(this.aa.documentID)+'/Attachments';var aAS=function(ao){var wL=JSON.parse(ao.responseText);if(wL===null||wL.status!=='complete'){setTimeout(aiJ,500);return;}aZ.resolve(wL.attachments||[]);};var fg=function(ap){aZ.reject(new PCCViewer.Error("AttachmentListFail","Unable to retrieve attachment list from server."));};var aiJ=function(){PCCViewer.Ajax.es({method:'GET',url:dk}).then(aAS,fg);};aiJ();}catch(e){aZ.reject(new PCCViewer.Error("Error",e.message));}return dQ;};function tJ(){return function(sender,eventArgs){var C=this;var F=C.cS[eventArgs.mark.get_markID()];if(C.uv){C.zz.addMarks(F);}setTimeout(function(){if(F){C.trigger('MarkCreated',{mark:F,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function avD(bI){return{onCreating:function(aj,H){var F=new PCCViewer.Mark({type:bI.getType(),igMark:H.mark,pageNumber:H.pageIndex+1});this.cS[H.mark.get_markID()]=F;F.setThickness(bI.getThickness());F.setColor(bI.getColor());F.setOpacity(bI.getOpacity());F.setEndHeadType(bI.getEndHeadType());PCCViewer.Data.qc(bI,F);PCCViewer.Conversation.ub(bI.getConversation(),F.getConversation());},onAdded:tJ()};};function acw(bI){return{onCreating:function(aj,H){var F=new PCCViewer.Mark({type:bI.getType(),igMark:H.mark,pageNumber:H.pageIndex+1});this.cS[H.mark.get_markID()]=F;F.setBorderThickness(bI.getBorderThickness());F.setFillColor(bI.getFillColor());F.setBorderColor(bI.getBorderColor());F.setOpacity(bI.getOpacity());PCCViewer.Data.qc(bI,F);PCCViewer.Conversation.ub(bI.getConversation(),F.getConversation());},onAdded:tJ()};};function axH(bI){return{onCreating:function(aj,H){var F=new PCCViewer.Mark({type:bI.getType(),igMark:H.mark,pageNumber:H.pageIndex+1});this.cS[H.mark.get_markID()]=F;},onAdded:tJ()};};function awt(bI){return{onCreating:function(aj,H){var F=new PCCViewer.Mark({type:bI.getType(),igMark:H.mark,pageNumber:H.pageIndex+1});this.cS[H.mark.get_markID()]=F;F.setReason(bI.getReason());F.setBorderThickness(bI.getBorderThickness());F.setFillColor(bI.getFillColor());F.setBorderColor(bI.getBorderColor());F.setFontColor(bI.getFontColor());PCCViewer.Data.qc(bI,F);PCCViewer.Conversation.ub(bI.getConversation(),F.getConversation());},onAdded:tJ()};};function ayC(bI){return{onCreating:function(aj,H){var F=new PCCViewer.Mark({type:bI.getType(),igMark:H.mark,pageNumber:H.pageIndex+1});this.cS[H.mark.get_markID()]=F;F.setBorderThickness(bI.getBorderThickness());F.setFillColor(bI.getFillColor());F.setBorderColor(bI.getBorderColor());F.setOpacity(bI.getOpacity());F.setFontName(bI.getFontName());F.setFontColor(bI.getFontColor());F.setFontSize(bI.getFontSize());F.setFontStyle(bI.getFontStyle());F.setHorizontalAlignment(bI.getHorizontalAlignment());PCCViewer.Data.qc(bI,F);PCCViewer.Conversation.ub(bI.getConversation(),F.getConversation());},onAdded:tJ()};};function afq(bI){return{onCreating:function(aj,H){var F=new PCCViewer.Mark({type:bI.getType(),igMark:H.mark,pageNumber:H.pageIndex+1});this.cS[H.mark.get_markID()]=F;F.setFontName(bI.getFontName());F.setFontColor(bI.getFontColor());F.setText(bI.getText());if(F.setFontSize){F.setFontSize(bI.getFontSize());}PCCViewer.Data.qc(bI,F);PCCViewer.Conversation.ub(bI.getConversation(),F.getConversation());},onAdded:tJ()};};function ayg(bI){return{onCreating:function(aj,H){var F=new PCCViewer.Mark({type:bI.getType(),igMark:H.mark,pageNumber:H.pageIndex+1});this.cS[H.mark.get_markID()]=F;if(bI.getType()===PCCViewer.MouseTool.Type.StampAnnotation){F.setColor(bI.getColor());}F.setLabel(bI.getLabel());PCCViewer.Data.qc(bI,F);PCCViewer.Conversation.ub(bI.getConversation(),F.getConversation());},onAdded:tJ()};};var aHr;function QS(bI){return{onCreating:function(aj,H){},onAdded:tJ()};};function awh(bI){return{onCreating:function(aj,H){var F=new PCCViewer.Mark({type:bI.getType(),igMark:H.mark,pageNumber:H.pageIndex+1});this.cS[H.mark.get_markID()]=F;F.setThickness(bI.getThickness());F.setColor(bI.getColor());F.setOpacity(bI.getOpacity());PCCViewer.Data.qc(bI,F);PCCViewer.Conversation.ub(bI.getConversation(),F.getConversation());},onAdded:tJ()};};function agK(bI){return{onCreating:function(aj,H){var F=new PCCViewer.Mark({type:bI.getType(),igMark:H.mark,pageNumber:H.pageIndex+1});this.cS[H.mark.get_markID()]=F;F.setImage(bI.getImage());PCCViewer.Data.qc(bI,F);PCCViewer.Conversation.ub(bI.getConversation(),F.getConversation());},onAdded:tJ()};};function avy(bI){return{onCreating:function(aj,H){var F=new PCCViewer.Mark({type:bI.getType(),igMark:H.mark,pageNumber:H.pageIndex+1});this.cS[H.mark.get_markID()]=F;F.setThickness(bI.getThickness());F.setColor(bI.getColor());F.setOpacity(bI.getOpacity());PCCViewer.Data.qc(bI,F);PCCViewer.Conversation.ub(bI.getConversation(),F.getConversation());},onAdded:tJ()};};PCCViewer.ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var xD;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:xD=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:xD=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.bv&&this.bv.set_markHandleMode){this.bv.set_markHandleMode(xD);}else{this.aa.markHandleMode=xD;}return this;};PCCViewer.ViewerControl.prototype.getMarkHandleMode=function(){var xD;if(this.bv&&this.bv.get_markHandleMode){xD=this.bv.get_markHandleMode();}else{xD=this.aa.markHandleMode;}if(xD===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};PCCViewer.ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.qv=factoryFunction;return this;};PCCViewer.ViewerControl.prototype.getConversationDOMFactory=function(){return this.qv;};PCCViewer.ViewerControl.prototype.refreshConversations=function(conversations){var Yp,agL=(conversations===undefined);function afk(dw,fk){throw new Error(dw+((fk!==undefined)?' (Array index '+fk+')':'')+' is not a valid PCCViewer.Conversation object.');};function axk(dw,fk){throw new Error(dw+((fk!==undefined)?' (Array index '+fk+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){Yp=[conversations];}else if(conversations instanceof Array){Yp=conversations;}else if(!agL){afk(conversations);}var alm=IPCC.R.map(this.getAllMarks(),function(bn){return bn.getConversation();});var abn=IPCC.R.map(Yp||alm,function(bn,G){if(!(bn instanceof PCCViewer.Conversation)){afk(bn,G);}if(!agL&& !IPCC.R.inArray(alm,bn)){axk(bn,G);}return bn.getMark().ct;});this.bv.refreshConversations(abn);return this;};PCCViewer.ViewerControl.prototype.openCommentsPanel=function(){if(this.ee===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.bv.openCommentsPanel();var C=this;setTimeout(function(){C.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};PCCViewer.ViewerControl.prototype.closeCommentsPanel=function(){if(this.ee===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.bv.closeCommentsPanel();var C=this;setTimeout(function(){C.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};PCCViewer.ViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.ee===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.bv.get_isCommentsPanelOpen();};PCCViewer.ViewerControl.prototype.setSelectedConversation=function(conversation){if(this.ee===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.bv.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var nt=conversation.getMark();if(nt){var AP=nt.aJ.get_conversation();this.bv.set_selectedConversation(AP);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};PCCViewer.ViewerControl.prototype.getSelectedConversation=function(){if(this.ee===false){return null;}var ju=this.bv.get_selectedConversation();if(ju){var nt=this.cS[ju.get_mark().get_markID()];if(nt){return nt.getConversation();}}return null;};PCCViewer.ViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var C=this,Tj=C.ce;function ahA(ai,mp,dC){var VP=[ai+1];var bq=C.cl.getPage(ai),iF=bq.cT();if(iF.nj()){var ay=iF.Gk(),akb=ay.substr(mp);if(akb.length>dC){return VP;}else{return VP.concat(ahA(ai+1,0,dC-akb.length));}}else{return VP;}};this.bv.Ae();if(Tj&&Tj.getResults().length){var cI=ahA(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),eZ=Tj.getResults(),aoK=false,OW={};if(eZ.length){IPCC.R.forEach(eZ,function(bn){var atf=IPCC.R.contains(cI,bn.aY);if(atf){aoK=true;OW[bn.aY]=OW[bn.aY]||[];OW[bn.aY].push(bn);}});}if(aoK){IPCC.R.forEach(OW,function(aBB,aY){C.amd(aY,aBB);});}}return this;};PCCViewer.ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.ee===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var vt=function(n){return typeof n==='number'&& !isNaN(n);};var AB,agH=true;if(points&&points.constructor===Array){AB=points;}else{AB=[points];agH=false;}var aor=function(aP,fk,dA){throw new PCCViewer.Error('InvalidArgument',aP+' (Array index '+fk+') does not have a valid '+dA+' property');};if(AB.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.R.forEach(AB,function(aP,fk){if(!vt(aP.x)){aor(aP,fk,'x');}if(!vt(aP.y)){aor(aP,fk,'y');}});var Fv=this.bv.atv(pageNumber,AB);if(Fv===null){return null;}else if(agH){return Fv;}else{return Fv[0];}};if(Object.defineProperties){Object.defineProperties(PCCViewer.ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.ce;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}PCCViewer.FitType={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};PCCViewer.ViewMode={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};PCCViewer.PageLayout={Horizontal:"Horizontal",Vertical:"Vertical"};PCCViewer.EventType={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click"};PCCViewer.RedactionViewMode={Draft:"Draft",Normal:"Normal"};PCCViewer.ScaleTrigger={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};PCCViewer.MarkHandleMode={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};}());PCCViewer.BK={};PCCViewer.BK.ur=function(target){"use strict";var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};(function(PCCViewer,undefined){"use strict";var printAlgorithm={standard:1,contentWindowContents:2};var abv=function abv(ah,bE,T){if(ah.addEventListener){ah.addEventListener(bE,T,false);}else if(ah.attachEvent){ah.attachEvent('on'+bE,T);}};var WO=function WO(ah,bE,T){if(ah.removeEventListener){ah.removeEventListener(bE,T,false);}else if(ah.detachEvent){ah.detachEvent('on'+bE,T);}};function avj(dX){var Qq={};dX=dX.split('&');for(var i=dX.length;i--;){var q=dX[i].split('=');Qq[q.shift()]=q.join('=');}return Qq;};function avV(){var An=document.getElementById('pccPrintFrame');if(An){if(An.contentWindow&&An.contentWindow.destroy){An.contentWindow.destroy();}if(An.parentElement){An.parentElement.removeChild(An);}}};function awg(aa,xV,aeY,aep,nJ){avV();if(!aa.algorithm){aa.algorithm=printAlgorithm.standard;}var dO;var gQ=document.createElement('iframe');gQ.id='pccPrintFrame';gQ.className='pccPrintFrame';gQ.style.position='absolute';gQ.style.bottom=gQ.style.right='0px';gQ.style.width=gQ.style.height='1px';gQ.style.zIndex='0';gQ.style.border='none';if(aa.algorithm!==printAlgorithm.contentWindowContents){gQ.style.visibility='0';}function Sy(){WO(window,'message',aja);};function aez(){WO(gQ,'load',aez);if(gQ.contentDocument){dO=gQ.contentDocument;}else if(gQ.contentWindow){dO=gQ.contentWindow.document;}else{dO=gQ.document;}if(aa.algorithm===printAlgorithm.contentWindowContents){gQ.contentWindow.contents=aa.template;gQ.src='javascript:window["contents"]';}else{dO.open();dO.write(aa.template);dO.close();}nJ();};var aja=function(message){message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var ahk=JSON.parse(message.data);var bG=aeY(ahk.pageIndex);gQ.contentWindow[ahk.callbackName](bG);}else if(message.data==='extra'){var Kr=aep(aa);gQ.contentWindow['extra'](aa.encryption,Kr);}else if(message.data==='done'){if(aa.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){gQ.contentWindow.focus();gQ.contentWindow.document.execCommand('print',false,null);window.focus();Sy();xV.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},200);}else{setTimeout(function(){gQ.contentWindow.focus();gQ.contentWindow.print();window.focus();Sy();xV.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},200);}}else if(message.data==='fail'){Sy();xV.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var wO=avj(message.data);wO.index= +wO.index;wO.pageNumber= +wO.pageNumber;wO.totalPages= +wO.totalPages;xV.anP= +wO.index+1;xV.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,wO);}};abv(window,'message',aja);abv(gQ,'load',aez);document.body.appendChild(gQ);return Sy;};function axa(cw){return function aeY(ai){return cw.bv.gJ(cw.cl.getPage(ai));};};function avr(cw){return function aep(options){var ac,F,wl=[],AV=[],Eb={},IQ={},Am={},fz={},ET='',amh,dw,bC,Ki,aK,Jq,aY,aps={},Ew={},G=0,cA=0,bB=0,aqA=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){ac=cw.getAllMarks();for(G=0;G<options.pages.length;G++){aps[options.pages[G]]=true;}for(cA=0;cA<ac.length;cA++){F=ac[cA];aY=F.aY;if(options.includeReasons!=='none'&&F.getReason){ET=F.getReason();if(ET){if(!Am[aY]){fz[ET]=1;Am[aY]=fz;fz={};}else{if(Am[aY][ET]){Am[aY][ET]+=1;}else{Am[aY][ET]=1;}}}}if(F.oR||F.bP.search("Redaction")!== -1){if(Ew[aY]){Ew[aY]+=1;}else{Ew[aY]=1;}}if(options.range.length&&aps[aY]!==true|| !options.includeRedactions&&F.oR|| !options.includeAnnotations&& !F.oR){continue;}dw=F.getConversation();if(dw&&dw.getComments().length){if(!Ki){Ki=aY;}else if(aY!==Ki){wl.sort(aqA);for(bB=0;bB<wl.length;bB++){AV=AV.concat(Eb[wl[bB]]);}IQ[Ki]=AV;Ki=aY;wl=[];Eb={};AV=[];}bC=cw.getCharacterIndex(F);amh=aY;aK=F.aJ.get_boundingRectangle();Jq=(bC>0)?bC*10000+aK.y:aK.y;wl.push(Jq);if(!Eb[Jq]){Eb[Jq]=[dw];}else{Eb[Jq].push(dw);}}}if(wl.length){wl.sort(function(a,b){return a-b;});for(G=0;G<wl.length;G++){AV=AV.concat(Eb[wl[G]]);}IQ[amh]=AV;}}return{IQ:IQ,Am:Am,Ew:Ew};};};PCCViewer.ViewerControl.prototype.print=function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var cI=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var qf=this.aa.imageHandlerUrl;var asO=this.aa.documentID;var aqh=this.aCa;options.vsID=asO;options.handler=qf;options.pages=cI;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=aqh.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode);options.encryption= ! !this.aa.encryption;if(isOldIE||IPCC.R.JJ.QL){options.algorithm=printAlgorithm.contentWindowContents;}var Uu;function az(){if(! !Uu){Uu();}};var xV=new PCCViewer.PrintRequest(options,cI.length,az,this);this.trigger(PCCViewer.EventType.PrintRequested,{printRequest:xV});Uu=awg(options,xV,axa(this),avr(this),function(){});return xV;};PCCViewer.ViewerControl.prototype.validatePrintRange=function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};PCCViewer.ViewerControl.prototype.canPrintMarks=function canPrintMarks(){return(document.documentMode!==8);};PCCViewer.PrintRequest=function(options,totalPages,cancelFunc,that){this.aa=options;this.az=cancelFunc;this.anP=0;PCCViewer.EventEmitter.extend(this);};PCCViewer.PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PCCViewer.PrintRequest.prototype.cancel=function(){this.az();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PCCViewer.PrintRequest.prototype.getOptions=function(){return{range:this.aa.pages.toString(),orientation:this.aa.orientation,paperSize:this.aa.paperSize,margins:this.aa.margins,includeMarks:this.aa.includeMarks,includeAnnotations:this.aa.includeAnnotations,includeRedactions:this.aa.includeRedactions,includeComments:this.aa.includeComments,includeReasons:this.aa.includeReasons,redactionViewMode:this.aa.redactionViewMode};};PCCViewer.PrintRequest.prototype.getPageCount=function(){return this.aa.pages.length;};PCCViewer.PrintRequest.prototype.getPreparedCount=function(){return this.anP;};if(Object.defineProperties){Object.defineProperties(PCCViewer.PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}PCCViewer.PrintControl=function(domElement,options){var aeH=[];IPCC.R.ajH=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function BG(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function awq(aY,Mu){var gg=[];gg.push("pageNumber="+(1+aY));gg.push("index="+Mu);gg.push("totalPages="+options.pages.length);return gg.join('&');};function kj(aY,Mu,next){var bj={documentIdentifier:options.vsID,pageNumber:aY,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var kk=document.createElement('div');kk.className=options.paperSize+" ";kk.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';kk.id='printpage'+aY;if(options.margins==='none'){kk.className+=' nomargins';}domElement.appendChild(kk);var pv=IPCC.initializePageViewPlugin(kk,bj);pv.set_debug(false);aeH.push(pv);var AL=false;function IX(){BG(awq(aY,Mu));next();};pv.add_pageOpened(function(){var aR=pv.lN(),bF=pv.mN();var As=(options.orientation==='portrait'&&aR>bF)||(options.orientation==='landscape'&&bF>aR);if(As){pv.As(90);}});pv.add_pageDisplayed(function(){if(!AL){IX();}});pv.add_textPageReady(function(){if(AL){pv.cg();IX();}});pv.add_pageOpenFailed(function(){BG('fail');});pv.add_textExtractionFailed(function(){if(AL){BG('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.rd(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.rd(false);}}if(PCCViewer.ViewerControl.prototype.canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var acD='loadArt'+aY;var wO={pageIndex:aY,callbackName:acD};window[acD]=function(bG){var oA,Ro,G,dw={},NU={},CP='',pk,JH,fz,Fw='';var Op=[];bG.EZ(function(F){if(F.get_type()===IPCC.Web.UI.MarkType.HighlightText){AL=true;}if(options.includeRedactions&&F.jg()){Op.push(F);}if(options.includeAnnotations&& !F.jg()){Op.push(F);}});var aeA=new IPCC.Web.UI.ArtPage();IPCC.R.forEach(Op,function(F){F.kY(undefined);aeA.addMark(F);});bj.artPage=aeA;NU=options.pagedConversations[aY+1];if(options.pagedConversations&&NU&&options.includeComments==='followingPage'){oA=document.createElement('div');oA.className+='commentPage';oA.id='printcommentpage'+aY;if(options.margins==='none'){oA.className+=' nomargins';}Ro='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(G=0;G<NU.length;G++){dw=NU[G];CP+=agt(dw,aY+1);}oA.innerHTML=Ro.replace('{{pageNumber}}',aY+1).replace('{{conversationList}}',CP);domElement.appendChild(oA);}JH=options.pagedReasons[aY+1];if(options.pagedReasons&&JH&&options.includeReasons==='followingPage'){pk=document.createElement('div');pk.className+='reasonPage';pk.id='printreasonpage'+aY;if(options.margins==='none'){pk.className+=' nomargins';}Ro='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(fz in JH){if(JH.hasOwnProperty(fz)){Fw+=aeX(fz,JH[fz]);}}pk.innerHTML=Ro.replace('{{pageNumber}}',aY+1).replace('{{reasonList}}',Fw).replace('{{date}}',agN()).replace('{{count}}',options.pagedRedactionCount[aY+1]);domElement.appendChild(pk);}pv.openPage(bj);IPCC.R.forEach(Op,function(F){F.kY(bG);});};BG(JSON.stringify(wO));}else{pv.openPage(bj);}};function agt(dw,aY){var adf='',iI='',F=dw.getMark(),gm,cU,G;switch(F.aJ.kI()){case IPCC.Web.UI.MarkType.Rectangle:iI=(F.aJ.jg())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:iI='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:iI='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:iI=(F.mc==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:iI='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:iI='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:iI='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:iI='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:iI='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:iI='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:iI='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:iI='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:iI='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:iI='Text Input Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:iI='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:iI='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:iI='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:iI='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:iI='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:iI='Strikethrough Annotation';break;default:break;}gm=dw.getComments();for(G=0;G<gm.length;G++){cU=gm[G];adf+='<li>'+awW({text:cU.getText(),createDate:cU.qa.aaJ,pageNumber:aY+1})+'</li>';}return '<h3>'+iI+'</h3><ul>'+adf+'</ul>';};function awW(cU){var gD=new Date(cU.createDate),ZQ='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',gD.getMonth()+1).replace('{{day}}',gD.getDate()).replace('{{year}}',gD.getFullYear()).replace('{{hour}}',(gD.getHours()<10?'0':'')+gD.getHours()).replace('{{minutes}}',(gD.getMinutes()<10?'0':'')+gD.getMinutes()).replace('{{period}}',gD.getHours()<12?'am':'pm');var ay=cU.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',ay).replace('{{date}}',ZQ);};function agN(){var gD=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',gD.getMonth()+1).replace('{{day}}',gD.getDate()).replace('{{year}}',gD.getFullYear());};function aeX(fz,oc){fz=fz.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var apE=(oc>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',fz).replace('{{count}}',oc).replace('{{times}}',apE);};function avN(){window.onerror=function(ev){BG('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function avW(aY,Mu){return function(next){kj(aY,Mu,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var bq= +options.pages[i]-1;funcs.push(avW(bq,i));}sync(funcs,function(){var oA,Sm='',bq,DJ='',CP='',dw,F,adx='<h1>Comments</h1><hr>{{pageSections}}',pk,Fw='',aAN='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(bq in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(bq)){if(!oA){oA=document.createElement('div');oA.className+=' commentPage';oA.id='printpage_comments';if(options.margins==='none'){oA.className+=' nomargins';}}Sm='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';CP='';for(var G=0;G<options.pagedConversations[bq].length;G++){dw=options.pagedConversations[bq][G];F=dw.getMark();CP+=agt(dw,F.pageNumber);}DJ+=Sm.replace('{{pageNumber}}',F.pageNumber).replace('{{conversationList}}',CP);if(CP.length){oA.innerHTML=adx.replace('{{pageSections}}',DJ);domElement.appendChild(oA);}}}}if(options.includeReasons==='documentEnd'){DJ='';adx='';Sm='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(bq in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(bq)){if(!pk){pk=document.createElement('div');pk.className+='reasonPage';pk.id='printpage_reason';if(options.margins==='none'){pk.className+=' nomargins';}}Fw='';for(var fz in options.pagedReasons[bq]){if(options.pagedReasons[bq].hasOwnProperty(fz)){Fw+=aeX(fz,options.pagedReasons[bq][fz]);}}DJ+=Sm.replace('{{pageNumber}}',bq).replace('{{reasonList}}',Fw).replace('{{date}}',agN()).replace('{{count}}',options.pagedRedactionCount[bq]);}}if(DJ.length){pk.innerHTML=aAN.replace('{{pageSections}}',DJ);domElement.appendChild(pk);}}BG('done');});};function awp(){window['extra']=function(bool,Kr){options.encryption= ! !bool;options.pagedConversations=Kr.IQ;options.pagedReasons=Kr.Am;options.pagedRedactionCount=Kr.Ew;avN();window['extra']=function(){};};BG('extra');};function awB(){var bG;IPCC.R.forEach(aeH,function(aw){bG=aw.get_artPage();if(bG){bG.removeAllMarks();}aw.dispose();bG=undefined;});};window['destroy']=awB;awp();};}(PCCViewer));(function(PCCViewer){function afl(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function acG(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new acG(this.x,this.y);};};function aaC(bn){return(bn&&bn.nodeType===1);};function QQ(gK,KV){var TA=(KV&&IPCC.R.EC)?'m':'M';var abz=(KV&&IPCC.R.EC)?'l':'L';return IPCC.R.map(gK,function(el,i){if(i===0){return TA+el.x+','+el.y;}else{return abz+el.x+','+el.y;}}).join('');};function adu(cQ,oV,ht){return function(bi){if(IPCC.R.Fb&&bi.type.match('mouse')){bi.preventDefault();bi.stopPropagation();return false;}if(bi.preventDefault){bi.preventDefault();}else{bi.returnValue=false;}var x,y;if(bi.changedTouches){var jd=bi.changedTouches[0];if(bi.type==='touchstart'){oV=bi.target.getBoundingClientRect();}else if(bi.type==='touchend'){ht&&ht();return;}x=jd.clientX-oV.left;y=jd.clientY-oV.top;}else{x=bi.clientX-oV.left;y=bi.clientY-oV.top;}var aP=new acG(x,y);cQ.gK.push(aP);var sd=QQ(cQ.gK);if(IPCC.R.EC){cQ.dm.path=sd.toLowerCase();}else{cQ.dm.setAttribute('d',sd);}ht&&ht();};};function avm(points){var BP=3,db='',tU;var sb=(points.length<BP)?points:IPCC.R.filter(points,function(el){if(tU&&tU.close(el)){return false;}else{tU=el;return true;}});if(sb.length<BP){sb=[points[0],points[points.length-1]];}tU=undefined;if(sb.length<BP){db+=QQ(sb);}else{db='M'+IPCC.R.bspline(sb);db=db.replace(/\d*\.?\d*/g,function(dA){var Kx=dA.indexOf('.');if(dA.length&&Kx>0){return dA.substr(0,Kx+3);}else if(dA!==""){return dA;}else{return dA;}});}return db;};function SignatureControl(dom){var C=this;if(typeof dom==='string'){this.aA=document.querySelector(dom);if(!(aaC(this.aA))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(aaC(dom)){this.aA=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.Ig=[];this.oV=new afl(this.aA.getBoundingClientRect());this.gf=IPCC.R.xz.SVG([0,0,this.oV.width,this.oV.height].join(' '));this.aA.appendChild(this.gf);function FL(ev){var dm=IPCC.R.xz.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});C.gf.appendChild(dm);var cQ={gK:[],dm:dm,ht:function(){C.Ig.push(cQ.gK);IPCC.R.removeEvent(C.aA,'mousemove',Ct);IPCC.R.removeEvent(C.aA,'mouseup',Eh);if(IPCC.R.Fb){IPCC.R.removeEvent(C.aA,IPCC.R.qS['move'],Ct);IPCC.R.removeEvent(C.aA,IPCC.R.qS['up'],Eh);}if(IPCC.R.JO){IPCC.R.removeEvent(C.aA,'touchmove',Ct);IPCC.R.removeEvent(C.aA,'touchend',Eh);}}};var Ct=adu(cQ,C.oV);var Eh=adu(cQ,C.oV,cQ.ht);Ct(ev);IPCC.R.addEvent(C.aA,'mousemove',Ct);IPCC.R.addEvent(C.aA,'mouseup',Eh);if(IPCC.R.Fb){IPCC.R.addEvent(C.aA,IPCC.R.qS['move'],Ct);IPCC.R.addEvent(C.aA,IPCC.R.qS['up'],Eh);}if(IPCC.R.JO){IPCC.R.addEvent(C.aA,'touchmove',Ct);IPCC.R.addEvent(C.aA,'touchend',Eh);}};IPCC.R.addEvent(C.aA,'mousedown',FL);if(IPCC.R.Fb){this.aA.style['-ms-touch-action']='none';this.aA.style['touch-action']='none';IPCC.R.addEvent(C.aA,IPCC.R.qS['down'],FL);}if(IPCC.R.JO){IPCC.R.addEvent(C.aA,'touchstart',FL);}this.Ta=function(){C.oV=new afl(C.aA.getBoundingClientRect());C.gf.setAttribute('viewBox',[0,0,C.oV.width,C.oV.height].join(' '));};IPCC.R.addEvent(window,'resize',this.Ta);this.afa=function(){IPCC.R.removeEvent(window,'resize',C.Ta);IPCC.R.removeEvent(C.aA,'mousedown',FL);if(IPCC.R.Fb){IPCC.R.removeEvent(C.aA,IPCC.R.qS['down'],FL);}if(IPCC.R.JO){IPCC.R.removeEvent(C.aA,'touchstart',FL);}while(C.aA.firstChild){C.aA.removeChild(C.aA.firstChild);}};};SignatureControl.prototype.done=function(){var lL,mn,nH,oa,sd='M0,0',aoT=this;IPCC.R.forEach(aoT.Ig,function(pl){IPCC.R.forEach(pl,function(p){if(lL===undefined||lL>p.x){lL=p.x;}if(mn===undefined||mn>p.y){mn=p.y;}if(nH===undefined||nH<p.x){nH=p.x;}if(oa===undefined||oa<p.y){oa=p.y;}});});IPCC.R.forEach(aoT.Ig,function(pl){var azn=IPCC.R.map(pl,function(p){return new acG(p.x-lL,p.y-mn);});sd+=avm(azn);});this.afa();return{type:'path',path:sd,width:(nH-lL)||0,height:(oa-mn)||0};};SignatureControl.prototype.resize=function(){this.Ta();return this;};SignatureControl.prototype.clear=function(){var svg=this.gf;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.Ig=[];return this;};SignatureControl.prototype.undo=function(){if(this.gf.lastChild){this.gf.removeChild(this.gf.lastChild);}this.Ig.pop();return this;};SignatureControl.prototype.cancel=function(){this.afa();return this;};PCCViewer.SignatureControl=function(dom){return new SignatureControl(dom);};PCCViewer.Signatures=new PCCViewer.ObservableCollection();PCCViewer.SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var sT=IPCC.R.ZU(signature.path);var gf=IPCC.R.xz.SVG([0,0,sT.width,sT.height].join(' '));var dm=IPCC.R.xz.Path(signature.path,{width:sT.width,height:sT.height,color:'black',thickness:4});if(IPCC.R.EC){var aDJ=(sT.height/sT.width)*100;gf.style.width=dm.style.width='100%';gf.style.height=dm.style.height='0px';gf.style.paddingBottom=dm.style.paddingBottom=aDJ+'%';}else{gf.style.width='100%';gf.style.maxHeight='100%';gf.setAttribute('preserveAspectRatio','xMinYMin meet');}gf.appendChild(dm);domElement.appendChild(gf);return{width:sT.width,height:sT.height,clear:function(){domElement.removeChild(gf);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var kk=document.createElement('div');var un=document.createTextNode(signature.text);var la=(typeof signature.fontName==='string')?signature.fontName:'serif';kk.appendChild(un);kk.style.textAlign='center';kk.style.fontFamily='"'+la+'", cursive';kk.style.fontSize='2.5em';kk.style.overflow='hidden';domElement.appendChild(kk);var sT=IPCC.R.wW(signature.text,la);return{width:sT.width,height:sT.height,clear:function(){domElement.removeChild(kk);}};};if(!aaC(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aFU(){return conversation;};if(typeof comment==='string'){this.qa=new IPCC.Web.UI.Comment(comment);}else{this.qa=comment;}this.qa.Io=this;this.df=this.qa.get_data();PCCViewer.Data.extend(this);this.FZ=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};PCCViewer.Comment.prototype.getMarkupLayer=function aGy(){return this.jE;};PCCViewer.Comment.prototype.getText=function aFI(){return this.qa.get_text();};PCCViewer.Comment.prototype.setText=function aHp(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.qa.set_text(text);return this;};PCCViewer.Comment.prototype.getCreationTime=function aFx(){var arR=IPCC.R.JA(this.qa.get_creationTime());return new Date(arR);};PCCViewer.Comment.prototype.setCreationTime=function aHA(time){function aeB(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var amI=IPCC.R.JA(time);if(amI instanceof Error){aeB();}time=new Date(amI);}if(!(time instanceof Date)){aeB();}this.qa.set_creationTime(IPCC.R.AS(time));return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}PCCViewer.Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function Sf(){return mark;};this.lw=new PCCViewer.ObservableCollection();if(typeof mark.aJ!=="undefined"){this.AP=mark.aJ.get_conversation();this.AP.forEach(function(qa){var cU=new PCCViewer.Comment(qa,this);this.lw.add(cU);},this);}else{this.AP=new IPCC.Web.UI.Conversation();}this.df=this.AP.get_data();PCCViewer.Data.extend(this);this.FZ=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};PCCViewer.Conversation.prototype.addComment=function Ld(commentText){var cU=new PCCViewer.Comment(commentText,this);this.lw.add(cU);this.AP.addComment(cU.qa);return cU;};PCCViewer.Conversation.prototype.deleteComments=function(comments){var C=this;var alK=this.lw.toArray();var ajJ=function(cU){for(var i=0,length=alK.length;i<length;i++){if(alK[i]===cU){return true;}}return false;};function afh(cU,fk){throw new Error(cU+((fk!==undefined)?' (Array index '+fk+')':'')+' is not a PCCViewer.Comment object.');};function afG(cU,fk){throw new Error(((fk!==undefined)?' (Array index '+fk+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!ajJ(comments)){afG(comments);}C.lw.remove(comments);C.AP.removeCommentInstance(comments.qa);}else if(comments instanceof Array){IPCC.R.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){afh(el,idx);}if(!ajJ(el)){afG(el,idx);}});IPCC.R.forEach(comments,function(el){C.lw.remove(el);C.AP.removeCommentInstance(el.qa);});}else{afh(comments);}return this;};PCCViewer.Conversation.prototype.getComments=function(){return this.lw.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};PCCViewer.Conversation.ub=function(hs,qm){if(typeof hs.getComments!=="function"||typeof qm.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.qc(hs,qm);var gm=hs.getComments(),i,length=gm.length;for(i=0;i<length;i++){var anq=gm[i];var arr=qm.addComment(anq.getText());PCCViewer.Data.qc(anq,arr);}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.ImageStamps=function(Options){this.aa=PCCViewer.BK.ur({},Options);};PCCViewer.ImageStamps.prototype.requestImageStampList=function(){var aZ=PCCViewer.Deferred();var dQ=aZ.getPromise();try{var dk=this.aa.imageHandlerUrl+'/ImageStampList';PCCViewer.Ajax.es({method:'GET',url:dk}).then(function fe(ao){var uo;if(ao.responseText.length>0){uo=JSON.parse(ao.responseText);if(ao.status===200){aZ.resolve(uo);}else{aZ.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function fg(ap){aZ.reject(ap.error);});}catch(e){aZ.reject(new PCCViewer.Error("Error",e.message));}return dQ;};PCCViewer.ImageStamps.prototype.reqestImageSourceBase64=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var aZ=PCCViewer.Deferred();var dQ=aZ.getPromise();try{var dk=this.aa.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Base64';PCCViewer.Ajax.es({method:'GET',url:dk,}).then(function fe(ao){var uo;if(ao.responseText.length>0){uo=JSON.parse(ao.responseText);if(ao.status===200){aZ.resolve(uo);}else{aZ.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function fg(ap){aZ.reject(ap.error);});}catch(e){aZ.reject(new PCCViewer.Error("Error",e.message));}return dQ;};PCCViewer.ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.aa.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};})(PCCViewer||{});(function(undefined){PCCViewer.DocumentHyperlink=function DocumentHyperlink(parameters){this.CC=parameters.CC;this.aY=parameters.aY;};PCCViewer.DocumentHyperlink.prototype.getHref=function(){return this.CC.anF();};PCCViewer.DocumentHyperlink.prototype.getPageNumber=function(){return this.aY;};PCCViewer.DocumentHyperlink.prototype.getRectangle=function(){return this.CC.eo();};if(Object.defineProperties){Object.defineProperties(PCCViewer.DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}PCCViewer.ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var aY;var aZ=PCCViewer.Deferred();var dQ=aZ.getPromise();var cw=this;try{if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aY=parseInt(pageNumber,10);}}if(aY<1||aY>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var acA=this.Iw[aY-1];if(!acA){acA=this.Iw[aY-1]=new PCCViewer.Deferred();this.If.then(function(){var bq=cw.cl.getPage(aY-1);bq.zd();});}aZ.resolve(acA.getPromise());}catch(e){aZ.reject(new PCCViewer.Error('Error',e));}return dQ;};PCCViewer.ViewerControl.prototype.aux=function(aBI){var i,j,xo;for(j=0;j<this.Ys.length;j++){xo=this.Ys[j];if(xo){for(i=0;i<xo.length;i++){if(xo[i].CC.MK()===aBI){return xo[i];}}}}return null;};})();var PCCViewer=window.PCCViewer||{};PCCViewer.Search=function(){this.UG=[];this.ce={};this.mC=[];this.fk=0;this.ca='';this.Rs={};this.HQ=[];this.Kh=0;this.cZ={};this.Yb=0;this.iE=false;var C=this;this.asu=function(akM,aU){var G=0;var aqR=function(sender,H){if(H.error=== -1){C.aEw();return;}try{if(C.iE===false){C.aBX(H.textPagesReceived,H.error,aU);}}catch(e){C.ce.dg=e.message;C.ce.hX="1010";C.ce.zk=true;setTimeout(function(){C.ce.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){C.ce.trigger("SearchCompleted",{completedSearchResults:(C.mC)});},10);C.iE=true;return;}};try{if(akM===false){aU.add_textPagesReceived(aqR);}C.cZ=this.buildSearchObject();for(G;G<aU.fG;G++){C.UG[G]=false;}if(akM){this.aCO(aU);}}catch(e){C.ce.dg=e.message;C.ce.hX="1010";C.ce.zk=true;setTimeout(function(){C.ce.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){C.ce.trigger("SearchCompleted",{completedSearchResults:(C.mC)});},10);return;}};this.aEw=function(){C.ce.dg="Unable to communicate with server, please retry loading the document.";C.ce.hX="1011";C.ce.zk=true;setTimeout(function(){C.ce.trigger("SearchFailed",{errorMessage:("Unable to communicate with server, please retry loading the document.")});},10);setTimeout(function(){C.ce.trigger("SearchCompleted",{completedSearchResults:(C.mC)});},10);C.iE=true;};this.aCO=function(aU){var G=0;for(G=0;G<aU.fG;G++){var ay=this.aig(aU,G);if(!ay&&ay!==null){C.HQ[C.Kh]=G;C.Kh++;continue;}this.ade(ay,G,aU);if(C.ce.pN){break;}}C.ce.eZ=C.mC;C.ce.zk=true;C.ce.Vl=C.HQ;setTimeout(function(){C.ce.trigger("SearchResultsAvailable",{completedSearchResults:(C.mC)});},10);setTimeout(function(){C.ce.trigger("SearchCompleted",{completedSearchResults:(C.mC)});},10);};this.aBX=function(AI,Qt,aU){var G=0;for(G=0;G<AI.length;G++){if(C.UG[AI[G]]===false){C.UG[AI[G]]=true;var ay=this.aig(aU,AI[G]);if(!ay&&ay!==null){C.HQ[C.Kh]=AI[G];C.Kh++;continue;}this.ade(ay,AI[G],aU);if(C.ce.pN){break;}}}if(((aU.fG-1)===AI[G-1]||C.ce.pN)&& !C.ce.zk){C.ce.eZ=C.mC;C.ce.Vl=C.HQ;C.ce.zk=true;setTimeout(function(){C.ce.trigger("SearchResultsAvailable",{completedSearchResults:(C.mC)});},10);setTimeout(function(){C.ce.trigger("SearchCompleted",{completedSearchResults:(C.mC)});},10);}};this.buildSearchObject=function(){var Oj=[];for(var G=0;G<C.Rs.searchTerms.length;G++){var ca=C.Rs.searchTerms[G];var pb=C.EU(ca.type);var Na;switch(pb){case 'proximity':var vH={Sg:ca,cZ:[],type:ca.type,highlightColor:this.Xk(ca.highlightColor),distance:ca.distance,contextPadding:ca.contextPadding};for(var x=0;x<ca.terms.length;x++){var VJ=ca.terms[x];Na=this.amv(VJ);vH.cZ=vH.cZ.concat(Na);}Oj.push(vH);break;default:Na=this.amv(ca);Oj=Oj.concat(Na);break;}}return Oj;};this.amv=function(ca){var eZ=[];var cZ={};if(ca.matchingOptions.exactPhrase===false&&ca.searchTermIsRegex===false){var BW=ca.searchTerm.split(' ');for(var bB=0;bB<BW.length;bB++){cZ={};if(BW[bB].length<0){continue;}cZ.searchText=BW[bB];cZ.Sg=ca;if(ca.matchingOptions.matchWholeWord){cZ.searchTerm=this.akQ(this.FO(BW[bB]),ca.matchingOptions);}else{if(ca.matchingOptions.wildcard===true){cZ.searchTerm=this.akc(this.FO(BW[bB]),ca.matchingOptions);}else if(ca.matchingOptions.beginsWith===true||ca.matchingOptions.endsWith===true){cZ.searchTerm=this.ajQ(this.FO(BW[bB]),ca.matchingOptions);}else{cZ.searchTerm=this.alG(BW[bB],ca.matchingOptions,false);}}cZ.highlightColor=this.Xk(ca.highlightColor);eZ.push(cZ);}}else{cZ={};cZ.searchText=ca.searchTerm;cZ.Sg=ca;if(ca.matchingOptions.matchWholeWord){cZ.searchTerm=this.akQ(this.FO(ca.searchTerm),ca.matchingOptions);}else{if(ca.matchingOptions.wildcard===true){cZ.searchTerm=this.akc(this.FO(ca.searchTerm),ca.matchingOptions);}else if(ca.matchingOptions.beginsWith===true||ca.matchingOptions.endsWith===true){cZ.searchTerm=this.ajQ(this.FO(ca.searchTerm),ca.matchingOptions);}else{cZ.searchTerm=this.alG(ca.searchTerm,ca.matchingOptions,ca.searchTermIsRegex);}}cZ.highlightColor=this.Xk(ca.highlightColor);eZ.push(cZ);}return eZ;};this.ajp=function(ay){var aiY=0;var mx=IPCC.R.map(ay.match(/\S+\s*/gim),function(xy,Ko){var aeg=ay.indexOf(xy,aiY);var aqv={bC:Ko,ay:xy,hF:aeg,amm:aeg+xy.length};aiY+=xy.length;return aqv;});return mx;};this.ade=function(Vo,ai,aU){var Tu=[];var d=new Date();var oM=d.getTime();var bq=aU.cI.kj(ai);var iF=bq.cT();var wf=iF.fI();var mx;var Ws=IPCC.R.find(C.cZ,function(cZ){return C.EU(cZ.type)==='proximity';});if(Ws){mx=this.ajp(Vo);}IPCC.R.forEach(C.cZ,function(cZ,G){var eZ;var pb=C.EU(cZ.type);switch(pb){case 'proximity':eZ=C.ahY(oM,cZ,Vo,mx,wf);break;default:eZ=C.XD(oM,cZ,Vo,wf);break;}IPCC.R.forEach(eZ,function(ap){ap.ct=C.fk;ap.aY=ai+1;ap.PR=aU.get_documentIdentifier();C.mC[C.fk]=ap;C.fk++;Tu.push(ap);});});C.ce.eZ=C.mC;if(Tu.length){setTimeout(function(){C.ce.trigger("PartialSearchResultsAvailable",{partialSearchResults:(Tu),pagesWithoutText:(C.HQ)});},10);}};this.ahY=function(oM,vH,Ar,mx,wf){var aaA= !wf;var Kd=[];var Hs=[];var apa=vH.cZ.length;var aDb=apa-1;IPCC.R.forEach(vH.cZ,function(cZ){var eZ=C.XD(oM,cZ,Ar,wf);Hs=Hs.concat(eZ);});Hs.sort(function(cW,ez){return cW.hF-ez.hF;});function axX(ap){var Er=ap.hF+ap.ay.length;var Rw,agI;IPCC.R.find(mx,function(xy,Ko){if(ap.hF>=xy.hF&&ap.hF<xy.amm){Rw=Ko;return true;}});var aAZ=mx[Rw];IPCC.R.find(mx,function(xy,Ko){if(ap.hF>aAZ.hF&&Er<=xy.amm){agI=Ko;return true;}});var adr=Rw+1;if(adr>=mx.length){return false;}var Ya=((agI||Rw)+1)+vH.distance;if(Ya>=mx.length){Ya=mx.length-1;}var ayn=mx[adr];var axn=mx[Ya];var aiZ={};var aiN=0;IPCC.R.find(Hs,function(EJ){if(ap.cZ===EJ.cZ){return;}if(EJ.hF<ayn.hF){return;}if(EJ.hF>axn.hF){return true;}if(!aiZ[EJ.cZ.searchTerm]){aiZ[EJ.cZ.searchTerm]=true;aiN++;}ap.ame=EJ;});return aiN===aDb;};var aqz=IPCC.R.filter(Hs,axX);IPCC.R.forEach(aqz,function(ap){var ii=C.aob({type:aaA?'TaskResult':'Result',pageCharachterList:wf,searchText:Ar},{ca:vH.Sg,oM:oM,wY:vH.highlightColor,hF:ap.hF,ay:Ar.substring(ap.hF,ap.ame.hF+ap.ame.ay.length)});Kd.push(ii);});return Kd;};this.XD=function(oM,cZ,Ar,wf){var aaA= !wf;var Kd=[];var agx=cZ.searchTerm;var RE=agx.exec(Ar);while(RE!==null){var aAQ=RE[0];var ii=this.aob({type:aaA?'TaskResult':'Result',pageCharachterList:wf,searchText:Ar},{oM:oM,cZ:cZ,ca:cZ.Sg,hF:RE.index,ay:aAQ,wY:cZ.highlightColor});Kd.push(ii);RE=agx.exec(Ar);}return Kd;};this.arC=function(ay,afN,Er,KC){KC=KC||0;var ajE=Math.max(afN-KC,0),asU=Math.min(Er+KC,ay.length);return{aM:(ajE===0)?afN:KC,aDF:ay.substring(ajE,asU)};};this.aob=function(aa,aAn){var aAW=IPCC.R.trim(aa.type||'').toLowerCase();var ap;switch(aAW){case "taskresult":ap=new PCCViewer.SearchTaskResult();break;default:ap=new PCCViewer.SearchResult();break;}IPCC.R.extend(ap,aAn);var Er=ap.hF+ap.ay.length;var cQ=this.arC(aa.searchText,ap.hF,Er,ap.ca.contextPadding);ap.cQ=cQ.aDF;ap.El=cQ.aM;if(aa.pageCharachterList){var hm=Number.MAX_VALUE,gL=0,_top=Number.MAX_VALUE,hM=0;for(var bB=ap.hF;bB<Er-1;bB++){var fn=aa.pageCharachterList.jY(bB);if(fn.aD.x<hm){hm=fn.aD.x;}if(fn.aD.x+fn.aD.width>gL){gL=fn.aD.x+fn.aD.width;}if(fn.aD.y<_top){_top=fn.aD.y;}if(fn.aD.y+fn.aD.height>hM){hM=fn.aD.y+fn.aD.height;}}ap.pS={width:gL-hm,height:hM-_top,x:hm,y:_top};}return ap;};this.aig=function(aU,ai){var bq=aU.cI.kj(ai);var iF=bq.cT();var ay=iF.Gk();return ay;};this.akQ=function(uq,pV){var wJ=new RegExp('\\b'+uq+'\\b',this.vW(pV.matchCase));return wJ;};this.ajQ=function(uq,pV){if(pV.beginsWith){return new RegExp("\\b"+uq+'(\\w+)',this.vW(pV.matchCase));}if(pV.endsWith){uq=uq.replace("*","");return new RegExp('(\\w+)'+uq+"\\b",this.vW(pV.matchCase));}};this.FO=function(uq){return uq.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.akc=function(vC,pV){vC=vC.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(vC==='\\*'){var cj=new Error("The search term must contain one or more non-wildcard characters.");cj.aCe=true;throw cj;}vC=vC.replace(/\\\?/g,'.');var hx=this.MG(vC);var Vy,UW,wJ,abM;var JC=vC.substring(0,1);for(var G=0;G<hx.length;++G){if(G>0){Vy=hx.substring(G-1,G);}JC=hx.substring(G,G+1);if(G<hx.length){UW=hx.substring(G+1,G+2);}if(G===0){if(JC==='*'&&UW===" "||JC==='*'&&UW==="*"){hx=hx.substring(2,hx.length);}}if(G+1===hx.length){if(JC==='*'&&Vy===" "||JC==='*'&&Vy==="*"){hx=hx.substring(0,hx.length-2);}}}hx=hx.replace(/^\s+|\s+$/g,'');var ain=hx.indexOf('*');if(ain===1){hx=hx.replace(/\\\*/g,'\\S*')+'\\S*';}else if(ain===hx.length-1){hx='\\S*'+hx.replace(/\\\*/g,'\\S*');}else{if(pV.exactPhrase===false){hx=hx.replace(/\\\*/g,'.*?');}else{hx=hx.replace(/\\\*/g,'\\S*');}}wJ=new RegExp(hx,this.vW(pV.matchCase));if(hx.substring(0,1)!=='*'&&abM!=='*'){wJ=new RegExp('\\b'+hx+'\\b',this.vW(pV.matchCase));}if(hx.substring(0,1)==='*'&&abM!=='*'){wJ=new RegExp(hx+'\\b',this.vW(pV.matchCase));}if(hx.substring(0,1)!=='*'&&abM==='*'){wJ=new RegExp('\\b'+hx,this.vW(pV.matchCase));}return wJ;};this.MG=function(uq){return uq.replace(/\ /g,'\\s+');};this.alG=function(My,matchingOptions,isRegex){var vR='';if(isRegex===true){vR=this.MG(My);}else if(matchingOptions.wildcard===true){vR=My.replace(/[-[\]{}()+,^$|#]/g,"\\$&");vR=this.MG(vR);}else if(matchingOptions.exactPhrase){vR=My.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");vR=this.MG(vR);}else{vR=My.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}return new RegExp(vR,this.vW(matchingOptions.matchCase));};this.vW=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aFB=function(vC){var wJ=new RegExp('\\b'+vC+'\\b',C.vW());return wJ;};var aiP=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.Xk=function(fr){if(!fr){return aiP[C.Yb++ %aiP.length];}else{return fr;}};this.asH=function(ay){try{this.axs(ay);}catch(e){C.ce.dg=e.message;C.ce.hX="1010";return;}};this.axs=function(ay){var d=new Date();var oM=d.getTime();var mx;var Ws=IPCC.R.find(C.cZ,function(cZ){return C.EU(cZ.type)==='proximity';});if(Ws){mx=mx=this.ajp(ay);}IPCC.R.forEach(C.cZ,function(cZ,G){var eZ;var pb=C.EU(cZ.type);switch(pb){case 'proximity':eZ=C.ahY(oM,cZ,ay,mx);break;default:eZ=C.XD(oM,cZ,ay);break;}IPCC.R.forEach(eZ,function(ap){ap.ct=C.fk;C.mC[C.fk]=ap;C.fk++;});});C.ce.eZ=C.mC;};this.aku=function(ja){if(typeof ja==='string'){ja={searchTerms:[{searchTerm:ja,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return ja;}IPCC.R.forEach(ja.searchTerms,function(ca){if(!ca.matchingOptions){ca.matchingOptions={};}var pb=C.EU(ca.type);switch(pb){case 'proximity':IPCC.R.forEach(ca.terms,function(VJ){C.ajV(VJ);});break;default:C.ajV(ca);break;}});return ja;};this.ajV=function(ca){if(typeof ca.contextPadding==="undefined"){ca.contextPadding=25;}if(typeof ca.searchTermIsRegex==="undefined"){ca.searchTermIsRegex=false;}if(typeof ca.matchingOptions==="undefined"){ca.matchingOptions={};}if(!ca.matchingOptions.hasOwnProperty('matchCase')){ca.matchingOptions.matchCase=false;}if(!ca.matchingOptions.hasOwnProperty('exactPhrase')){ca.matchingOptions.exactPhrase=true;}if(!ca.matchingOptions.hasOwnProperty('matchWholeWord')){ca.matchingOptions.matchWholeWord=false;}if(!ca.matchingOptions.hasOwnProperty('beginsWith')){ca.matchingOptions.beginsWith=false;}if(!ca.matchingOptions.hasOwnProperty('endsWith')){ca.matchingOptions.endsWith=false;}if(!ca.matchingOptions.hasOwnProperty('wildcard')){ca.matchingOptions.wildcard=false;}if(typeof ca.highlightColor!=='undefined'){try{IPCC.aV.fr(ca.highlightColor,"selectText");}catch(e){ca.highlightColor=undefined;}}};this.EU=function(pb){if(!pb|| !IPCC.R.trim(pb)){return 'regular';}return IPCC.R.trim(pb).toLowerCase();};};PCCViewer.Search.prototype._search=function(searchQuery,TQ,aU){this.cZ={};this.ce=new PCCViewer.SearchRequest();this.Rs=searchQuery;this.mC.length=0;this.ce.ja=searchQuery;this.HQ.length=0;this.Kh=0;this.fk=0;this.ca=searchQuery;this.Yb=0;this.asu(TQ,aU);return this.ce;};PCCViewer.Search.prototype.aDm=function(searchQuery){this.cZ={};this.ce=new PCCViewer.SearchRequest();this.Rs=searchQuery;this.mC.length=0;this.ce.ja=searchQuery;this.fk=0;this.ca=searchQuery;this.Yb=0;return this.ce;};PCCViewer.SearchTask=function(searchQuery){this.aeO(searchQuery);var _search=new PCCViewer.Search();searchQuery=_search.aku(searchQuery);this.ce=_search.aDm(searchQuery);try{_search.cZ=_search.buildSearchObject();}catch(e){if(e.aCe){throw new Error(e.message);}else{throw new Error(e.message);}}this.search=function(text){_search.mC=[];_search.fk=0;_search.asH(text);return _search.mC;};};PCCViewer.SearchTask.prototype.aeO=function(searchQuery){if(typeof searchQuery==='string'){return;}var adS;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){adS=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.R.forEach(adS,function(Eg,G){var pb=Eg.type?IPCC.R.trim(Eg.type).toLowerCase():undefined;switch(pb){case 'proximity':IPCC.R.forEach(Eg.terms,function(aBe,aF){if(!afH(aBe)){throw new Error("Search term index "+aF+" under Proximity search term index "+G+" does not have a valid `searchTerm` string property.");}});break;default:if(!afH(Eg)){throw new Error("Search term index "+G+" does not have a valid `searchTerm` string property.");}break;}});function afH(Eg){return(typeof Eg.searchTerm==='string');}};var PCCViewer=window.PCCViewer||{};PCCViewer.SearchRequest=function(){this.lo={};this.ja={};this.eZ=[];this.zk=false;this.hX=null;this.dg=null;this.Vl=[];PCCViewer.EventEmitter.extend(this);};PCCViewer.SearchRequest.prototype.getSearchQuery=function(){return this.ja;};PCCViewer.SearchRequest.prototype.getResults=function(){return this.eZ;};PCCViewer.SearchRequest.prototype.getIsComplete=function(){return this.zk;};PCCViewer.SearchRequest.prototype.getErrorCode=function(){return this.hX;};PCCViewer.SearchRequest.prototype.getErrorMessage=function(){return this.dg;};PCCViewer.SearchRequest.prototype.getPagesWithoutText=function(){return this.Vl;};PCCViewer.SearchRequest.prototype.cancel=function(){this.pN=true;this.trigger('SearchCancelled');};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchRequest.prototype,{"searchQuery":{enumerable:true,get:function(){return this.ja;}},"results":{enumerable:true,get:function(){return this.eZ;}},"isComplete":{enumerable:true,get:function(){return this.zk;}},"errorCode":{enumerable:true,get:function(){return this.hX;}},"errorMessage":{enumerable:true,get:function(){return this.dg;}}});}var PCCViewer=window.PCCViewer||{};PCCViewer.SearchResult=function(){this.ct=0;this.aY=0;this.aM=0;this.ay='';this.wY='';this.hF=0;this.cQ='';this.El=0;this.ca='';this.PR='';this.pS=null;};PCCViewer.SearchResult.prototype.getId=function(){return this.ct;};PCCViewer.SearchResult.prototype.getPageNumber=function(){return this.aY;};PCCViewer.SearchResult.prototype.getText=function(){return this.ay;};PCCViewer.SearchResult.prototype.getHighlightColor=function(){return this.wY;};PCCViewer.SearchResult.prototype.getStartIndexInPage=function(){return this.hF;};PCCViewer.SearchResult.prototype.getContext=function(){return this.cQ;};PCCViewer.SearchResult.prototype.getStartIndexInContext=function(){return this.El;};PCCViewer.SearchResult.prototype.getSearchTerm=function(){return this.ca;};PCCViewer.SearchResult.prototype.getBoundingRectangle=function(){return this.pS;};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.aY;}},"id":{enumerable:true,get:function(){return this.ct;}},"text":{enumerable:true,get:function(){return this.ay;}},"highlightColor":{enumerable:true,get:function(){return this.wY;}},"startIndexInPage":{enumerable:true,get:function(){return this.hF;}},"context":{enumerable:true,get:function(){return this.cQ;}},"startIndexInContext":{enumerable:true,get:function(){return this.El;}},"searchTerm":{enumerable:true,get:function(){return this.ca;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}PCCViewer.SearchTaskResult=function(){this.ct=0;this.aM=0;this.ay='';this.wY='';this.hF=0;this.cQ='';this.El=0;this.ca='';};PCCViewer.SearchTaskResult.prototype.getId=function(){return this.ct;};PCCViewer.SearchTaskResult.prototype.getText=function(){return this.ay;};PCCViewer.SearchTaskResult.prototype.getHighlightColor=function(){return this.wY;};PCCViewer.SearchTaskResult.prototype.getStartIndexInInput=function(){return this.hF;};PCCViewer.SearchTaskResult.prototype.getContext=function(){return this.cQ;};PCCViewer.SearchTaskResult.prototype.getStartIndexInContext=function(){return this.El;};PCCViewer.SearchTaskResult.prototype.getSearchTerm=function(){return this.ca;};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.ct;}},"text":{enumerable:true,get:function(){return this.ay;}},"highlightColor":{enumerable:true,get:function(){return this.wY;}},"startIndexInInput":{enumerable:true,get:function(){return this.hF;}},"context":{enumerable:true,get:function(){return this.cQ;}},"startIndexInContext":{enumerable:true,get:function(){return this.El;}},"searchTerm":{enumerable:true,get:function(){return this.ca;}}});}(function(PCCViewer){PCCViewer.BurnRequest=function(aa){this.qz="";this.eK="";this.mz=0;this.sK="";this.hX="";this.uF=0;this.fY=false;this.uz=0;this.abS="";this.pN=false;this.aZ=PCCViewer.Deferred();this.dQ=this.aZ.getPromise();this.then=this.dQ.then;this.aa=aa;this.hX=null;this.gb=undefined;this.xd=false;this.Qo=null;PCCViewer.EventEmitter.extend(this);};PCCViewer.BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};PCCViewer.BurnRequest.prototype.cancel=function(){var C=this;this.pN=true;this.hX="User Cancelled";setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aZ.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};PCCViewer.BurnRequest.prototype.getProgress=function(){return this.mz;};PCCViewer.BurnRequest.prototype.getWorkerID=function(){return this.qz;};PCCViewer.BurnRequest.prototype.getOptions=function(){return this.aa;};PCCViewer.BurnRequest.prototype.getErrorCode=function(){return this.hX;};PCCViewer.BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.Qo;};PCCViewer.BurnRequest.prototype.anH=function(md){this.abS=md;};PCCViewer.BurnRequest.prototype.OA=function(gb){this.gb=gb;};PCCViewer.BurnRequest.prototype.Tx=function(){var C=this;this.hX="Failure to generate Markup XML";setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aZ.reject(new PCCViewer.Error("MarkupXMLFail",C.hX));},0);return this;};PCCViewer.BurnRequest.prototype.Fd=function(){function fe(ao){var hD,ap;try{hD=ao.responseText;if(!hD){setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aZ.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);C.xd=true;return;}else{if(typeof JSON!=='undefined'){ap=JSON.parse(hD);}else{ap=IPCC.dh.qY(hD);}setTimeout(function(){aBt(ap);},0);}}catch(e){setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aZ.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);C.xd=true;return;}};function fg(ap){C.fY=false;var aI=ap.response.status+" "+ap.response.statusText;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aZ.reject(new PCCViewer.Error("StatusCode","Status Code "+aI));},0);C.xd=true;return;};try{if(!this.abS){throw new Error("XMl Markup data for burn is missing");}var C=this;var adL=function(){var WW;if(!(/^[\x00-\x7F]*$/.test(C.gb.aU.get_documentIdentifier()))){WW=C.gb.aa.imageHandlerUrl+'/ViewingSession/e'+C.gb.aa.documentID+'/MarkupBurner/'+C.qz;}else{WW=C.gb.aa.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(C.gb.aa.documentID)+'/MarkupBurner/'+C.qz;}PCCViewer.Ajax.es({method:'GET',url:WW,headers:{'Content-Type':'application/json'}}).then(fe,fg);};var aBt=function(hI){if(hI){if(C.pN===true){C.fY=false;return;}if(hI.percentComplete>=0&&C.fY===true){if(hI.percentComplete===100&&hI.state==='complete'){if(hI.processId){C.fY=false;C.qz=hI.processId;C.eK=hI.state;C.uF+=1;C.uz=1000;C.mz= +(hI.percentComplete);var Mq;if(!(/^[\x00-\x7F]*$/.test(C.gb.aU.get_documentIdentifier()))){Mq=C.gb.aa.imageHandlerUrl+'/ViewingSession/e'+C.gb.aa.documentID+'/MarkupBurner/'+C.qz+"/Document";}else{Mq=C.gb.aa.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(C.gb.aa.documentID)+'/MarkupBurner/'+C.qz+"/Document";}if(C.aa.filename){Mq+="?ContentDispositionFilename="+C.aa.filename;}C.Qo=Mq;C.xd=true;var azQ= +(hI.percentComplete);setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});C.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:azQ});C.aZ.resolve(Mq);},10);return;}}else{if(hI.state==='error'){C.fY=false;C.hX=hI.errorCode;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aZ.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+C.hX));},0);C.fY=false;C.xd=true;return;}if(hI.processId){var TM= +(hI.percentComplete);if(C.mz!==TM){setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:TM});},10);}if(!C.qz){C.qz=hI.processId;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);C.eK=hI.state;C.uF=1;C.fY=true;C.uz=1000;C.mz= +(hI.percentComplete);}if(hI.percentComplete<100){if(C.uF>1){C.uz+=1000;}C.uF+=1;C.eK=hI.state;C.mz= +(hI.percentComplete);if(C.fY===true&&C.pN===false&&C.xd===false){setTimeout(adL,C.uz);}}}}}else{if(C.xd===false){var VT=false;if(C.fY===false){if(hI.state==='complete'){if(!C.Qo){VT=true;}else{C.xd=true;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});C.aZ.resolve(C.Qo);},10);return;}}if(hI.state==='processing'&&hI.errorCode===null){if(hI.percentComplete>=0&&hI.percentComplete<100){if(C.uF>1){C.uz+=1000;}C.uF+=1;C.fY=true;C.eK=hI.state;C.mz= +(hI.percentComplete);if(C.fY===true&&C.pN===false){setTimeout(adL,C.uz);}}else{VT=true;}}if(hI.state==='error'||VT===true){C.fY=false;C.hX=hI.errorCode;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aZ.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+hI.errorCode));},0);C.fY=false;C.xd=true;return;}}}}}};var dk;if(!(/^[\x00-\x7F]*$/.test(C.gb.aU.get_documentIdentifier()))){dk=C.gb.aa.imageHandlerUrl+'/ViewingSession/e'+C.gb.aa.documentID+'/MarkupBurner';}else{dk=C.gb.aa.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(C.gb.aa.documentID)+'/MarkupBurner';}PCCViewer.Ajax.es({method:'POST',url:dk,headers:{'Content-Type':'application/xml'},body:C.abS}).then(fe,fg);C.fY=true;}catch(e){this.fY=false;var aE=this,gg=e.message;setTimeout(function(){aE.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});aE.aZ.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+gg));},0);this.xd=true;}};if(Object.defineProperties){Object.defineProperties(PCCViewer.BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}})(PCCViewer||{});(function(PCCViewer){var aaw=function(){},pw={ajd:0,aAO:1,axq:2};PCCViewer.ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.R.vN(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var C=this;this.pw=pw.ajd;this.aa=viewerControl.aa;this._debug= ! !this.aa.debug;this.QA="Single";this.Lq=[];this.ss={};if(!this.cw){this.cw=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.bg=domElement;if(viewerControl.qd){C.pw=pw.axq;C.VF(viewerControl.getPageCount());C.YV(C.bg);}else{C.pw=pw.aAO;C.VF(1,0);viewerControl.on('PageCountReady',function(){C.VF(viewerControl.getPageCount(),1);C.YV(C.bg);});}viewerControl.on('PageRotated',function(bi){IPCC.R.forEach(C.ss,function(dJ){if(dJ.ai===(bi.pageNumber-1)){if(dJ.Be===true){C.aba(dJ);}}});});viewerControl.on('DocumentRotated',function(bi){IPCC.R.forEach(C.ss,function(dJ){if(dJ.Be===true){C.aba(dJ);}});});};PCCViewer.ThumbnailControl.prototype.getViewerControl=function(){return this.cw;};PCCViewer.ThumbnailControl.prototype.VF=function(fG,lm){lm=lm||0;var C=this,KP=document.createDocumentFragment();for(var i=lm;i<fG;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var dv=document.createElement('div');dv.className='pccThumbnail';var tj=document.createElement('div');tj.className='pccThumbnailView';tj.id='pcc-thumbnailPage-'+i+'-'+IPCC.Ef();dv.appendChild(tj);_parent.appendChild(dv);KP.appendChild(_parent);C.ss[i]={abr:_parent,aA:dv,tj:tj,ai:i,aw:{},Be:false,kf:0,kp:0,ci:0};}IPCC.R.forEach(C.ss,function(dJ){var aaF=document.createElement('div'),yL=document.createElement('span'),aBO=document.createTextNode(dJ.ai+1);aaF.className='pccThumbnailLabel';yL.appendChild(aBO);aaF.appendChild(yL);dJ.aA.appendChild(aaF);dJ.aA.onclick=function(){C.ahz([dJ.ai+1]);};});C.bg.appendChild(KP);this.Vm();return this;};PCCViewer.ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};PCCViewer.ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.pw){return[];}return[].concat(this.Lq);};PCCViewer.ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.pw){return this;}var fG=this.cw.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.R.forEach(pageNumbers,function(eO,G){if(isNaN(eO)){throw new Error(eO+' (array index '+G+') is not a number');}if(eO<1||eO>fG){throw new Error(eO+' (array index '+G+') is out of range');}});this.ahz([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}PCCViewer.ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var eO=Number(pageNumber);if(eO!==(eO|0)||eO<1||eO>this.cw.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var jI=false,C=this,aa=options||{};IPCC.R.forEach(this.ss,function(dJ){if(jI){return;}if(dJ.ai+1===eO){jI=true;C.VV(dJ,undefined,! !aa.forceAlignTop);}});return this;};PCCViewer.ThumbnailControl.prototype.VV=function(dJ,mK,awC){mK=mK||IPCC.R.UM(this.bg.getBoundingClientRect());var vz=IPCC.R.UM(dJ.abr.getBoundingClientRect());if(vz.top>mK.top&&vz.bottom<mK.bottom){return;}var adc=window.getComputedStyle?getComputedStyle(dJ.abr):dJ.abr.currentStyle,iG;if(vz.top<mK.top||awC){iG=vz.top-mK.top+this.bg.scrollTop-parseInt(adc.marginTop,10);}else if(vz.bottom>mK.bottom){iG=vz.bottom-mK.top-mK.height+this.bg.scrollTop+parseInt(adc.marginBottom,10);}if(iG!==undefined){this.bg.scrollTop=iG;}return this;};PCCViewer.ThumbnailControl.prototype.ahz=function(kJ){if(IPCC.R.axj(this.Lq,kJ)){return this;}var Tm='pcc-thumbnail-selected',GR=new RegExp(Tm),SQ=false,amq=[].concat(kJ),akj=amq.shift(),afP=false,mK=IPCC.R.UM(this.bg.getBoundingClientRect()),C=this;IPCC.R.forEach(this.ss,function(dJ){if(dJ.ai===akj-1){IPCC.R.acs(dJ.aA,Tm);SQ=true;akj=amq.shift()||0;if(!afP){afP=true;C.VV(dJ,mK);}return;}if(GR.test(dJ.aA.className)){IPCC.R.adv(dJ.aA,Tm);SQ=true;}});this.Lq=kJ;if(SQ){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.Lq)});}return this;};PCCViewer.ThumbnailControl.prototype.atQ=function(){var ge=this.NZ(),C=this,yb;IPCC.R.forEach(ge,function(dJ){if(!yb&&IPCC.R.inArray(C.Lq,dJ.ai+1)){yb=dJ;}});if(!yb){yb=ge[0];}return yb;};PCCViewer.ThumbnailControl.prototype.reflow=function(){if(!this.pw){return this;}var EF,DK,aR,bF,Om,Or,ci,yb=this.atQ();IPCC.R.forEach(this.ss,function(dJ){if(dJ.Be){dJ.aA.style.height=dJ.tj.style.height='';dJ.aA.style.width=dJ.tj.style.width='';}});IPCC.R.forEach(this.ss,function(dJ){if(dJ.Be){EF=dJ.aA.offsetWidth;DK=dJ.aA.offsetHeight;ci=dJ.aw.atr();if(Math.abs(ci)===90||Math.abs(ci)===270){bF=dJ.aw.lN();aR=dJ.aw.mN();}else{aR=dJ.aw.lN();bF=dJ.aw.mN();}Om=aR/bF;Or=EF/DK;var kf,kp;if(Om<Or){kp=DK;kf=Math.floor(kp*aR/bF);}else{kf=EF;kp=Math.floor(kf*bF/aR);}dJ.kf=kf;dJ.kp=kp;}});IPCC.R.forEach(this.ss,function(dJ){if(dJ.Be&&dJ.aw){dJ.tj.style.height=dJ.kp+'px';dJ.tj.style.width=dJ.kf+'px';dJ.aw.Yo(IPCC.Web.UI.FitType.FullImage);dJ.aw.cg();}});if(yb){this.VV(yb);}this.Vm();return this;};PCCViewer.ThumbnailControl.prototype.destroy=function(){if(!this.pw){return this;}this.pw=pw.ajd;IPCC.R.forEach(this.ss,function(dJ){if(dJ.aw&&dJ.aw.dispose){dJ.aw.dispose();}});while(this.bg.firstChild){this.bg.removeChild(this.bg.firstChild);}this.on=this.off=this.trigger=aaw;this.lo={};};PCCViewer.ThumbnailControl.prototype.getVisiblePages=function(){if(!this.pw){return[];}var ge=this.NZ();return IPCC.R.map(ge,function(dJ){return dJ.ai+1;});};PCCViewer.ThumbnailControl.prototype.NZ=function NZ(){var Ha=this.bg.getBoundingClientRect(),vz;function abB(mK,RV){return(!(RV.top>=mK.bottom||RV.left>=mK.right||RV.bottom<=mK.top||RV.right<=mK.left));};return IPCC.R.filter(this.ss,function(dJ){vz=dJ.aA.getBoundingClientRect();return abB(Ha,vz);});};PCCViewer.ThumbnailControl.prototype.Vm=function(){var C=this,ge=C.NZ();IPCC.R.forEach(ge,function(dJ){if(!dJ.Be){dJ.aw=C.kj(dJ);dJ.Be=true;}});return this;};PCCViewer.ThumbnailControl.prototype.YV=function YV(aA){var PO={},C=this;function axg(cV,NL,uw){if(PO[cV]){clearTimeout(PO[cV]);PO[cV]=undefined;}PO[cV]=setTimeout(NL,uw||0);};IPCC.Web.UI.aT.addHandler(aA,'scroll',function(ev){axg('scroll',function(){C.Vm();},300);});};PCCViewer.ThumbnailControl.prototype.kj=function(dJ,ou){var C=this;ou=ou||aaw;var bj={documentIdentifier:C.aa.documentID,pageNumber:dJ.ai,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:C.aa.imageHandlerUrl,encryption:C.aa.encryption,handleTouchEvents:false};var aw=IPCC.initializePageViewPlugin(dJ.tj,bj);aw.set_debug(C._debug);aw.set_mouseTool(IPCC.Web.UI.MouseTool.None);var AL=false;function IX(){ou();};aw.add_pageOpened(function(){C.aba(dJ);});aw.add_pageDisplayed(function(){if(!AL){IX();}});aw.add_textPageReady(function(){if(AL){aw.cg();IX();}});aw.add_pageOpenFailed(function(){});aw.add_textExtractionFailed(function(){});bj.artPage=C.cw.bv.gJ(C.cw.cl.getPage(dJ.ai));bj.artPage.EZ(function(F){if(F.get_type()===608){AL=true;}});aw.aAs(bj);aw.set_mouseTool(IPCC.Web.UI.MouseTool.None);return aw;};PCCViewer.ThumbnailControl.prototype.aba=function(dJ){var C=this;var HB=C.cw.bv.Xr(dJ.ai);var ci=dJ.ci;var adB=ci;if(HB!==dJ.ci){adB=HB-ci;}var aw=dJ.aw,kk=dJ.tj,bF,aR;kk.style.height='';kk.style.width='';if(Math.abs(HB)===90||Math.abs(HB)===270){bF=aw.lN();aR=aw.mN();}else{bF=aw.mN();aR=aw.lN();}var EF=kk.offsetWidth,DK=kk.offsetHeight;if(dJ.ci!==HB){aw.rotate(adB);dJ.ci=HB;}var Om=aR/bF,Or=EF/DK;var kf,kp;if(Om<Or){kp=DK;kf=Math.floor(kp*aR/bF);}else{kf=EF;kp=Math.floor(kf*bF/aR);}kk.style.height=kp+'px';kk.style.width=kf+'px';};})(PCCViewer||{});(function(PCCViewer){PCCViewer.ConversionRequest=function(aa){this.qz="";this.eK="";this.mz=0;this.hX="";this.fY=false;this.pN=false;this.aa=aa;this.xK=null;this.Hf=null;this.gb=undefined;this.aZ=PCCViewer.Deferred();this.dQ=this.aZ.getPromise();this.then=this.dQ.then;PCCViewer.EventEmitter.extend(this);};PCCViewer.ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};PCCViewer.ConversionRequest.prototype.cancel=function(){var C=this;this.pN=true;this.hX="User Cancelled";setTimeout(function(){C.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});C.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});C.aZ.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};PCCViewer.ConversionRequest.prototype.getProgress=function(){return this.mz;};PCCViewer.ConversionRequest.prototype.getWorkerID=function(){return this.qz;};PCCViewer.ConversionRequest.prototype.getOptions=function(){return this.aa;};PCCViewer.ConversionRequest.prototype.getErrorCode=function(){return this.hX;};PCCViewer.ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.xK;};PCCViewer.ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.Hf){return this.Hf.slice();}return null;};PCCViewer.ConversionRequest.prototype.OA=function(gb){this.gb=gb;};PCCViewer.ConversionRequest.prototype.Fd=function(){var C=this;C.fY=true;C.aCf().then(function onResolve(pZ){C.qz=pZ.processId;C.mz=pZ.percentComplete;C.eK=pZ.state;C.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});C.aAb(pZ).then(function onResolve(arH){C.fY=false;C.Hf=[];if(C.aa.Ck>1){for(var G=0;G<C.azu;G++){var xK=C.gb.aa.imageHandlerUrl+'/v2/viewingSessions/'+C.gb.aa.documentID+'/contentConverters/'+C.qz+'/results/'+G+'/file?ContentDispositionFilename='+encodeURIComponent(C.aa.filename);if(pZ.affinityToken){C.xK+="&affinityToken="+encodeURIComponent(pZ.affinityToken);}C.Hf.push(xK);}C.aZ.resolve(C.Hf);}else{C.xK=C.gb.aa.imageHandlerUrl+'/WorkFile/'+arH+"?ContentDispositionFilename="+encodeURIComponent(C.aa.filename);C.Hf.push(C.xK);if(pZ.affinityToken){C.xK+="&affinityToken="+encodeURIComponent(pZ.affinityToken);}C.aZ.resolve(C.xK);}C.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){C.fY=false;C.aZ.reject(reason);C.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){C.fY=false;C.aZ.reject(reason);C.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};PCCViewer.ConversionRequest.prototype.aCf=function(){var dk,nC=PCCViewer.Deferred();var Zf;if(this.aa.Ck>1){dk=this.gb.aa.imageHandlerUrl+'/v2/viewingSessions/'+this.gb.aa.documentID+'/contentConverters/';Zf={url:dk,method:'POST',headers:{"Content-Type":"application/json"}};}else{dk=this.gb.aa.imageHandlerUrl+'/contentConverters/';Zf={url:dk,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.gb.aa.documentID})};}PCCViewer.Ajax.es(Zf).then(function fe(ao){var ap=JSON.parse(ao.responseText);nC.resolve(ap);},function fg(ap){nC.reject(ap.error);});return nC.getPromise();};PCCViewer.ConversionRequest.prototype.aAb=function(pZ){var dk,nC=PCCViewer.Deferred(),C=this,iL;if(C.aa.Ck>1){dk=this.gb.aa.imageHandlerUrl+'/v2/viewingSessions/'+this.gb.aa.documentID+'/contentConverters/'+pZ.processId;}else{dk=this.gb.aa.imageHandlerUrl+'/contentConverters/'+pZ.processId;}if(pZ.affinityToken){iL={"Accusoft-Affinity-Token":pZ.affinityToken};}(function poll(){setTimeout(function(){PCCViewer.Ajax.es({method:'GET',url:dk,headers:iL}).then(function fe(ao){var ap=JSON.parse(ao.responseText);C.qz=ap.processId;C.mz=ap.percentComplete;C.eK=ap.state;if(C.aa.Ck>1){C.azu=ap.output.results.length;}C.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:C.mz});if(ap.percentComplete===100){nC.resolve(ap.output.results[0].fileId);}else{poll();}},function fg(ap){nC.reject(ap.error);});},3000);})();return nC.getPromise();};if(Object.defineProperties){Object.defineProperties(PCCViewer.ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}})(PCCViewer||{});;(function(PCCViewer){PCCViewer.ew={copyRectangle:function(K){return{x:K.x,y:K.y,width:K.width,height:K.height};},Common:function(bj,cC){var bF;var aR;if(bj.page){bF=bj.page.get_pageHeight();aR=bj.page.get_pageWidth();}else{bF=null;aR=null;}var aY=bj.mark.getPageNumber();var ah={uid:bj.mark.getUid(),interactionMode:bj.mark.getInteractionMode(),pageNumber:aY,type:bj.mark.getType(),creationDateTime:IPCC.R.AS(bj.mark.aJ.anu()),modificationDateTime:IPCC.R.AS(bj.mark.aJ.amy()),data:PCCViewer.ew.Data(bj.mark),conversation:PCCViewer.ew.Conversation(bj.mark.getConversation())};function Cs(aP){return{x:aP.x,y:aP.y};};function awu(){var Hg=IPCC.R.map([].concat(bj.mark.aJ,bj.mark.bY),function(aJ){if(aR!==null){return{pageNumber:aJ.ai+1,pageData:{width:aR,height:bF},startIndex:aJ.get_startIndex(),textLength:aJ.get_textLength(),lines:IPCC.R.map(aJ.bk,function(aK){if(aK.get_rectangle){return PCCViewer.ew.copyRectangle(aK.get_rectangle());}else{return PCCViewer.ew.copyRectangle(aK);}})};}else{return{pageNumber:aJ.ai+1,startIndex:aJ.get_startIndex(),textLength:aJ.get_textLength(),lines:IPCC.R.map(aJ.bk,function(aK){if(aK.get_rectangle){return PCCViewer.ew.copyRectangle(aK.get_rectangle());}else{return PCCViewer.ew.copyRectangle(aK);}})};}});ah.lineGroups=Hg;};function afo(){if(bj.mark.getRectangle){ah.rectangle=PCCViewer.ew.copyRectangle(bj.mark.getRectangle());if(aR!==null){ah.pageData={width:aR,height:bF};}}if(bj.mark.getStartPoint){ah.startPoint=Cs(bj.mark.getStartPoint());if(aR!==null){ah.pageData=ah.pageData||{width:aR,height:bF};}}if(bj.mark.getEndPoint){ah.endPoint=Cs(bj.mark.getEndPoint());if(aR!==null){ah.pageData=ah.pageData||{width:aR,height:bF};}}if(bj.mark.getPoints){var aX=bj.mark.getPoints();ah.points=IPCC.R.map(aX,Cs);if(aR!==null){ah.pageData={width:aR,height:bF};}}if(bj.mark.aJ.bk){awu();}};if(aR!==undefined&&bF!==undefined&&aR!==0&&bF!==0){afo();cC(undefined,ah);}else{bj.vc.requestPageAttributes(aY).then(function aIz(afQ){bF=afQ.height;aR=afQ.width;afo();cC(undefined,ah);},function aEP(fz){cC(fz);});}},Data:function(ah){return IPCC.R.reduce(ah.getDataKeys(),function(fA,aq){fA[aq]=ah.getData(aq);return fA;},{});},Comment:function(cU){return{text:cU.getText(),data:PCCViewer.ew.Data(cU),creationDateTime:IPCC.R.AS(cU.getCreationTime())};},Conversation:function(dw){return{comments:IPCC.R.map(dw.getComments(),function(cU){return PCCViewer.ew.Comment(cU);}),data:PCCViewer.ew.Data(dw)};},EllipseAnnotation:function(bj,cC){PCCViewer.ew.RectangleAnnotation(bj,cC);},FreehandAnnotation:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}ah=IPCC.R.extend(ah,{color:bj.mark.getColor(),opacity:bj.mark.getOpacity(),path:bj.mark.getPath(),thickness:bj.mark.getThickness()});cC(undefined,ah);});},FreehandSignature:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}ah=IPCC.R.extend(ah,{color:bj.mark.getColor(),path:bj.mark.getPath(),thickness:bj.mark.getThickness()});cC(undefined,ah);});},HighlightAnnotation:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}var cG=bj.mark.getPosition();ah=IPCC.R.extend(ah,{fillColor:bj.mark.getFillColor(),textLength:cG.length,startIndex:cG.startIndex,selectedText:bj.mark.getText()});cC(undefined,ah);});},ImageStampAnnotation:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}var bK=bj.mark.getImage();ah=IPCC.R.extend(ah,{imageDataUrl:bK.dataUrl,imageId:bK.id});cC(undefined,ah);});},ImageStampRedaction:function(bj,cC){PCCViewer.ew.ImageStampAnnotation(bj,cC);},LineAnnotation:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}ah=IPCC.R.extend(ah,{color:bj.mark.getColor(),endHeadType:bj.mark.getEndHeadType(),opacity:bj.mark.getOpacity(),thickness:bj.mark.getThickness()});cC(undefined,ah);});},PolylineAnnotation:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}ah=IPCC.R.extend(ah,{color:bj.mark.getColor(),opacity:bj.mark.getOpacity(),thickness:bj.mark.getThickness()});cC(undefined,ah);});},RectangleAnnotation:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}ah=IPCC.R.extend(ah,{borderColor:bj.mark.getBorderColor(),borderThickness:bj.mark.getBorderThickness(),fillColor:bj.mark.getFillColor(),opacity:bj.mark.getOpacity()});cC(undefined,ah);});},RectangleRedaction:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}ah=IPCC.R.extend(ah,{reason:bj.mark.getReason(),fillColor:bj.mark.getFillColor(),borderColor:bj.mark.getBorderColor(),borderThickness:bj.mark.getBorderThickness(),fontColor:bj.mark.getFontColor()});cC(undefined,ah);});},StampAnnotation:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}ah=IPCC.R.extend(ah,{label:bj.mark.getLabel(),color:bj.mark.getColor()});cC(undefined,ah);});},StampRedaction:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}ah=IPCC.R.extend(ah,{label:bj.mark.getLabel()});cC(undefined,ah);});},StrikethroughAnnotation:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}var cG=bj.mark.getPosition();ah=IPCC.R.extend(ah,{color:bj.mark.getColor(),thickness:bj.mark.getThickness(),textLength:cG.length,startIndex:cG.startIndex,selectedText:bj.mark.getText()});cC(undefined,ah);});},TextAnnotation:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}ah=IPCC.R.extend(ah,{borderColor:bj.mark.getBorderColor(),borderThickness:bj.mark.getBorderThickness(),fillColor:bj.mark.getFillColor(),fontColor:bj.mark.getFontColor(),fontName:bj.mark.getFontName(),fontSize:bj.mark.getFontSize(),fontStyle:bj.mark.getFontStyle(),horizontalAlignment:bj.mark.getHorizontalAlignment(),opacity:bj.mark.getOpacity(),text:bj.mark.getText()});cC(undefined,ah);});},TextHyperlinkAnnotation:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}var cG=bj.mark.getPosition();ah=IPCC.R.extend(ah,{href:bj.mark.getHref(),fillColor:bj.mark.getFillColor(),textLength:cG.length,startIndex:cG.startIndex,selectedText:bj.mark.getText()});cC(undefined,ah);});},TextInputSignature:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}ah=IPCC.R.extend(ah,{fontColor:bj.mark.getFontColor(),fontName:bj.mark.getFontName(),text:bj.mark.getText()});cC(undefined,ah);});},TextRedaction:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}ah=IPCC.R.extend(ah,{fontColor:bj.mark.getFontColor(),fontName:bj.mark.getFontName(),fontSize:bj.mark.getFontSize(),text:bj.mark.getText()});cC(undefined,ah);});},TextSelectionRedaction:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}var cG=bj.mark.getPosition();ah=IPCC.R.extend(ah,{reason:bj.mark.getReason(),textLength:cG.length,startIndex:cG.startIndex,selectedText:bj.mark.getText()});cC(undefined,ah);});},TextSignature:function(bj,cC){PCCViewer.ew.Common(bj,function(cj,ah){if(cj){cC(cj);return;}ah=IPCC.R.extend(ah,{color:bj.mark.getColor(),fontName:bj.mark.getFontName(),text:bj.mark.getText()});cC(undefined,ah);});},TransparentRectangleRedaction:function(bj,cC){PCCViewer.ew.Common(bj,cC);}};PCCViewer.ViewerControl.prototype.serializeMarks=function serializeMarks(marks){var aZ=PCCViewer.Deferred();var dQ=aZ.getPromise();var C=this,ac,aEe=false;function adO(fz){setTimeout(function(){aZ.reject(fz);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){ac=marks;}else if(marks){ac=[marks];aEe=true;}else{adO(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return dQ;}var Sx;ac=IPCC.R.filter(ac,function(lK,fk){var alv=lK instanceof PCCViewer.Mark&&lK===C.getMarkById(lK.getId())&& ! !PCCViewer.ew[lK.getType()];if(!alv&& !Sx){Sx=fk;}return alv;});if(Sx){adO(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+Sx+' because it is not a valid mark or a mark known to ViewerControl'));return dQ;}var Uj=C.aU.get_pages();var cI=IPCC.R.reduce(ac,function(fA,lK){var aY=lK.getPageNumber();if(fA[aY]){return fA;}fA[aY]=Uj.getPage(aY-1);return fA;},{});function avz(F,bq,azg){return function(ou){PCCViewer.ew[F.getType()]({mark:F,page:bq,vc:C},function(cj,df){if(!cj){azg(df);ou();}else{aZ.reject(cj);}});};};var uD=[];var auS=IPCC.R.map(ac,function(lK,fk){return avz(lK,cI[lK.getPageNumber()],function(df){uD[fk]=df;});});IPCC.R.abD(auS,function(){aZ.resolve(uD);});return dQ;};})(PCCViewer||{});;(function(PCCViewer){PCCViewer.fD={calculateRectangle:function(ah,aa){if(ah.pageData===undefined||(ah.pageData.width===aa.aR&&ah.pageData.height===aa.bF)){return ah.rectangle;}else{var lH=aa.aR/ah.pageData.width;return{x:ah.rectangle.x*lH,y:ah.rectangle.y*lH,width:ah.rectangle.width*lH,height:ah.rectangle.height*lH};}},setRectangle:function(F,ah,aa){F.setRectangle(PCCViewer.fD.calculateRectangle(ah,aa));},setLines:function(F,ah,aa){var adq,pB,ea=ah.textLength+ah.startIndex-1,ck=ah.selectedText,cG={startIndex:ah.startIndex,length:ah.textLength};pB=[];var ai,AZ;adq=IPCC.R.reduce(ah.lineGroups,function(fA,pl){ai=pl.pageNumber-1;fA[ai]=IPCC.R.map(pl.lines,function(iG){if(pl.pageData!==undefined){AZ=PCCViewer.fD.calculateRectangle({rectangle:iG,pageData:pl.pageData},aa);return new IPCC.Web.UI.Rectangle(AZ.x,AZ.y,AZ.width,AZ.height);}else{return new IPCC.Web.UI.Rectangle(iG.x,iG.y,iG.width,iG.height);}});pB.push({pageIndex:ai,endIndex:pl.startIndex+pl.textLength-1});return fA;},{});F.IH(pB,ea,ck,cG,adq);},postCreate:function(F,ah){F.aJ.adl(new Date(IPCC.R.JA(ah.creationDateTime)));F.aJ.ST(new Date(IPCC.R.JA(ah.modificationDateTime)));return F;},calculatePoint:function(aP,JW,aa){if(JW===undefined||(JW.width===aa.aR&&JW.height===aa.bF)){return aP;}else{return{x:aP.x*aa.aR/JW.width,y:aP.y*aa.bF/JW.height};}},Data:function(ah,df){IPCC.R.forEach(df,function(dA,aq){ah.setData(aq,dA);});},Comment:function(dw,cU){var ot=dw.addComment(cU.text);ot.setCreationTime(cU.creationDateTime);PCCViewer.fD.Data(ot,cU.data);},Conversation:function(F,dw){var anU=F.getConversation();IPCC.R.forEach(dw.comments?dw.comments:[],function(ot){PCCViewer.fD.Comment(anU,ot);});PCCViewer.fD.Data(anU,dw.data);},Common:function(ah,aa){if(ah.uid===undefined){ah.uid=IPCC.R.aju();}var F=this.aef(ah.pageNumber,ah.type,{uid:ah.uid});if(ah.rectangle&&F.setRectangle){PCCViewer.fD.setRectangle(F,ah,aa);}if(ah.startPoint&&F.setStartPoint){F.setStartPoint(PCCViewer.fD.calculatePoint(ah.startPoint,ah.pageData,aa));}if(ah.endPoint&&F.setEndPoint){F.setEndPoint(PCCViewer.fD.calculatePoint(ah.endPoint,ah.pageData,aa));}if(ah.points&&F.setPoints){F.setPoints(IPCC.R.map(ah.points,function(aP){return PCCViewer.fD.calculatePoint(aP,ah.pageData,aa);}));}if(ah.lineGroups&&F.IH){F.bZ=ah.uid;PCCViewer.fD.setLines(F,ah,aa);}if(ah.interactionMode){F.setInteractionMode(ah.interactionMode);}PCCViewer.fD.Data(F,ah.data);PCCViewer.fD.Conversation(F,ah.conversation);return F;},EllipseAnnotation:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.borderColor){F.setBorderColor(ah.borderColor);}if(ah.borderThickness){F.setBorderThickness(ah.borderThickness);}if(ah.fillColor){F.setFillColor(ah.fillColor);}if(ah.opacity){F.setOpacity(ah.opacity);}return PCCViewer.fD.postCreate(F,ah);},FreehandAnnotation:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.color){F.setColor(ah.color);}if(ah.opacity){F.setOpacity(ah.opacity);}if(ah.path){F.setPath(ah.path);}if(ah.thickness){F.setThickness(ah.thickness);}return PCCViewer.fD.postCreate(F,ah);},FreehandSignature:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.color){F.setColor(ah.color);}if(ah.path){F.setPath(ah.path);}if(ah.thickness){F.setThickness(ah.thickness);}return PCCViewer.fD.postCreate(F,ah);},HighlightAnnotation:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.fillColor){F.setFillColor(ah.fillColor);}return PCCViewer.fD.postCreate(F,ah);},ImageStampAnnotation:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.imageDataUrl&&ah.imageId){F.setImage({id:ah.imageId,dataUrl:ah.imageDataUrl});}return PCCViewer.fD.postCreate(F,ah);},ImageStampRedaction:function(ah,aa){return PCCViewer.fD.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.color){F.setColor(ah.color);}if(ah.endHeadType){F.setEndHeadType(ah.endHeadType);}if(ah.opacity){F.setOpacity(ah.opacity);}if(ah.thickness){F.setThickness(ah.thickness);}return PCCViewer.fD.postCreate(F,ah);},PolylineAnnotation:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.color){F.setColor(ah.color);}if(ah.opacity){F.setOpacity(ah.opacity);}if(ah.thickness){F.setThickness(ah.thickness);}return PCCViewer.fD.postCreate(F,ah);},RectangleAnnotation:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.borderColor){F.setBorderColor(ah.borderColor);}if(ah.borderThickness){F.setBorderThickness(ah.borderThickness);}if(ah.fillColor){F.setFillColor(ah.fillColor);}if(ah.opacity){F.setOpacity(ah.opacity);}return PCCViewer.fD.postCreate(F,ah);},RectangleRedaction:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.reason){F.setReason(ah.reason);}if(ah.fillColor){F.setFillColor(ah.fillColor);}if(ah.borderColor){F.setBorderColor(ah.borderColor);}if(ah.borderThickness){F.setBorderThickness(ah.borderThickness);}if(ah.fontColor){F.setFontColor(ah.fontColor);}return PCCViewer.fD.postCreate(F,ah);},StampAnnotation:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.label){F.setLabel(ah.label);}if(ah.color){F.setColor(ah.color);}return PCCViewer.fD.postCreate(F,ah);},StampRedaction:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.label){F.setLabel(ah.label);}return PCCViewer.fD.postCreate(F,ah);},StrikethroughAnnotation:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.color){F.setColor(ah.color);}if(ah.thickness){F.setThickness(ah.thickness);}return PCCViewer.fD.postCreate(F,ah);},TextAnnotation:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.borderColor){F.setBorderColor(ah.borderColor);}if(ah.borderThickness){F.setBorderThickness(ah.borderThickness);}if(ah.fillColor){F.setFillColor(ah.fillColor);}if(ah.fontColor){F.setFontColor(ah.fontColor);}if(ah.fontName){F.setFontName(ah.fontName);}if(ah.fontSize){F.setFontSize(ah.fontSize);}if(ah.fontStyle){F.setFontStyle(ah.fontStyle);}if(ah.horizontalAlignment){F.setHorizontalAlignment(ah.horizontalAlignment);}if(ah.opacity){F.setOpacity(ah.opacity);}if(ah.text){F.setText(ah.text);}return PCCViewer.fD.postCreate(F,ah);},TextHyperlinkAnnotation:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.fillColor){F.setFillColor(ah.fillColor);}if(ah.href){F.setHref(ah.href);}return PCCViewer.fD.postCreate(F,ah);},TextInputSignature:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.fontColor){F.setFontColor(ah.fontColor);}if(ah.fontName){F.setFontName(ah.fontName);}if(ah.text){F.setText(ah.text);}return PCCViewer.fD.postCreate(F,ah);},TextRedaction:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.fontColor){F.setFontColor(ah.fontColor);}if(ah.fontName){F.setFontName(ah.fontName);}if(ah.fontSize){F.setFontSize(ah.fontSize);}if(ah.text){F.setText(ah.text);}return PCCViewer.fD.postCreate(F,ah);},TextSelectionRedaction:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.reason){F.setReason(ah.reason);}return PCCViewer.fD.postCreate(F,ah);},TextSignature:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);if(ah.color){F.setColor(ah.color);}if(ah.fontName){F.setFontName(ah.fontName);}if(ah.text){F.setText(ah.text);}return PCCViewer.fD.postCreate(F,ah);},TransparentRectangleRedaction:function(ah,aa){var F=PCCViewer.fD.Common.apply(this,arguments);return PCCViewer.fD.postCreate(F,ah);}};PCCViewer.ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.ee===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var C=this;var fG=C.getPageCount();var fw;if(typeof values==='string'){try{fw=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{fw=values;}if(fw.constructor!==Array){fw=[fw];}function WQ(fz,fk){throw new Error('Cannot serialize mark (at index '+fk+') because of '+fz);};var abc=IPCC.R.map(C.getAllMarks(),function(F){return F.getUid();});IPCC.R.forEach(fw,function validateObject(ah,fk){if(!ah.pageNumber||isNaN(+ah.pageNumber)||ah.pageNumber<1||ah.pageNumber>fG){WQ('unknown page number '+ah.pageNumber,fk);}if(!PCCViewer.Mark.Type[ah.type]){WQ('unknown type '+ah.type,fk);}if(IPCC.R.contains(abc,ah.uid)){WQ('uid '+ah.uid+' is being duplicated or already exists',fk);}else if(ah.uid!==undefined){abc.push(ah.uid);}});if(fw.length===0){return[];}var cI=C.aU.get_pages();var ans=cI.kj(0);var ayu=[];cI.mq(function(bq){ayu.push(C.bv.gJ(bq));});var ac=IPCC.R.map(fw,function(ah){var bq=cI.kj(ah.pageNumber-1);var ana=bq.get_pageWidth();var aR=ana||ans.get_pageWidth();var bF=ana?bq.get_pageHeight():ans.get_pageHeight();var F=PCCViewer.fD[ah.type].call(C,ah,{aR:aR,bF:bF});if(ah.uid===undefined){abc.push(F.getUid());}bq.EK=true;return F;});return ac;};})(PCCViewer||{});(function(PCCViewer){PCCViewer.LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.yK=layerRecordIds;this.cw=viewerControl;this.hX="";this.fY=false;this.pN=false;this.mz=0;this.aZ=PCCViewer.Deferred();this.dQ=this.aZ.getPromise();this.then=this.dQ.then;this.ue=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};PCCViewer.LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};PCCViewer.LoadMarkupLayersRequest.prototype.getProgress=function(){return this.mz;};PCCViewer.LoadMarkupLayersRequest.prototype.cancel=function(){var C=this;this.pN=true;this.hX="User Cancelled";setTimeout(function(){C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});C.aZ.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};PCCViewer.LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.cw;};PCCViewer.LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.hX;};PCCViewer.LoadMarkupLayersRequest.prototype.Fd=function(){var C=this,abf=1,WX,aag=[];var ue=this.ue;var tZ=function(ald){function fe(ao){var sG=JSON.parse(ao.responseText),MO=C.aBG(sG),hA,uD=[],ac,ie=[],ajv={},NM=0,PM;for(var nv in MO.ie){if(MO.ie.hasOwnProperty(nv)){ie=ie.concat(MO.ie[nv]);}}hA=new PCCViewer.MarkupLayer(C.cw,ie);hA.aHd={dk:dk};IPCC.R.forEach(MO.uD,function(aeI){uD.push(aeI);NM++;ajv[aeI.uid]=true;});if(sG.name){hA.setName(sG.name);}if(sG.originalXmlName){hA.setOriginalXmlName(sG.originalXmlName);}if(NM>0){PM=function(ev){if(ajv[ev.mark.getUid()]){NM--;}if(!NM){C.cw.off(PCCViewer.EventType.MarkCreated,PM);C.cw.uv=true;}};C.cw.on(PCCViewer.EventType.MarkCreated,PM);C.cw.uv=false;try{ac=C.cw.deserializeMarks(uD);}catch(cj){C.fY=false;C.cw.off(PCCViewer.EventType.MarkCreated,PM);C.cw.uv=true;C.aZ.reject(new PCCViewer.Error('Error',cj.message));C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(ue){IPCC.R.forEach(ac,function(F){F.setVisible(false);});}hA.addMarks(ac);}hA.Vp=ald;for(var yB in sG.data){if(sG.data.hasOwnProperty(yB)){hA.setData(yB,sG.data[yB]);}}C.cw.getMarkupLayerCollection().addItem(hA);aag.push(hA);abf--;C.mz=(C.yK.length-abf)/C.yK.length;C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:C.mz});if(C.mz===1){C.fY=false;C.aZ.resolve(aag);C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:aag});}};function fg(ap){C.fY=false;C.aZ.reject(ap.error);C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var dk=WX+ald;PCCViewer.Ajax.es({url:dk,method:'GET'}).then(fe,fg);};if(!(/^[\x00-\x7F]*$/.test(this.cw.aU.get_documentIdentifier()))){WX=this.cw.aa.imageHandlerUrl+'/MarkupLayers/e'+this.cw.aa.documentID+'/';}else{WX=this.cw.aa.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.cw.aa.documentID)+'/';}if(this.pN){return;}if(Object.prototype.toString.call(this.yK)==='[object Array]'&&this.yK.length>0){abf=this.yK.length;this.fY=true;IPCC.R.forEach(this.yK,tZ,this);}else if(typeof this.yK==="string"){this.fY=true;tZ(this.yK);}else{this.fY=false;this.aZ.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};PCCViewer.LoadMarkupLayersRequest.prototype.aBG=function(sG){var Ml={},QW={};IPCC.R.forEach(sG.marks,function(Wc){Wc.conversation.comments=[];Ml[Wc.uid]=Wc;},this);IPCC.R.forEach(sG.comments,function(zi){if(Ml[zi.markUid]){Ml[zi.markUid].conversation.comments.push(zi);}else if(QW[zi.markUid]){QW[zi.markUid].push(zi);}else{QW[zi.markUid]=[zi];}},this);return{uD:Ml,ie:QW};};if(Object.defineProperties){Object.defineProperties(PCCViewer.LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}})(PCCViewer||{});(function(PCCViewer){PCCViewer.MarkupLayer=function(viewerControl,markReferences){var C=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.ct=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.cw=viewerControl;this.cV=undefined;this.Vp=undefined;this.aip=undefined;this.ac=[];this.ie={};this.oj=PCCViewer.Mark.InteractionMode.Full;if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.R.forEach(markReferences,function(sQ){var OZ=sQ.markUid;sQ.markupLayer=C;if(C.ie[OZ]){C.ie[OZ]=C.ie[OZ].concat(sQ);}else{C.ie[OZ]=[sQ];}});}var pK={};PCCViewer.EventEmitter.extend(pK);pK.QI=function(FY,dN){var C=this;return setTimeout(function(){C.trigger(FY,dN);},0);};PCCViewer.EventEmitter.extend(this);this.df=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.FZ=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){C.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};PCCViewer.MarkupLayer.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};PCCViewer.MarkupLayer.prototype.getViewerControl=function(){return this.cw;};PCCViewer.MarkupLayer.prototype.addMarks=function(marks){var C=this,axu=function(cU){cU.jE=C;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var G=0;G<marks.length;G++){if(!(marks[G]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[G].getId())){marks.splice(G,1);continue;}IPCC.R.forEach(marks[G].getConversation().getComments(),axu);}if(marks.length){this.ac=this.ac.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};PCCViewer.MarkupLayer.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var G=0;G<this.ac.length;G++){for(var bB=0;bB<marks.length;bB++){if(this.ac[G].getUid()===marks[bB].getUid()){this.ac.splice(G,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[bB]]});break;}}}};PCCViewer.MarkupLayer.prototype.getMarks=function(){var alw=[];IPCC.R.forEach(this.ac,function(F){alw.push(F);});return alw;};PCCViewer.MarkupLayer.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var G=0,agd=false,F;for(G;G<this.ac.length;G++){F=this.ac[G];if(F.getId()===markId){agd=true;break;}}return agd;};PCCViewer.MarkupLayer.prototype.getMarkReferences=function(){var ie=[];for(var nv in this.ie){if(this.ie.hasOwnProperty(nv)){ie=ie.concat(this.ie[nv]);}}return ie;};PCCViewer.MarkupLayer.prototype.hide=function(){var cw=this.cw;cw.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};PCCViewer.MarkupLayer.prototype.show=function(){var cw=this.cw;cw.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};PCCViewer.MarkupLayer.prototype.copyLayers=function(markupLayers){var cw=this.cw,C=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var ac=[];IPCC.R.forEach(markupLayers,function(jE){cw.getMarkupLayerCollection().getItem(jE.getId());ac=ac.concat(jE.getMarks());});var copiedMarks=cw.copyMarks(ac);this.addMarks(copiedMarks);IPCC.R.forEach(this.ac,function(F){IPCC.R.forEach(F.getConversation().getComments(),function(cU){cU.jE=C;});});return this;};PCCViewer.MarkupLayer.prototype.getId=function(){return this.ct;};PCCViewer.MarkupLayer.prototype.getName=function(){return this.cV;};PCCViewer.MarkupLayer.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.cV=name;return this;};PCCViewer.MarkupLayer.prototype.getRecordId=function(){return this.Vp;};PCCViewer.MarkupLayer.prototype.destroy=function(){this.cw.getMarkupLayerCollection().removeItem(this.ct);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};PCCViewer.MarkupLayer.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.oj=interactionMode;IPCC.R.forEach(this.ac,function(F){F.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};PCCViewer.MarkupLayer.prototype.getOriginalXmlName=function(){return this.aip;};PCCViewer.MarkupLayer.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.aip=name;return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.MarkupLayer.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}})(PCCViewer||{});(function(PCCViewer){PCCViewer.MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.cw=viewerControl;this.tO={};this.ac={};this.jG={};this.oc=0;PCCViewer.EventEmitter.extend(this);};PCCViewer.MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};PCCViewer.MarkupLayerCollection.prototype.getViewerControl=function(){return this.cw;};PCCViewer.MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.R.forEach(this.tO,iterator,thisArg);return this;};PCCViewer.MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.tO[layerId];};PCCViewer.MarkupLayerCollection.prototype.getCount=function(){return this.oc;};PCCViewer.MarkupLayerCollection.prototype.getAll=function(){var ajR=[],abt;for(abt in this.tO){if(this.tO.hasOwnProperty(abt)){ajR.push(this.tO[abt]);}}return ajR;};PCCViewer.MarkupLayerCollection.prototype.addItem=function(layer){var C=this,ie,abm=layer.ie,Ld=function(F,sQ){var cU=F.getConversation().addComment(sQ.text);cU.creationTime=new Date(sQ.creationDateTime);cU.jE=sQ.markupLayer;for(var yB in sQ.data){if(sQ.data.hasOwnProperty(yB)){cU.setData(yB,sQ.data[yB]);}}},aBj=function(aGB){Ld(C.ac[ya],aGB);},agj=function(F){var nv=F.getUid();C.ac[F.getUid()]=F;if(C.jG[nv]){IPCC.R.forEach(C.jG[nv],function(sl){Ld(F,sl);});delete C.jG[nv];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.tO[layer.getId()]=layer;for(var ya in abm){if(abm.hasOwnProperty(ya)){ie=abm[ya];if(C.ac[ya]){IPCC.R.forEach(ie,aBj);}else if(C.jG[ya]){C.jG[ya]=C.jG[ya].concat(ie);}else{C.jG[ya]=ie;}}}IPCC.R.forEach(layer.getMarks(),function(F){agj(F);});this.oc++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.R.forEach(ev.marks,function(F){agj(F);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var axF=ev.dR;IPCC.R.forEach(ev.marks,function(F){var nv=F.getUid();IPCC.R.forEach(C.ac[nv].getConversation().getComments(),function(Ja){if(axF.id!==Ja.jE.id){var sl={creationDateTime:IPCC.R.AS(Ja.creationTime),data:Ja.df.yT(),markUid:F.getUid(),markupLayer:Ja.jE,text:Ja.text};if(C.jG[nv]){C.jG[nv]=C.jG[nv].concat([sl]);}else{C.jG[nv]=[sl];}}});C.wj(F);});});return this;};PCCViewer.MarkupLayerCollection.prototype.wj=function(F){var Nu;IPCC.R.forEach(this.tO,function(hA){var akB=hA.hasMark(F.getId());Nu=(typeof Nu!=='undefined')? +akB^Nu: +akB;});if(Nu===0){delete this.ac[F.getUid()];}};PCCViewer.MarkupLayerCollection.prototype.removeItem=function(layerId){var hA=this.tO[layerId],C=this,aBi=function(sl,bC){if(sl.markupLayer.getId()===layerId){C.jG[ct].splice(bC);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.R.forEach(this.ac,function(F){var gm=F.getConversation().getComments();var QO=hA.hasMark(F.getId());IPCC.R.forEach(gm,function(cU){if(QO&&cU.jE.getId()!==layerId){var ahi={"markUid":F.getUid(),"markupLayer":cU.jE,"text":cU.getText(),"data":cU.df.df,"creationDateTime":IPCC.R.AS(cU.getCreationTime())};if(C.jG[F.getUid()]){C.jG[F.getUid()].push(ahi);}else{C.jG[F.getUid()]=[ahi];}F.getConversation().deleteComments(cU);}else if(QO&&cU.jE.getId()===layerId){F.getConversation().deleteComments(cU);}else if(!QO&&cU.jE.getId()===layerId){F.getConversation().deleteComments(cU);}});if(QO&&C.ac[F.getUid()]){C.wj(F);}});for(var ct in this.jG){if(this.jG.hasOwnProperty(ct)){IPCC.R.forEach(this.jG[ct],aBi);}}delete this.tO[layerId];this.oc--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};PCCViewer.MarkupLayerCollection.prototype.removeAll=function(){this.tO={};this.oc=0;return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}})(PCCViewer||{});(function(undefined){PCCViewer.PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(TU){this.TU=TU;};PCCViewer.PasswordProtectedDocumentLoader.prototype.load=function(password){return this.TU(password);};})();